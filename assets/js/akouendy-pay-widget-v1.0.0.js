(()=>{"use strict";var e,d={},p={};function n(e){var a=p[e];if(void 0!==a)return a.exports;var r=p[e]={id:e,loaded:!1,exports:{}};return d[e](r,r.exports,n),r.loaded=!0,r.exports}n.m=d,e=[],n.O=(a,r,l,o)=>{if(!r){var u=1/0;for(t=0;t<e.length;t++){for(var[r,l,o]=e[t],c=!0,f=0;f<r.length;f++)(!1&o||u>=o)&&Object.keys(n.O).every(v=>n.O[v](r[f]))?r.splice(f--,1):(c=!1,o<u&&(u=o));if(c){e.splice(t--,1);var s=l();void 0!==s&&(a=s)}}return a}o=o||0;for(var t=e.length;t>0&&e[t-1][2]>o;t--)e[t]=e[t-1];e[t]=[r,l,o]},n.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return n.d(a,{a}),a},n.d=(e,a)=>{for(var r in a)n.o(a,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})},n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={666:0};n.O.j=l=>0===e[l];var a=(l,o)=>{var f,s,[t,u,c]=o,i=0;if(t.some(_=>0!==e[_])){for(f in u)n.o(u,f)&&(n.m[f]=u[f]);if(c)var b=c(n)}for(l&&l(o);i<t.length;i++)n.o(e,s=t[i])&&e[s]&&e[s][0](),e[s]=0;return n.O(b)},r=self.webpackChunkakouendy_pay_webcomponent=self.webpackChunkakouendy_pay_webcomponent||[];r.forEach(a.bind(null,0)),r.push=a.bind(null,r.push.bind(r))})()})();
"use strict";(self.webpackChunkakouendy_pay_webcomponent=self.webpackChunkakouendy_pay_webcomponent||[]).push([[429],{7435:(ie,Ee,de)=>{de(8583)},8583:()=>{!function(e){const n=e.performance;function i(M){n&&n.mark&&n.mark(M)}function o(M,E){n&&n.measure&&n.measure(M,E)}i("Zone");const c=e.__Zone_symbol_prefix||"__zone_symbol__";function a(M){return c+M}const y=!0===e[a("forceDuplicateZoneCheck")];if(e.Zone){if(y||"function"!=typeof e.Zone.__symbol__)throw new Error("Zone already loaded.");return e.Zone}let d=(()=>{class M{constructor(t,r){this._parent=t,this._name=r?r.name||"unnamed":"<root>",this._properties=r&&r.properties||{},this._zoneDelegate=new v(this,this._parent&&this._parent._zoneDelegate,r)}static assertZonePatched(){if(e.Promise!==oe.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let t=M.current;for(;t.parent;)t=t.parent;return t}static get current(){return U.zone}static get currentTask(){return re}static __load_patch(t,r,k=!1){if(oe.hasOwnProperty(t)){if(!k&&y)throw Error("Already loaded patch: "+t)}else if(!e["__Zone_disable_"+t]){const C="Zone:"+t;i(C),oe[t]=r(e,M,z),o(C,C)}}get parent(){return this._parent}get name(){return this._name}get(t){const r=this.getZoneWith(t);if(r)return r._properties[t]}getZoneWith(t){let r=this;for(;r;){if(r._properties.hasOwnProperty(t))return r;r=r._parent}return null}fork(t){if(!t)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,t)}wrap(t,r){if("function"!=typeof t)throw new Error("Expecting function got: "+t);const k=this._zoneDelegate.intercept(this,t,r),C=this;return function(){return C.runGuarded(k,this,arguments,r)}}run(t,r,k,C){U={parent:U,zone:this};try{return this._zoneDelegate.invoke(this,t,r,k,C)}finally{U=U.parent}}runGuarded(t,r=null,k,C){U={parent:U,zone:this};try{try{return this._zoneDelegate.invoke(this,t,r,k,C)}catch($){if(this._zoneDelegate.handleError(this,$))throw $}}finally{U=U.parent}}runTask(t,r,k){if(t.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(t.zone||K).name+"; Execution: "+this.name+")");if(t.state===x&&(t.type===Q||t.type===w))return;const C=t.state!=p;C&&t._transitionTo(p,j),t.runCount++;const $=re;re=t,U={parent:U,zone:this};try{t.type==w&&t.data&&!t.data.isPeriodic&&(t.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,t,r,k)}catch(l){if(this._zoneDelegate.handleError(this,l))throw l}}finally{t.state!==x&&t.state!==h&&(t.type==Q||t.data&&t.data.isPeriodic?C&&t._transitionTo(j,p):(t.runCount=0,this._updateTaskCount(t,-1),C&&t._transitionTo(x,p,x))),U=U.parent,re=$}}scheduleTask(t){if(t.zone&&t.zone!==this){let k=this;for(;k;){if(k===t.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${t.zone.name}`);k=k.parent}}t._transitionTo(X,x);const r=[];t._zoneDelegates=r,t._zone=this;try{t=this._zoneDelegate.scheduleTask(this,t)}catch(k){throw t._transitionTo(h,X,x),this._zoneDelegate.handleError(this,k),k}return t._zoneDelegates===r&&this._updateTaskCount(t,1),t.state==X&&t._transitionTo(j,X),t}scheduleMicroTask(t,r,k,C){return this.scheduleTask(new m(I,t,r,k,C,void 0))}scheduleMacroTask(t,r,k,C,$){return this.scheduleTask(new m(w,t,r,k,C,$))}scheduleEventTask(t,r,k,C,$){return this.scheduleTask(new m(Q,t,r,k,C,$))}cancelTask(t){if(t.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(t.zone||K).name+"; Execution: "+this.name+")");t._transitionTo(G,j,p);try{this._zoneDelegate.cancelTask(this,t)}catch(r){throw t._transitionTo(h,G),this._zoneDelegate.handleError(this,r),r}return this._updateTaskCount(t,-1),t._transitionTo(x,G),t.runCount=0,t}_updateTaskCount(t,r){const k=t._zoneDelegates;-1==r&&(t._zoneDelegates=null);for(let C=0;C<k.length;C++)k[C]._updateTaskCount(t.type,r)}}return M.__symbol__=a,M})();const P={name:"",onHasTask:(M,E,t,r)=>M.hasTask(t,r),onScheduleTask:(M,E,t,r)=>M.scheduleTask(t,r),onInvokeTask:(M,E,t,r,k,C)=>M.invokeTask(t,r,k,C),onCancelTask:(M,E,t,r)=>M.cancelTask(t,r)};class v{constructor(E,t,r){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=E,this._parentDelegate=t,this._forkZS=r&&(r&&r.onFork?r:t._forkZS),this._forkDlgt=r&&(r.onFork?t:t._forkDlgt),this._forkCurrZone=r&&(r.onFork?this.zone:t._forkCurrZone),this._interceptZS=r&&(r.onIntercept?r:t._interceptZS),this._interceptDlgt=r&&(r.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=r&&(r.onIntercept?this.zone:t._interceptCurrZone),this._invokeZS=r&&(r.onInvoke?r:t._invokeZS),this._invokeDlgt=r&&(r.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=r&&(r.onInvoke?this.zone:t._invokeCurrZone),this._handleErrorZS=r&&(r.onHandleError?r:t._handleErrorZS),this._handleErrorDlgt=r&&(r.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=r&&(r.onHandleError?this.zone:t._handleErrorCurrZone),this._scheduleTaskZS=r&&(r.onScheduleTask?r:t._scheduleTaskZS),this._scheduleTaskDlgt=r&&(r.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=r&&(r.onScheduleTask?this.zone:t._scheduleTaskCurrZone),this._invokeTaskZS=r&&(r.onInvokeTask?r:t._invokeTaskZS),this._invokeTaskDlgt=r&&(r.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=r&&(r.onInvokeTask?this.zone:t._invokeTaskCurrZone),this._cancelTaskZS=r&&(r.onCancelTask?r:t._cancelTaskZS),this._cancelTaskDlgt=r&&(r.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=r&&(r.onCancelTask?this.zone:t._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const k=r&&r.onHasTask;(k||t&&t._hasTaskZS)&&(this._hasTaskZS=k?r:P,this._hasTaskDlgt=t,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=E,r.onScheduleTask||(this._scheduleTaskZS=P,this._scheduleTaskDlgt=t,this._scheduleTaskCurrZone=this.zone),r.onInvokeTask||(this._invokeTaskZS=P,this._invokeTaskDlgt=t,this._invokeTaskCurrZone=this.zone),r.onCancelTask||(this._cancelTaskZS=P,this._cancelTaskDlgt=t,this._cancelTaskCurrZone=this.zone))}fork(E,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,E,t):new d(E,t)}intercept(E,t,r){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,E,t,r):t}invoke(E,t,r,k,C){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,E,t,r,k,C):t.apply(r,k)}handleError(E,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,E,t)}scheduleTask(E,t){let r=t;if(this._scheduleTaskZS)this._hasTaskZS&&r._zoneDelegates.push(this._hasTaskDlgtOwner),r=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,E,t),r||(r=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=I)throw new Error("Task is missing scheduleFn.");R(t)}return r}invokeTask(E,t,r,k){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,E,t,r,k):t.callback.apply(r,k)}cancelTask(E,t){let r;if(this._cancelTaskZS)r=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,E,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");r=t.cancelFn(t)}return r}hasTask(E,t){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,E,t)}catch(r){this.handleError(E,r)}}_updateTaskCount(E,t){const r=this._taskCounts,k=r[E],C=r[E]=k+t;if(C<0)throw new Error("More tasks executed then were scheduled.");0!=k&&0!=C||this.hasTask(this.zone,{microTask:r.microTask>0,macroTask:r.macroTask>0,eventTask:r.eventTask>0,change:E})}}class m{constructor(E,t,r,k,C,$){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=E,this.source=t,this.data=k,this.scheduleFn=C,this.cancelFn=$,!r)throw new Error("callback is not defined");this.callback=r;const l=this;this.invoke=E===Q&&k&&k.useG?m.invokeTask:function(){return m.invokeTask.call(e,l,this,arguments)}}static invokeTask(E,t,r){E||(E=this),ee++;try{return E.runCount++,E.zone.runTask(E,t,r)}finally{1==ee&&_(),ee--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(x,X)}_transitionTo(E,t,r){if(this._state!==t&&this._state!==r)throw new Error(`${this.type} '${this.source}': can not transition to '${E}', expecting state '${t}'${r?" or '"+r+"'":""}, was '${this._state}'.`);this._state=E,E==x&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const L=a("setTimeout"),Z=a("Promise"),N=a("then");let J,B=[],H=!1;function q(M){if(J||e[Z]&&(J=e[Z].resolve(0)),J){let E=J[N];E||(E=J.then),E.call(J,M)}else e[L](M,0)}function R(M){0===ee&&0===B.length&&q(_),M&&B.push(M)}function _(){if(!H){for(H=!0;B.length;){const M=B;B=[];for(let E=0;E<M.length;E++){const t=M[E];try{t.zone.runTask(t,null,null)}catch(r){z.onUnhandledError(r)}}}z.microtaskDrainDone(),H=!1}}const K={name:"NO ZONE"},x="notScheduled",X="scheduling",j="scheduled",p="running",G="canceling",h="unknown",I="microTask",w="macroTask",Q="eventTask",oe={},z={symbol:a,currentZoneFrame:()=>U,onUnhandledError:W,microtaskDrainDone:W,scheduleMicroTask:R,showUncaughtError:()=>!d[a("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:W,patchMethod:()=>W,bindArguments:()=>[],patchThen:()=>W,patchMacroTask:()=>W,patchEventPrototype:()=>W,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>W,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>W,wrapWithCurrentZone:()=>W,filterProperties:()=>[],attachOriginToPatched:()=>W,_redefineProperty:()=>W,patchCallbacks:()=>W,nativeScheduleMicroTask:q};let U={parent:null,zone:new d(null,null)},re=null,ee=0;function W(){}o("Zone","Zone"),e.Zone=d}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);const ie=Object.getOwnPropertyDescriptor,Ee=Object.defineProperty,de=Object.getPrototypeOf,ge=Object.create,Ve=Array.prototype.slice,Oe="addEventListener",Se="removeEventListener",Ze=Zone.__symbol__(Oe),Ne=Zone.__symbol__(Se),ce="true",ae="false",ke=Zone.__symbol__("");function Ie(e,n){return Zone.current.wrap(e,n)}function Me(e,n,i,o,c){return Zone.current.scheduleMacroTask(e,n,i,o,c)}const A=Zone.__symbol__,Pe="undefined"!=typeof window,Te=Pe?window:void 0,Y=Pe&&Te||"object"==typeof self&&self||global;function Le(e,n){for(let i=e.length-1;i>=0;i--)"function"==typeof e[i]&&(e[i]=Ie(e[i],n+"_"+i));return e}function Fe(e){return!e||!1!==e.writable&&!("function"==typeof e.get&&void 0===e.set)}const Be="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,we=!("nw"in Y)&&void 0!==Y.process&&"[object process]"==={}.toString.call(Y.process),je=!we&&!Be&&!(!Pe||!Te.HTMLElement),Ue=void 0!==Y.process&&"[object process]"==={}.toString.call(Y.process)&&!Be&&!(!Pe||!Te.HTMLElement),Re={},We=function(e){if(!(e=e||Y.event))return;let n=Re[e.type];n||(n=Re[e.type]=A("ON_PROPERTY"+e.type));const i=this||e.target||Y,o=i[n];let c;if(je&&i===Te&&"error"===e.type){const a=e;c=o&&o.call(this,a.message,a.filename,a.lineno,a.colno,a.error),!0===c&&e.preventDefault()}else c=o&&o.apply(this,arguments),null!=c&&!c&&e.preventDefault();return c};function qe(e,n,i){let o=ie(e,n);if(!o&&i&&ie(i,n)&&(o={enumerable:!0,configurable:!0}),!o||!o.configurable)return;const c=A("on"+n+"patched");if(e.hasOwnProperty(c)&&e[c])return;delete o.writable,delete o.value;const a=o.get,y=o.set,d=n.slice(2);let P=Re[d];P||(P=Re[d]=A("ON_PROPERTY"+d)),o.set=function(v){let m=this;!m&&e===Y&&(m=Y),m&&("function"==typeof m[P]&&m.removeEventListener(d,We),y&&y.call(m,null),m[P]=v,"function"==typeof v&&m.addEventListener(d,We,!1))},o.get=function(){let v=this;if(!v&&e===Y&&(v=Y),!v)return null;const m=v[P];if(m)return m;if(a){let L=a.call(this);if(L)return o.set.call(this,L),"function"==typeof v.removeAttribute&&v.removeAttribute(n),L}return null},Ee(e,n,o),e[c]=!0}function Xe(e,n,i){if(n)for(let o=0;o<n.length;o++)qe(e,"on"+n[o],i);else{const o=[];for(const c in e)"on"==c.slice(0,2)&&o.push(c);for(let c=0;c<o.length;c++)qe(e,o[c],i)}}const ne=A("originalInstance");function ve(e){const n=Y[e];if(!n)return;Y[A(e)]=n,Y[e]=function(){const c=Le(arguments,e);switch(c.length){case 0:this[ne]=new n;break;case 1:this[ne]=new n(c[0]);break;case 2:this[ne]=new n(c[0],c[1]);break;case 3:this[ne]=new n(c[0],c[1],c[2]);break;case 4:this[ne]=new n(c[0],c[1],c[2],c[3]);break;default:throw new Error("Arg list too long.")}},ue(Y[e],n);const i=new n(function(){});let o;for(o in i)"XMLHttpRequest"===e&&"responseBlob"===o||function(c){"function"==typeof i[c]?Y[e].prototype[c]=function(){return this[ne][c].apply(this[ne],arguments)}:Ee(Y[e].prototype,c,{set:function(a){"function"==typeof a?(this[ne][c]=Ie(a,e+"."+c),ue(this[ne][c],a)):this[ne][c]=a},get:function(){return this[ne][c]}})}(o);for(o in n)"prototype"!==o&&n.hasOwnProperty(o)&&(Y[e][o]=n[o])}function le(e,n,i){let o=e;for(;o&&!o.hasOwnProperty(n);)o=de(o);!o&&e[n]&&(o=e);const c=A(n);let a=null;if(o&&(!(a=o[c])||!o.hasOwnProperty(c))&&(a=o[c]=o[n],Fe(o&&ie(o,n)))){const d=i(a,c,n);o[n]=function(){return d(this,arguments)},ue(o[n],a)}return a}function lt(e,n,i){let o=null;function c(a){const y=a.data;return y.args[y.cbIdx]=function(){a.invoke.apply(this,arguments)},o.apply(y.target,y.args),a}o=le(e,n,a=>function(y,d){const P=i(y,d);return P.cbIdx>=0&&"function"==typeof d[P.cbIdx]?Me(P.name,d[P.cbIdx],P,c):a.apply(y,d)})}function ue(e,n){e[A("OriginalDelegate")]=n}let ze=!1,Ae=!1;function ft(){if(ze)return Ae;ze=!0;try{const e=Te.navigator.userAgent;(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/")||-1!==e.indexOf("Edge/"))&&(Ae=!0)}catch(e){}return Ae}Zone.__load_patch("ZoneAwarePromise",(e,n,i)=>{const o=Object.getOwnPropertyDescriptor,c=Object.defineProperty,y=i.symbol,d=[],P=!0===e[y("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],v=y("Promise"),m=y("then");i.onUnhandledError=l=>{if(i.showUncaughtError()){const u=l&&l.rejection;u?console.error("Unhandled Promise rejection:",u instanceof Error?u.message:u,"; Zone:",l.zone.name,"; Task:",l.task&&l.task.source,"; Value:",u,u instanceof Error?u.stack:void 0):console.error(l)}},i.microtaskDrainDone=()=>{for(;d.length;){const l=d.shift();try{l.zone.runGuarded(()=>{throw l.throwOriginal?l.rejection:l})}catch(u){N(u)}}};const Z=y("unhandledPromiseRejectionHandler");function N(l){i.onUnhandledError(l);try{const u=n[Z];"function"==typeof u&&u.call(this,l)}catch(u){}}function B(l){return l&&l.then}function H(l){return l}function J(l){return t.reject(l)}const q=y("state"),R=y("value"),_=y("finally"),K=y("parentPromiseValue"),x=y("parentPromiseState"),j=null,p=!0,G=!1;function I(l,u){return s=>{try{z(l,u,s)}catch(f){z(l,!1,f)}}}const w=function(){let l=!1;return function(s){return function(){l||(l=!0,s.apply(null,arguments))}}},oe=y("currentTaskTrace");function z(l,u,s){const f=w();if(l===s)throw new TypeError("Promise resolved with itself");if(l[q]===j){let g=null;try{("object"==typeof s||"function"==typeof s)&&(g=s&&s.then)}catch(b){return f(()=>{z(l,!1,b)})(),l}if(u!==G&&s instanceof t&&s.hasOwnProperty(q)&&s.hasOwnProperty(R)&&s[q]!==j)re(s),z(l,s[q],s[R]);else if(u!==G&&"function"==typeof g)try{g.call(s,f(I(l,u)),f(I(l,!1)))}catch(b){f(()=>{z(l,!1,b)})()}else{l[q]=u;const b=l[R];if(l[R]=s,l[_]===_&&u===p&&(l[q]=l[x],l[R]=l[K]),u===G&&s instanceof Error){const T=n.currentTask&&n.currentTask.data&&n.currentTask.data.__creationTrace__;T&&c(s,oe,{configurable:!0,enumerable:!1,writable:!0,value:T})}for(let T=0;T<b.length;)ee(l,b[T++],b[T++],b[T++],b[T++]);if(0==b.length&&u==G){l[q]=0;let T=s;try{throw new Error("Uncaught (in promise): "+function a(l){return l&&l.toString===Object.prototype.toString?(l.constructor&&l.constructor.name||"")+": "+JSON.stringify(l):l?l.toString():Object.prototype.toString.call(l)}(s)+(s&&s.stack?"\n"+s.stack:""))}catch(D){T=D}P&&(T.throwOriginal=!0),T.rejection=s,T.promise=l,T.zone=n.current,T.task=n.currentTask,d.push(T),i.scheduleMicroTask()}}}return l}const U=y("rejectionHandledHandler");function re(l){if(0===l[q]){try{const u=n[U];u&&"function"==typeof u&&u.call(this,{rejection:l[R],promise:l})}catch(u){}l[q]=G;for(let u=0;u<d.length;u++)l===d[u].promise&&d.splice(u,1)}}function ee(l,u,s,f,g){re(l);const b=l[q],T=b?"function"==typeof f?f:H:"function"==typeof g?g:J;u.scheduleMicroTask("Promise.then",()=>{try{const D=l[R],O=!!s&&_===s[_];O&&(s[K]=D,s[x]=b);const S=u.run(T,void 0,O&&T!==J&&T!==H?[]:[D]);z(s,!0,S)}catch(D){z(s,!1,D)}},s)}const M=function(){},E=e.AggregateError;class t{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(u){return z(new this(null),p,u)}static reject(u){return z(new this(null),G,u)}static any(u){if(!u||"function"!=typeof u[Symbol.iterator])return Promise.reject(new E([],"All promises were rejected"));const s=[];let f=0;try{for(let T of u)f++,s.push(t.resolve(T))}catch(T){return Promise.reject(new E([],"All promises were rejected"))}if(0===f)return Promise.reject(new E([],"All promises were rejected"));let g=!1;const b=[];return new t((T,D)=>{for(let O=0;O<s.length;O++)s[O].then(S=>{g||(g=!0,T(S))},S=>{b.push(S),f--,0===f&&(g=!0,D(new E(b,"All promises were rejected")))})})}static race(u){let s,f,g=new this((D,O)=>{s=D,f=O});function b(D){s(D)}function T(D){f(D)}for(let D of u)B(D)||(D=this.resolve(D)),D.then(b,T);return g}static all(u){return t.allWithCallback(u)}static allSettled(u){return(this&&this.prototype instanceof t?this:t).allWithCallback(u,{thenCallback:f=>({status:"fulfilled",value:f}),errorCallback:f=>({status:"rejected",reason:f})})}static allWithCallback(u,s){let f,g,b=new this((S,V)=>{f=S,g=V}),T=2,D=0;const O=[];for(let S of u){B(S)||(S=this.resolve(S));const V=D;try{S.then(F=>{O[V]=s?s.thenCallback(F):F,T--,0===T&&f(O)},F=>{s?(O[V]=s.errorCallback(F),T--,0===T&&f(O)):g(F)})}catch(F){g(F)}T++,D++}return T-=2,0===T&&f(O),b}constructor(u){const s=this;if(!(s instanceof t))throw new Error("Must be an instanceof Promise.");s[q]=j,s[R]=[];try{const f=w();u&&u(f(I(s,p)),f(I(s,G)))}catch(f){z(s,!1,f)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return t}then(u,s){var f;let g=null===(f=this.constructor)||void 0===f?void 0:f[Symbol.species];(!g||"function"!=typeof g)&&(g=this.constructor||t);const b=new g(M),T=n.current;return this[q]==j?this[R].push(T,b,u,s):ee(this,T,b,u,s),b}catch(u){return this.then(null,u)}finally(u){var s;let f=null===(s=this.constructor)||void 0===s?void 0:s[Symbol.species];(!f||"function"!=typeof f)&&(f=t);const g=new f(M);g[_]=_;const b=n.current;return this[q]==j?this[R].push(b,g,u,u):ee(this,b,g,u,u),g}}t.resolve=t.resolve,t.reject=t.reject,t.race=t.race,t.all=t.all;const r=e[v]=e.Promise;e.Promise=t;const k=y("thenPatched");function C(l){const u=l.prototype,s=o(u,"then");if(s&&(!1===s.writable||!s.configurable))return;const f=u.then;u[m]=f,l.prototype.then=function(g,b){return new t((D,O)=>{f.call(this,D,O)}).then(g,b)},l[k]=!0}return i.patchThen=C,r&&(C(r),le(e,"fetch",l=>function $(l){return function(u,s){let f=l.apply(u,s);if(f instanceof t)return f;let g=f.constructor;return g[k]||C(g),f}}(l))),Promise[n.__symbol__("uncaughtPromiseErrors")]=d,t}),Zone.__load_patch("toString",e=>{const n=Function.prototype.toString,i=A("OriginalDelegate"),o=A("Promise"),c=A("Error"),a=function(){if("function"==typeof this){const v=this[i];if(v)return"function"==typeof v?n.call(v):Object.prototype.toString.call(v);if(this===Promise){const m=e[o];if(m)return n.call(m)}if(this===Error){const m=e[c];if(m)return n.call(m)}}return n.call(this)};a[i]=n,Function.prototype.toString=a;const y=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":y.call(this)}});let ye=!1;if("undefined"!=typeof window)try{const e=Object.defineProperty({},"passive",{get:function(){ye=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){ye=!1}const ht={useG:!0},te={},Ye={},$e=new RegExp("^"+ke+"(\\w+)(true|false)$"),Ke=A("propagationStopped");function Je(e,n){const i=(n?n(e):e)+ae,o=(n?n(e):e)+ce,c=ke+i,a=ke+o;te[e]={},te[e][ae]=c,te[e][ce]=a}function dt(e,n,i,o){const c=o&&o.add||Oe,a=o&&o.rm||Se,y=o&&o.listeners||"eventListeners",d=o&&o.rmAll||"removeAllListeners",P=A(c),v="."+c+":",Z=function(R,_,K){if(R.isRemoved)return;const x=R.callback;let X;"object"==typeof x&&x.handleEvent&&(R.callback=p=>x.handleEvent(p),R.originalDelegate=x);try{R.invoke(R,_,[K])}catch(p){X=p}const j=R.options;return j&&"object"==typeof j&&j.once&&_[a].call(_,K.type,R.originalDelegate?R.originalDelegate:R.callback,j),X};function N(R,_,K){if(!(_=_||e.event))return;const x=R||_.target||e,X=x[te[_.type][K?ce:ae]];if(X){const j=[];if(1===X.length){const p=Z(X[0],x,_);p&&j.push(p)}else{const p=X.slice();for(let G=0;G<p.length&&(!_||!0!==_[Ke]);G++){const h=Z(p[G],x,_);h&&j.push(h)}}if(1===j.length)throw j[0];for(let p=0;p<j.length;p++){const G=j[p];n.nativeScheduleMicroTask(()=>{throw G})}}}const B=function(R){return N(this,R,!1)},H=function(R){return N(this,R,!0)};function J(R,_){if(!R)return!1;let K=!0;_&&void 0!==_.useG&&(K=_.useG);const x=_&&_.vh;let X=!0;_&&void 0!==_.chkDup&&(X=_.chkDup);let j=!1;_&&void 0!==_.rt&&(j=_.rt);let p=R;for(;p&&!p.hasOwnProperty(c);)p=de(p);if(!p&&R[c]&&(p=R),!p||p[P])return!1;const G=_&&_.eventNameToString,h={},I=p[P]=p[c],w=p[A(a)]=p[a],Q=p[A(y)]=p[y],oe=p[A(d)]=p[d];let z;function U(s,f){return!ye&&"object"==typeof s&&s?!!s.capture:ye&&f?"boolean"==typeof s?{capture:s,passive:!0}:s?"object"==typeof s&&!1!==s.passive?Object.assign(Object.assign({},s),{passive:!0}):s:{passive:!0}:s}_&&_.prepend&&(z=p[A(_.prepend)]=p[_.prepend]);const t=K?function(s){if(!h.isExisting)return I.call(h.target,h.eventName,h.capture?H:B,h.options)}:function(s){return I.call(h.target,h.eventName,s.invoke,h.options)},r=K?function(s){if(!s.isRemoved){const f=te[s.eventName];let g;f&&(g=f[s.capture?ce:ae]);const b=g&&s.target[g];if(b)for(let T=0;T<b.length;T++)if(b[T]===s){b.splice(T,1),s.isRemoved=!0,0===b.length&&(s.allRemoved=!0,s.target[g]=null);break}}if(s.allRemoved)return w.call(s.target,s.eventName,s.capture?H:B,s.options)}:function(s){return w.call(s.target,s.eventName,s.invoke,s.options)},C=_&&_.diff?_.diff:function(s,f){const g=typeof f;return"function"===g&&s.callback===f||"object"===g&&s.originalDelegate===f},$=Zone[A("UNPATCHED_EVENTS")],l=e[A("PASSIVE_EVENTS")],u=function(s,f,g,b,T=!1,D=!1){return function(){const O=this||e;let S=arguments[0];_&&_.transferEventName&&(S=_.transferEventName(S));let V=arguments[1];if(!V)return s.apply(this,arguments);if(we&&"uncaughtException"===S)return s.apply(this,arguments);let F=!1;if("function"!=typeof V){if(!V.handleEvent)return s.apply(this,arguments);F=!0}if(x&&!x(s,V,O,arguments))return;const fe=ye&&!!l&&-1!==l.indexOf(S),se=U(arguments[2],fe);if($)for(let _e=0;_e<$.length;_e++)if(S===$[_e])return fe?s.call(O,S,V,se):s.apply(this,arguments);const xe=!!se&&("boolean"==typeof se||se.capture),nt=!(!se||"object"!=typeof se)&&se.once,gt=Zone.current;let Ge=te[S];Ge||(Je(S,G),Ge=te[S]);const rt=Ge[xe?ce:ae];let De,me=O[rt],ot=!1;if(me){if(ot=!0,X)for(let _e=0;_e<me.length;_e++)if(C(me[_e],V))return}else me=O[rt]=[];const st=O.constructor.name,it=Ye[st];it&&(De=it[S]),De||(De=st+f+(G?G(S):S)),h.options=se,nt&&(h.options.once=!1),h.target=O,h.capture=xe,h.eventName=S,h.isExisting=ot;const be=K?ht:void 0;be&&(be.taskData=h);const he=gt.scheduleEventTask(De,V,be,g,b);return h.target=null,be&&(be.taskData=null),nt&&(se.once=!0),!ye&&"boolean"==typeof he.options||(he.options=se),he.target=O,he.capture=xe,he.eventName=S,F&&(he.originalDelegate=V),D?me.unshift(he):me.push(he),T?O:void 0}};return p[c]=u(I,v,t,r,j),z&&(p.prependListener=u(z,".prependListener:",function(s){return z.call(h.target,h.eventName,s.invoke,h.options)},r,j,!0)),p[a]=function(){const s=this||e;let f=arguments[0];_&&_.transferEventName&&(f=_.transferEventName(f));const g=arguments[2],b=!!g&&("boolean"==typeof g||g.capture),T=arguments[1];if(!T)return w.apply(this,arguments);if(x&&!x(w,T,s,arguments))return;const D=te[f];let O;D&&(O=D[b?ce:ae]);const S=O&&s[O];if(S)for(let V=0;V<S.length;V++){const F=S[V];if(C(F,T))return S.splice(V,1),F.isRemoved=!0,0===S.length&&(F.allRemoved=!0,s[O]=null,"string"==typeof f)&&(s[ke+"ON_PROPERTY"+f]=null),F.zone.cancelTask(F),j?s:void 0}return w.apply(this,arguments)},p[y]=function(){const s=this||e;let f=arguments[0];_&&_.transferEventName&&(f=_.transferEventName(f));const g=[],b=Qe(s,G?G(f):f);for(let T=0;T<b.length;T++){const D=b[T];g.push(D.originalDelegate?D.originalDelegate:D.callback)}return g},p[d]=function(){const s=this||e;let f=arguments[0];if(f){_&&_.transferEventName&&(f=_.transferEventName(f));const g=te[f];if(g){const D=s[g[ae]],O=s[g[ce]];if(D){const S=D.slice();for(let V=0;V<S.length;V++){const F=S[V];this[a].call(this,f,F.originalDelegate?F.originalDelegate:F.callback,F.options)}}if(O){const S=O.slice();for(let V=0;V<S.length;V++){const F=S[V];this[a].call(this,f,F.originalDelegate?F.originalDelegate:F.callback,F.options)}}}}else{const g=Object.keys(s);for(let b=0;b<g.length;b++){const D=$e.exec(g[b]);let O=D&&D[1];O&&"removeListener"!==O&&this[d].call(this,O)}this[d].call(this,"removeListener")}if(j)return this},ue(p[c],I),ue(p[a],w),oe&&ue(p[d],oe),Q&&ue(p[y],Q),!0}let q=[];for(let R=0;R<i.length;R++)q[R]=J(i[R],o);return q}function Qe(e,n){if(!n){const a=[];for(let y in e){const d=$e.exec(y);let P=d&&d[1];if(P&&(!n||P===n)){const v=e[y];if(v)for(let m=0;m<v.length;m++)a.push(v[m])}}return a}let i=te[n];i||(Je(n),i=te[n]);const o=e[i[ae]],c=e[i[ce]];return o?c?o.concat(c):o.slice():c?c.slice():[]}function _t(e,n){const i=e.Event;i&&i.prototype&&n.patchMethod(i.prototype,"stopImmediatePropagation",o=>function(c,a){c[Ke]=!0,o&&o.apply(c,a)})}function Et(e,n,i,o,c){const a=Zone.__symbol__(o);if(n[a])return;const y=n[a]=n[o];n[o]=function(d,P,v){return P&&P.prototype&&c.forEach(function(m){const L=`${i}.${o}::`+m,Z=P.prototype;try{if(Z.hasOwnProperty(m)){const N=e.ObjectGetOwnPropertyDescriptor(Z,m);N&&N.value?(N.value=e.wrapWithCurrentZone(N.value,L),e._redefineProperty(P.prototype,m,N)):Z[m]&&(Z[m]=e.wrapWithCurrentZone(Z[m],L))}else Z[m]&&(Z[m]=e.wrapWithCurrentZone(Z[m],L))}catch(N){}}),y.call(n,d,P,v)},e.attachOriginToPatched(n[o],y)}function et(e,n,i){if(!i||0===i.length)return n;const o=i.filter(a=>a.target===e);if(!o||0===o.length)return n;const c=o[0].ignoreProperties;return n.filter(a=>-1===c.indexOf(a))}function tt(e,n,i,o){e&&Xe(e,et(e,n,i),o)}function He(e){return Object.getOwnPropertyNames(e).filter(n=>n.startsWith("on")&&n.length>2).map(n=>n.substring(2))}Zone.__load_patch("util",(e,n,i)=>{const o=He(e);i.patchOnProperties=Xe,i.patchMethod=le,i.bindArguments=Le,i.patchMacroTask=lt;const c=n.__symbol__("BLACK_LISTED_EVENTS"),a=n.__symbol__("UNPATCHED_EVENTS");e[a]&&(e[c]=e[a]),e[c]&&(n[c]=n[a]=e[c]),i.patchEventPrototype=_t,i.patchEventTarget=dt,i.isIEOrEdge=ft,i.ObjectDefineProperty=Ee,i.ObjectGetOwnPropertyDescriptor=ie,i.ObjectCreate=ge,i.ArraySlice=Ve,i.patchClass=ve,i.wrapWithCurrentZone=Ie,i.filterProperties=et,i.attachOriginToPatched=ue,i._redefineProperty=Object.defineProperty,i.patchCallbacks=Et,i.getGlobalObjects=()=>({globalSources:Ye,zoneSymbolEventNames:te,eventNames:o,isBrowser:je,isMix:Ue,isNode:we,TRUE_STR:ce,FALSE_STR:ae,ZONE_SYMBOL_PREFIX:ke,ADD_EVENT_LISTENER_STR:Oe,REMOVE_EVENT_LISTENER_STR:Se})});const Ce=A("zoneTask");function pe(e,n,i,o){let c=null,a=null;i+=o;const y={};function d(v){const m=v.data;return m.args[0]=function(){return v.invoke.apply(this,arguments)},m.handleId=c.apply(e,m.args),v}function P(v){return a.call(e,v.data.handleId)}c=le(e,n+=o,v=>function(m,L){if("function"==typeof L[0]){const Z={isPeriodic:"Interval"===o,delay:"Timeout"===o||"Interval"===o?L[1]||0:void 0,args:L},N=L[0];L[0]=function(){try{return N.apply(this,arguments)}finally{Z.isPeriodic||("number"==typeof Z.handleId?delete y[Z.handleId]:Z.handleId&&(Z.handleId[Ce]=null))}};const B=Me(n,L[0],Z,d,P);if(!B)return B;const H=B.data.handleId;return"number"==typeof H?y[H]=B:H&&(H[Ce]=B),H&&H.ref&&H.unref&&"function"==typeof H.ref&&"function"==typeof H.unref&&(B.ref=H.ref.bind(H),B.unref=H.unref.bind(H)),"number"==typeof H||H?H:B}return v.apply(e,L)}),a=le(e,i,v=>function(m,L){const Z=L[0];let N;"number"==typeof Z?N=y[Z]:(N=Z&&Z[Ce],N||(N=Z)),N&&"string"==typeof N.type?"notScheduled"!==N.state&&(N.cancelFn&&N.data.isPeriodic||0===N.runCount)&&("number"==typeof Z?delete y[Z]:Z&&(Z[Ce]=null),N.zone.cancelTask(N)):v.apply(e,L)})}Zone.__load_patch("legacy",e=>{const n=e[Zone.__symbol__("legacyPatch")];n&&n()}),Zone.__load_patch("queueMicrotask",(e,n,i)=>{i.patchMethod(e,"queueMicrotask",o=>function(c,a){n.current.scheduleMicroTask("queueMicrotask",a[0])})}),Zone.__load_patch("timers",e=>{const n="set",i="clear";pe(e,n,i,"Timeout"),pe(e,n,i,"Interval"),pe(e,n,i,"Immediate")}),Zone.__load_patch("requestAnimationFrame",e=>{pe(e,"request","cancel","AnimationFrame"),pe(e,"mozRequest","mozCancel","AnimationFrame"),pe(e,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(e,n)=>{const i=["alert","prompt","confirm"];for(let o=0;o<i.length;o++)le(e,i[o],(a,y,d)=>function(P,v){return n.current.run(a,e,v,d)})}),Zone.__load_patch("EventTarget",(e,n,i)=>{(function mt(e,n){n.patchEventPrototype(e,n)})(e,i),function pt(e,n){if(Zone[n.symbol("patchEventTarget")])return;const{eventNames:i,zoneSymbolEventNames:o,TRUE_STR:c,FALSE_STR:a,ZONE_SYMBOL_PREFIX:y}=n.getGlobalObjects();for(let P=0;P<i.length;P++){const v=i[P],Z=y+(v+a),N=y+(v+c);o[v]={},o[v][a]=Z,o[v][c]=N}const d=e.EventTarget;d&&d.prototype&&n.patchEventTarget(e,n,[d&&d.prototype])}(e,i);const o=e.XMLHttpRequestEventTarget;o&&o.prototype&&i.patchEventTarget(e,i,[o.prototype])}),Zone.__load_patch("MutationObserver",(e,n,i)=>{ve("MutationObserver"),ve("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(e,n,i)=>{ve("IntersectionObserver")}),Zone.__load_patch("FileReader",(e,n,i)=>{ve("FileReader")}),Zone.__load_patch("on_property",(e,n,i)=>{!function Tt(e,n){if(we&&!Ue||Zone[e.symbol("patchEvents")])return;const i=n.__Zone_ignore_on_properties;let o=[];if(je){const c=window;o=o.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const a=function ut(){try{const e=Te.navigator.userAgent;if(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/"))return!0}catch(e){}return!1}()?[{target:c,ignoreProperties:["error"]}]:[];tt(c,He(c),i&&i.concat(a),de(c))}o=o.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let c=0;c<o.length;c++){const a=n[o[c]];a&&a.prototype&&tt(a.prototype,He(a.prototype),i)}}(i,e)}),Zone.__load_patch("customElements",(e,n,i)=>{!function yt(e,n){const{isBrowser:i,isMix:o}=n.getGlobalObjects();(i||o)&&e.customElements&&"customElements"in e&&n.patchCallbacks(n,e.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(e,i)}),Zone.__load_patch("XHR",(e,n)=>{!function P(v){const m=v.XMLHttpRequest;if(!m)return;const L=m.prototype;let N=L[Ze],B=L[Ne];if(!N){const h=v.XMLHttpRequestEventTarget;if(h){const I=h.prototype;N=I[Ze],B=I[Ne]}}const H="readystatechange",J="scheduled";function q(h){const I=h.data,w=I.target;w[a]=!1,w[d]=!1;const Q=w[c];N||(N=w[Ze],B=w[Ne]),Q&&B.call(w,H,Q);const oe=w[c]=()=>{if(w.readyState===w.DONE)if(!I.aborted&&w[a]&&h.state===J){const U=w[n.__symbol__("loadfalse")];if(0!==w.status&&U&&U.length>0){const re=h.invoke;h.invoke=function(){const ee=w[n.__symbol__("loadfalse")];for(let W=0;W<ee.length;W++)ee[W]===h&&ee.splice(W,1);!I.aborted&&h.state===J&&re.call(h)},U.push(h)}else h.invoke()}else!I.aborted&&!1===w[a]&&(w[d]=!0)};return N.call(w,H,oe),w[i]||(w[i]=h),p.apply(w,I.args),w[a]=!0,h}function R(){}function _(h){const I=h.data;return I.aborted=!0,G.apply(I.target,I.args)}const K=le(L,"open",()=>function(h,I){return h[o]=0==I[2],h[y]=I[1],K.apply(h,I)}),X=A("fetchTaskAborting"),j=A("fetchTaskScheduling"),p=le(L,"send",()=>function(h,I){if(!0===n.current[j]||h[o])return p.apply(h,I);{const w={target:h,url:h[y],isPeriodic:!1,args:I,aborted:!1},Q=Me("XMLHttpRequest.send",R,w,q,_);h&&!0===h[d]&&!w.aborted&&Q.state===J&&Q.invoke()}}),G=le(L,"abort",()=>function(h,I){const w=function Z(h){return h[i]}(h);if(w&&"string"==typeof w.type){if(null==w.cancelFn||w.data&&w.data.aborted)return;w.zone.cancelTask(w)}else if(!0===n.current[X])return G.apply(h,I)})}(e);const i=A("xhrTask"),o=A("xhrSync"),c=A("xhrListener"),a=A("xhrScheduled"),y=A("xhrURL"),d=A("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&function at(e,n){const i=e.constructor.name;for(let o=0;o<n.length;o++){const c=n[o],a=e[c];if(a){if(!Fe(ie(e,c)))continue;e[c]=(d=>{const P=function(){return d.apply(this,Le(arguments,i+"."+c))};return ue(P,d),P})(a)}}}(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(e,n)=>{function i(o){return function(c){Qe(e,o).forEach(y=>{const d=e.PromiseRejectionEvent;if(d){const P=new d(o,{promise:c.promise,reason:c.rejection});y.invoke(P)}})}}e.PromiseRejectionEvent&&(n[A("unhandledPromiseRejectionHandler")]=i("unhandledrejection"),n[A("rejectionHandledHandler")]=i("rejectionhandled"))})}},ie=>{ie(ie.s=7435)}]);
"use strict";var dw=Object.defineProperty,fw=Object.defineProperties,hw=Object.getOwnPropertyDescriptors,D0=Object.getOwnPropertySymbols,pw=Object.prototype.hasOwnProperty,gw=Object.prototype.propertyIsEnumerable,w0=(Ge,he,P)=>he in Ge?dw(Ge,he,{enumerable:!0,configurable:!0,writable:!0,value:P}):Ge[he]=P,C0=(Ge,he)=>{for(var P in he||(he={}))pw.call(he,P)&&w0(Ge,P,he[P]);if(D0)for(var P of D0(he))gw.call(he,P)&&w0(Ge,P,he[P]);return Ge},b0=(Ge,he)=>fw(Ge,hw(he));(self.webpackChunkakouendy_pay_webcomponent=self.webpackChunkakouendy_pay_webcomponent||[]).push([[179],{2011:(Ge,he,P)=>{P.d(he,{Dh:()=>ae,GT:()=>ce,cc:()=>Me,hO:()=>$e,on:()=>j,pX:()=>ne,xv:()=>me});var v=P(5e3),q=P(9260),x=P(7184);Ge=P.hmd(Ge);const re=["ngOnDestroy"],ne=(ie,we,Pe,Se={})=>new Proxy(ie,{get:(Ue,Ie)=>Pe.runOutsideAngular(()=>{var Ze;if(ie[Ie])return(null===(Ze=null==Se?void 0:Se.spy)||void 0===Ze?void 0:Ze.get)&&Se.spy.get(Ie,ie[Ie]),ie[Ie];if(re.indexOf(Ie)>-1)return()=>{};const je=we.toPromise().then(ge=>{const V=ge&&ge[Ie];return"function"==typeof V?V.bind(ge):V&&V.then?V.then(K=>Pe.run(()=>K)):Pe.run(()=>V)});return new Proxy(()=>{},{get:(ge,V)=>je[V],apply:(ge,V,K)=>je.then(te=>{var oe;const De=te&&te(...K);return(null===(oe=null==Se?void 0:Se.spy)||void 0===oe?void 0:oe.apply)&&Se.spy.apply(Ie,K,De),De})})})}),ce=(ie,we)=>{we.forEach(Pe=>{Object.getOwnPropertyNames(Pe.prototype||Pe).forEach(Se=>{Object.defineProperty(ie.prototype,Se,Object.getOwnPropertyDescriptor(Pe.prototype||Pe,Se))})})};class ue{constructor(we){return we}}const ae=new v.OlP("angularfire2.app.options"),me=new v.OlP("angularfire2.app.name");function j(ie,we,Pe){const Ue="object"==typeof Pe&&Pe||{};Ue.name=Ue.name||"string"==typeof Pe&&Pe||"[DEFAULT]";const Ze=q.Z.apps.filter(je=>je&&je.name===Ue.name)[0]||we.runOutsideAngular(()=>q.Z.initializeApp(ie,Ue));try{JSON.stringify(ie)!==JSON.stringify(Ze.options)&&H("error",`${Ze.name} Firebase App already initialized with different options${Ge.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(je){}return new ue(Ze)}const H=(ie,...we)=>{(0,v.X6Q)()&&"undefined"!=typeof console&&console[ie](...we)},ee={provide:ue,useFactory:j,deps:[ae,v.R0b,[new v.FiY,me]]};let $e=(()=>{class ie{constructor(Pe){q.Z.registerVersion("angularfire",x.q4.full,"core"),q.Z.registerVersion("angularfire",x.q4.full,"app-compat"),q.Z.registerVersion("angular",v.q4F.full,Pe.toString())}static initializeApp(Pe,Se){return{ngModule:ie,providers:[{provide:ae,useValue:Pe},{provide:me,useValue:Se}]}}}return ie.\u0275fac=function(Pe){return new(Pe||ie)(v.LFG(v.Lbi))},ie.\u0275mod=v.oAB({type:ie}),ie.\u0275inj=v.cJS({providers:[ee]}),ie})();function Me(ie,we,Pe,Se,Ue){const[,Ie,Ze]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===ie)||[];if(Ie)return function Ae(ie,we){try{return ie.toString()===we.toString()}catch(Pe){return ie===we}}(Ue,Ze)||(le("error",`${we} was already initialized on the ${Pe} Firebase App with different settings.${Ne?" You may need to reload as Firebase is not HMR aware.":""}`),le("warn",{is:Ue,was:Ze})),Ie;{const je=Se();return globalThis.\u0275AngularfireInstanceCache.push([ie,je,Ue]),je}}const Ne=!!Ge.hot,le=(ie,...we)=>{(0,v.X6Q)()&&"undefined"!=typeof console&&console[ie](...we)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7184:(Ge,he,P)=>{P.d(he,{q4:()=>Fr,iC:()=>pa,HU:()=>sl,vb:()=>fu,JM:()=>ha});var v=P(5e3),q=P(259),x=P(5861),re=P(9681),ne=P(2090),ce=P(4859),ue=P(1877),ae=P(8766);const me="@firebase/installations",j="0.6.0",ee=`w:${j}`,$e="FIS_v2",we=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Pe(I){return I instanceof ne.ZR&&I.code.includes("request-failed")}function Se({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function Ue(I){return{token:I.token,requestStatus:2,expiresIn:te(I.expiresIn),creationTime:Date.now()}}function Ie(I,w){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,x.Z)(function*(I,w){const k=(yield w.json()).error;return we.create("request-failed",{requestName:I,serverCode:k.code,serverMessage:k.message,serverStatus:k.status})})).apply(this,arguments)}function je({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function ge(I,{refreshToken:w}){const A=je(I);return A.append("Authorization",function oe(I){return`${$e} ${I}`}(w)),A}function V(I){return K.apply(this,arguments)}function K(){return(K=(0,x.Z)(function*(I){const w=yield I();return w.status>=500&&w.status<600?I():w})).apply(this,arguments)}function te(I){return Number(I.replace("s","000"))}function De(I,w){return J.apply(this,arguments)}function J(){return(J=(0,x.Z)(function*({appConfig:I,heartbeatServiceProvider:w},{fid:A}){const k=Se(I),W=je(I),Y=w.getImmediate({optional:!0});if(Y){const We=yield Y.getHeartbeatsHeader();We&&W.append("x-firebase-client",We)}const Oe={method:"POST",headers:W,body:JSON.stringify({fid:A,authVersion:$e,appId:I.appId,sdkVersion:ee})},ke=yield V(()=>fetch(k,Oe));if(ke.ok){const We=yield ke.json();return{fid:We.fid||A,registrationStatus:2,refreshToken:We.refreshToken,authToken:Ue(We.authToken)}}throw yield Ie("Create Installation",ke)})).apply(this,arguments)}function it(I){return new Promise(w=>{setTimeout(w,I)})}const hn=/^[cdef][\w-]{21}$/;function at(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const A=function rn(I){return function It(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return hn.test(A)?A:""}catch(I){return""}}function At(I){return`${I.appName}!${I.appId}`}const bn=new Map;function Ut(I,w){const A=At(I);Tn(A,w),function gr(I,w){const A=function Ft(){return!mr&&"BroadcastChannel"in self&&(mr=new BroadcastChannel("[Firebase] FID Change"),mr.onmessage=I=>{Tn(I.data.key,I.data.fid)}),mr}();A&&A.postMessage({key:I,fid:w}),function ln(){0===bn.size&&mr&&(mr.close(),mr=null)}()}(A,w)}function Tn(I,w){const A=bn.get(I);if(A)for(const k of A)k(w)}let mr=null;const zn="firebase-installations-store";let Ce=null;function Xe(){return Ce||(Ce=(0,ae.X3)("firebase-installations-database",1,{upgrade:(I,w)=>{0===w&&I.createObjectStore(zn)}})),Ce}function un(I,w){return sn.apply(this,arguments)}function sn(){return(sn=(0,x.Z)(function*(I,w){const A=At(I),W=(yield Xe()).transaction(zn,"readwrite"),Y=W.objectStore(zn),ye=yield Y.get(A);return yield Y.put(w,A),yield W.done,(!ye||ye.fid!==w.fid)&&Ut(I,w.fid),w})).apply(this,arguments)}function jt(I){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,x.Z)(function*(I){const w=At(I),k=(yield Xe()).transaction(zn,"readwrite");yield k.objectStore(zn).delete(w),yield k.done})).apply(this,arguments)}function bi(I,w){return An.apply(this,arguments)}function An(){return(An=(0,x.Z)(function*(I,w){const A=At(I),W=(yield Xe()).transaction(zn,"readwrite"),Y=W.objectStore(zn),ye=yield Y.get(A),Oe=w(ye);return void 0===Oe?yield Y.delete(A):yield Y.put(Oe,A),yield W.done,Oe&&(!ye||ye.fid!==Oe.fid)&&Ut(I,Oe.fid),Oe})).apply(this,arguments)}function on(I){return ir.apply(this,arguments)}function ir(){return(ir=(0,x.Z)(function*(I){let w;const A=yield bi(I.appConfig,k=>{const W=lo(k),Y=xt(I,W);return w=Y.registrationPromise,Y.installationEntry});return""===A.fid?{installationEntry:yield w}:{installationEntry:A,registrationPromise:w}})).apply(this,arguments)}function lo(I){return Wt(I||{fid:at(),registrationStatus:0})}function xt(I,w){if(0===w.registrationStatus){if(!navigator.onLine)return{installationEntry:w,registrationPromise:Promise.reject(we.create("app-offline"))};const A={fid:w.fid,registrationStatus:1,registrationTime:Date.now()},k=function Qe(I,w){return tt.apply(this,arguments)}(I,A);return{installationEntry:A,registrationPromise:k}}return 1===w.registrationStatus?{installationEntry:w,registrationPromise:Ti(I)}:{installationEntry:w}}function tt(){return(tt=(0,x.Z)(function*(I,w){try{const A=yield De(I,w);return un(I.appConfig,A)}catch(A){throw Pe(A)&&409===A.customData.serverCode?yield jt(I.appConfig):yield un(I.appConfig,{fid:w.fid,registrationStatus:0}),A}})).apply(this,arguments)}function Ti(I){return sr.apply(this,arguments)}function sr(){return(sr=(0,x.Z)(function*(I){let w=yield Ct(I.appConfig);for(;1===w.registrationStatus;)yield it(100),w=yield Ct(I.appConfig);if(0===w.registrationStatus){const{installationEntry:A,registrationPromise:k}=yield on(I);return k||A}return w})).apply(this,arguments)}function Ct(I){return bi(I,w=>{if(!w)throw we.create("installation-not-found");return Wt(w)})}function Wt(I){return function Rt(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function or(I,w){return et.apply(this,arguments)}function et(){return(et=(0,x.Z)(function*({appConfig:I,heartbeatServiceProvider:w},A){const k=ii(I,A),W=ge(I,A),Y=w.getImmediate({optional:!0});if(Y){const We=yield Y.getHeartbeatsHeader();We&&W.append("x-firebase-client",We)}const Oe={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:ee,appId:I.appId}})},ke=yield V(()=>fetch(k,Oe));if(ke.ok)return Ue(yield ke.json());throw yield Ie("Generate Auth Token",ke)})).apply(this,arguments)}function ii(I,{fid:w}){return`${Se(I)}/${w}/authTokens:generate`}function lt(I){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,x.Z)(function*(I,w=!1){let A;const k=yield bi(I.appConfig,Y=>{if(!Ot(Y))throw we.create("not-registered");const ye=Y.authToken;if(!w&&B(ye))return Y;if(1===ye.requestStatus)return A=He(I,w),Y;{if(!navigator.onLine)throw we.create("app-offline");const Oe=$(Y);return A=_t(I,Oe),Oe}});return A?yield A:k.authToken})).apply(this,arguments)}function He(I,w){return pe.apply(this,arguments)}function pe(){return(pe=(0,x.Z)(function*(I,w){let A=yield xe(I.appConfig);for(;1===A.authToken.requestStatus;)yield it(100),A=yield xe(I.appConfig);const k=A.authToken;return 0===k.requestStatus?lt(I,w):k})).apply(this,arguments)}function xe(I){return bi(I,w=>{if(!Ot(w))throw we.create("not-registered");return function fe(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(w.authToken)?Object.assign(Object.assign({},w),{authToken:{requestStatus:0}}):w})}function _t(I,w){return yt.apply(this,arguments)}function yt(){return(yt=(0,x.Z)(function*(I,w){try{const A=yield or(I,w),k=Object.assign(Object.assign({},w),{authToken:A});return yield un(I.appConfig,k),A}catch(A){if(!Pe(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const k=Object.assign(Object.assign({},w),{authToken:{requestStatus:0}});yield un(I.appConfig,k)}else yield jt(I.appConfig);throw A}})).apply(this,arguments)}function Ot(I){return void 0!==I&&2===I.registrationStatus}function B(I){return 2===I.requestStatus&&!function L(I){const w=Date.now();return w<I.creationTime||I.creationTime+I.expiresIn<w+36e5}(I)}function $(I){const w={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:w})}function Ke(){return(Ke=(0,x.Z)(function*(I){const w=I,{installationEntry:A,registrationPromise:k}=yield on(w);return k?k.catch(console.error):lt(w).catch(console.error),A.fid})).apply(this,arguments)}function Bt(){return(Bt=(0,x.Z)(function*(I,w=!1){const A=I;return yield Tt(A),(yield lt(A,w)).token})).apply(this,arguments)}function Tt(I){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,x.Z)(function*(I){const{registrationPromise:w}=yield on(I);w&&(yield w)})).apply(this,arguments)}function es(I){return we.create("missing-app-config-values",{valueName:I})}const ar="installations",Et=I=>{const w=I.getProvider("app").getImmediate(),A=function Bn(I){if(!I||!I.options)throw es("App Configuration");if(!I.name)throw es("App Name");const w=["projectId","apiKey","appId"];for(const A of w)if(!I.options[A])throw es(A);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(w);return{app:w,appConfig:A,heartbeatServiceProvider:(0,re._getProvider)(w,"heartbeat"),_delete:()=>Promise.resolve()}},Vt=I=>{const w=I.getProvider("app").getImmediate(),A=(0,re._getProvider)(w,ar).getImmediate();return{getId:()=>function X(I){return Ke.apply(this,arguments)}(A),getToken:W=>function ut(I){return Bt.apply(this,arguments)}(A,W)}};(function On(){(0,re._registerComponent)(new ce.wA(ar,Et,"PUBLIC")),(0,re._registerComponent)(new ce.wA("installations-internal",Vt,"PRIVATE"))})(),(0,re.registerVersion)(me,j),(0,re.registerVersion)(me,j,"esm2017");const Vn="@firebase/remote-config",Xt=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class tc{constructor(w,A,k,W){this.client=w,this.storage=A,this.storageCache=k,this.logger=W}isCachedDataFresh(w,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const k=Date.now()-A,W=k<=w;return this.logger.debug(`Config fetch cache check. Cache age millis: ${k}. Cache max age millis (minimumFetchIntervalMillis setting): ${w}. Is cache hit: ${W}.`),W}fetch(w){var A=this;return(0,x.Z)(function*(){const[k,W]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(W&&A.isCachedDataFresh(w.cacheMaxAgeMillis,k))return W;w.eTag=W&&W.eTag;const Y=yield A.client.fetch(w),ye=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Y.status&&ye.push(A.storage.setLastSuccessfulFetchResponse(Y)),yield Promise.all(ye),Y})()}}function nc(I=navigator){return I.languages&&I.languages[0]||I.language}class Sr{constructor(w,A,k,W,Y,ye){this.firebaseInstallations=w,this.sdkVersion=A,this.namespace=k,this.projectId=W,this.apiKey=Y,this.appId=ye}fetch(w){var A=this;return(0,x.Z)(function*(){const[k,W]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),ye=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,Oe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":w.eTag||"*"},ke={sdk_version:A.sdkVersion,app_instance_id:k,app_instance_id_token:W,app_id:A.appId,language_code:nc()},We={method:"POST",headers:Oe,body:JSON.stringify(ke)},ht=fetch(ye,We),ot=new Promise((Nn,hr)=>{w.signal.addEventListener(()=>{const ma=new Error("The operation was aborted.");ma.name="AbortError",hr(ma)})});let jn;try{yield Promise.race([ht,ot]),jn=yield ht}catch(Nn){let hr="fetch-client-network";throw"AbortError"===(null==Nn?void 0:Nn.name)&&(hr="fetch-timeout"),Xt.create(hr,{originalErrorMessage:null==Nn?void 0:Nn.message})}let cn=jn.status;const ps=jn.headers.get("ETag")||void 0;let zs,xo;if(200===jn.status){let Nn;try{Nn=yield jn.json()}catch(hr){throw Xt.create("fetch-client-parse",{originalErrorMessage:null==hr?void 0:hr.message})}zs=Nn.entries,xo=Nn.state}if("INSTANCE_STATE_UNSPECIFIED"===xo?cn=500:"NO_CHANGE"===xo?cn=304:("NO_TEMPLATE"===xo||"EMPTY_CONFIG"===xo)&&(zs={}),304!==cn&&200!==cn)throw Xt.create("fetch-status",{httpStatus:cn});return{status:cn,eTag:ps,config:zs}})()}}class ho{constructor(w,A){this.client=w,this.storage=A}fetch(w){var A=this;return(0,x.Z)(function*(){const k=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(w,k)})()}attemptFetch(w,{throttleEndTimeMillis:A,backoffCount:k}){var W=this;return(0,x.Z)(function*(){yield function rc(I,w){return new Promise((A,k)=>{const W=Math.max(w-Date.now(),0),Y=setTimeout(A,W);I.addEventListener(()=>{clearTimeout(Y),k(Xt.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}(w.signal,A);try{const Y=yield W.client.fetch(w);return yield W.storage.deleteThrottleMetadata(),Y}catch(Y){if(!function md(I){if(!(I instanceof ne.ZR&&I.customData))return!1;const w=Number(I.customData.httpStatus);return 429===w||500===w||503===w||504===w}(Y))throw Y;const ye={throttleEndTimeMillis:Date.now()+(0,ne.$s)(k),backoffCount:k+1};return yield W.storage.setThrottleMetadata(ye),W.attemptFetch(w,ye)}})()}}class sc{constructor(w,A,k,W,Y){this.app=w,this._client=A,this._storageCache=k,this._storage=W,this._logger=Y,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function po(I,w){const A=I.target.error||void 0;return Xt.create(w,{originalErrorMessage:A&&(null==A?void 0:A.message)})}const Ss="app_namespace_store";class Ua{constructor(w,A,k,W=function jl(){return new Promise((I,w)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=k=>{w(po(k,"storage-open"))},A.onsuccess=k=>{I(k.target.result)},A.onupgradeneeded=k=>{0===k.oldVersion&&k.target.result.createObjectStore(Ss,{keyPath:"compositeKey"})}}catch(A){w(Xt.create("storage-open",{originalErrorMessage:null==A?void 0:A.message}))}})}()){this.appId=w,this.appName=A,this.namespace=k,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(w){return this.set("last_fetch_status",w)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(w){return this.set("last_successful_fetch_timestamp_millis",w)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(w){return this.set("last_successful_fetch_response",w)}getActiveConfig(){return this.get("active_config")}setActiveConfig(w){return this.set("active_config",w)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(w){return this.set("active_config_etag",w)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(w){return this.set("throttle_metadata",w)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(w){var A=this;return(0,x.Z)(function*(){const k=yield A.openDbPromise;return new Promise((W,Y)=>{const Oe=k.transaction([Ss],"readonly").objectStore(Ss),ke=A.createCompositeKey(w);try{const We=Oe.get(ke);We.onerror=ht=>{Y(po(ht,"storage-get"))},We.onsuccess=ht=>{const ot=ht.target.result;W(ot?ot.value:void 0)}}catch(We){Y(Xt.create("storage-get",{originalErrorMessage:null==We?void 0:We.message}))}})})()}set(w,A){var k=this;return(0,x.Z)(function*(){const W=yield k.openDbPromise;return new Promise((Y,ye)=>{const ke=W.transaction([Ss],"readwrite").objectStore(Ss),We=k.createCompositeKey(w);try{const ht=ke.put({compositeKey:We,value:A});ht.onerror=ot=>{ye(po(ot,"storage-set"))},ht.onsuccess=()=>{Y()}}catch(ht){ye(Xt.create("storage-set",{originalErrorMessage:null==ht?void 0:ht.message}))}})})()}delete(w){var A=this;return(0,x.Z)(function*(){const k=yield A.openDbPromise;return new Promise((W,Y)=>{const Oe=k.transaction([Ss],"readwrite").objectStore(Ss),ke=A.createCompositeKey(w);try{const We=Oe.delete(ke);We.onerror=ht=>{Y(po(ht,"storage-delete"))},We.onsuccess=()=>{W()}}catch(We){Y(Xt.create("storage-delete",{originalErrorMessage:null==We?void 0:We.message}))}})})()}createCompositeKey(w){return[this.appId,this.appName,this.namespace,w].join()}}class Hl{constructor(w){this.storage=w}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var w=this;return(0,x.Z)(function*(){const A=w.storage.getLastFetchStatus(),k=w.storage.getLastSuccessfulFetchTimestampMillis(),W=w.storage.getActiveConfig(),Y=yield A;Y&&(w.lastFetchStatus=Y);const ye=yield k;ye&&(w.lastSuccessfulFetchTimestampMillis=ye);const Oe=yield W;Oe&&(w.activeConfig=Oe)})()}setLastFetchStatus(w){return this.lastFetchStatus=w,this.storage.setLastFetchStatus(w)}setLastSuccessfulFetchTimestampMillis(w){return this.lastSuccessfulFetchTimestampMillis=w,this.storage.setLastSuccessfulFetchTimestampMillis(w)}setActiveConfig(w){return this.activeConfig=w,this.storage.setActiveConfig(w)}}function $l(){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,x.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(I){return!1}})).apply(this,arguments)}!function yd(){(0,re._registerComponent)(new ce.wA("remote-config",function I(w,{instanceIdentifier:A}){const k=w.getProvider("app").getImmediate(),W=w.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Xt.create("registration-window");if(!(0,ne.hl)())throw Xt.create("indexed-db-unavailable");const{projectId:Y,apiKey:ye,appId:Oe}=k.options;if(!Y)throw Xt.create("registration-project-id");if(!ye)throw Xt.create("registration-api-key");if(!Oe)throw Xt.create("registration-app-id");const ke=new Ua(Oe,k.name,A=A||"firebase"),We=new Hl(ke),ht=new ue.Yd(Vn);ht.logLevel=ue.in.ERROR;const ot=new Sr(W,re.SDK_VERSION,A,Y,ye,Oe),jn=new ho(ot,ke),cn=new tc(jn,ke,We,ht),ps=new sc(k,cn,We,ke,ht);return function Gt(I){const w=(0,ne.m9)(I);w._initializePromise||(w._initializePromise=w._storageCache.loadFromStorage().then(()=>{w._isInitializationComplete=!0}))}(ps),ps},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(Vn,"0.4.0"),(0,re.registerVersion)(Vn,"0.4.0","esm2017")}();const Wl="/firebase-messaging-sw.js",ns="/firebase-cloud-messaging-push-scope",mo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",rs="google.c.a.c_id",oc="google.c.a.c_l",Gl="google.c.a.ts",Ms="google.c.a.e";var Ri=(()=>{return(I=Ri||(Ri={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Ri;var I})();function Mr(I){const w=new Uint8Array(I);return btoa(String.fromCharCode(...w)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Yr(I){const A=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),k=atob(A),W=new Uint8Array(k.length);for(let Y=0;Y<k.length;++Y)W[Y]=k.charCodeAt(Y);return W}const lr="fcm_token_details_db",ac="fcm_token_object_Store";function Zo(I){return zl.apply(this,arguments)}function zl(){return zl=(0,x.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Y=>Y.name).includes(lr))return null;let w=null;return(yield(0,ae.X3)(lr,5,{upgrade:(k=(0,x.Z)(function*(W,Y,ye,Oe){var ke;if(Y<2||!W.objectStoreNames.contains(ac))return;const We=Oe.objectStore(ac),ht=yield We.index("fcmSenderId").get(I);if(yield We.clear(),ht)if(2===Y){const ot=ht;if(!ot.auth||!ot.p256dh||!ot.endpoint)return;w={token:ot.fcmToken,createTime:null!==(ke=ot.createTime)&&void 0!==ke?ke:Date.now(),subscriptionOptions:{auth:ot.auth,p256dh:ot.p256dh,endpoint:ot.endpoint,swScope:ot.swScope,vapidKey:"string"==typeof ot.vapidKey?ot.vapidKey:Mr(ot.vapidKey)}}}else if(3===Y){const ot=ht;w={token:ot.fcmToken,createTime:ot.createTime,subscriptionOptions:{auth:Mr(ot.auth),p256dh:Mr(ot.p256dh),endpoint:ot.endpoint,swScope:ot.swScope,vapidKey:Mr(ot.vapidKey)}}}else if(4===Y){const ot=ht;w={token:ot.fcmToken,createTime:ot.createTime,subscriptionOptions:{auth:Mr(ot.auth),p256dh:Mr(ot.p256dh),endpoint:ot.endpoint,swScope:ot.swScope,vapidKey:Mr(ot.vapidKey)}}}}),function(Y,ye,Oe,ke){return k.apply(this,arguments)})})).close(),yield(0,ae.Lj)(lr),yield(0,ae.Lj)("fcm_vapid_details_db"),yield(0,ae.Lj)("undefined"),Zl(w)?w:null;var k}),zl.apply(this,arguments)}function Zl(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:w}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof w.auth&&w.auth.length>0&&"string"==typeof w.p256dh&&w.p256dh.length>0&&"string"==typeof w.endpoint&&w.endpoint.length>0&&"string"==typeof w.swScope&&w.swScope.length>0&&"string"==typeof w.vapidKey&&w.vapidKey.length>0}const Rr="firebase-messaging-store";let is=null;function en(){return is||(is=(0,ae.X3)("firebase-messaging-database",1,{upgrade:(I,w)=>{0===w&&I.createObjectStore(Rr)}})),is}function $a(I){return ai.apply(this,arguments)}function ai(){return(ai=(0,x.Z)(function*(I){const w=gn(I),k=yield(yield en()).transaction(Rr).objectStore(Rr).get(w);if(k)return k;{const W=yield Zo(I.appConfig.senderId);if(W)return yield qt(I,W),W}})).apply(this,arguments)}function qt(I,w){return vo.apply(this,arguments)}function vo(){return(vo=(0,x.Z)(function*(I,w){const A=gn(I),W=(yield en()).transaction(Rr,"readwrite");return yield W.objectStore(Rr).put(w,A),yield W.done,w})).apply(this,arguments)}function Pr(I){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,x.Z)(function*(I){const w=gn(I),k=(yield en()).transaction(Rr,"readwrite");yield k.objectStore(Rr).delete(w),yield k.done})).apply(this,arguments)}function gn({appConfig:I}){return I.appId}const yn=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function li(I,w){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,x.Z)(function*(I,w){const A=yield Ni(I),k=Ps(w),W={method:"POST",headers:A,body:JSON.stringify(k)};let Y;try{Y=yield(yield fetch(ui(I.appConfig),W)).json()}catch(ye){throw yn.create("token-subscribe-failed",{errorInfo:null==ye?void 0:ye.toString()})}if(Y.error)throw yn.create("token-subscribe-failed",{errorInfo:Y.error.message});if(!Y.token)throw yn.create("token-subscribe-no-token");return Y.token})).apply(this,arguments)}function qr(I,w){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,x.Z)(function*(I,w){const A=yield Ni(I),k=Ps(w.subscriptionOptions),W={method:"PATCH",headers:A,body:JSON.stringify(k)};let Y;try{Y=yield(yield fetch(`${ui(I.appConfig)}/${w.token}`,W)).json()}catch(ye){throw yn.create("token-update-failed",{errorInfo:null==ye?void 0:ye.toString()})}if(Y.error)throw yn.create("token-update-failed",{errorInfo:Y.error.message});if(!Y.token)throw yn.create("token-update-no-token");return Y.token})).apply(this,arguments)}function Rs(I,w){return vr.apply(this,arguments)}function vr(){return(vr=(0,x.Z)(function*(I,w){const k={method:"DELETE",headers:yield Ni(I)};try{const Y=yield(yield fetch(`${ui(I.appConfig)}/${w}`,k)).json();if(Y.error)throw yn.create("token-unsubscribe-failed",{errorInfo:Y.error.message})}catch(W){throw yn.create("token-unsubscribe-failed",{errorInfo:null==W?void 0:W.toString()})}})).apply(this,arguments)}function ui({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function Ni(I){return Je.apply(this,arguments)}function Je(){return(Je=(0,x.Z)(function*({appConfig:I,installations:w}){const A=yield w.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function Ps({p256dh:I,auth:w,endpoint:A,vapidKey:k}){const W={web:{endpoint:A,auth:w,p256dh:I}};return k!==mo&&(W.web.applicationPubKey=k),W}const lc=6048e5;function Ko(I){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,x.Z)(function*(I){const w=yield xs(I.swRegistration,I.vapidKey),A={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:w.endpoint,auth:Mr(w.getKey("auth")),p256dh:Mr(w.getKey("p256dh"))},k=yield $a(I.firebaseDependencies);if(k){if(Ga(k.subscriptionOptions,A))return Date.now()>=k.createTime+lc?uc(I,{token:k.token,createTime:Date.now(),subscriptionOptions:A}):k.token;try{yield Rs(I.firebaseDependencies,k.token)}catch(W){console.warn(W)}return ve(I.firebaseDependencies,A)}return ve(I.firebaseDependencies,A)})).apply(this,arguments)}function Wa(I){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,x.Z)(function*(I){const w=yield $a(I.firebaseDependencies);w&&(yield Rs(I.firebaseDependencies,w.token),yield Pr(I.firebaseDependencies));const A=yield I.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()})).apply(this,arguments)}function uc(I,w){return xi.apply(this,arguments)}function xi(){return(xi=(0,x.Z)(function*(I,w){try{const A=yield qr(I.firebaseDependencies,w),k=Object.assign(Object.assign({},w),{token:A,createTime:Date.now()});return yield qt(I.firebaseDependencies,k),A}catch(A){throw yield Wa(I),A}})).apply(this,arguments)}function ve(I,w){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,x.Z)(function*(I,w){const k={token:yield li(I,w),createTime:Date.now(),subscriptionOptions:w};return yield qt(I,k),k.token})).apply(this,arguments)}function xs(I,w){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,x.Z)(function*(I,w){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Yr(w)})})).apply(this,arguments)}function Ga(I,w){return w.vapidKey===I.vapidKey&&w.endpoint===I.endpoint&&w.auth===I.auth&&w.p256dh===I.p256dh}function ci(I){const w={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function xr(I,w){if(!w.notification)return;I.notification={};const A=w.notification.title;A&&(I.notification.title=A);const k=w.notification.body;k&&(I.notification.body=k);const W=w.notification.image;W&&(I.notification.image=W);const Y=w.notification.icon;Y&&(I.notification.icon=Y)}(w,I),function Io(I,w){!w.data||(I.data=w.data)}(w,I),function Os(I,w){var A,k,W,Y,ye;if(!w.fcmOptions&&!(null===(A=w.notification)||void 0===A?void 0:A.click_action))return;I.fcmOptions={};const Oe=null!==(W=null===(k=w.fcmOptions)||void 0===k?void 0:k.link)&&void 0!==W?W:null===(Y=w.notification)||void 0===Y?void 0:Y.click_action;Oe&&(I.fcmOptions.link=Oe);const ke=null===(ye=w.fcmOptions)||void 0===ye?void 0:ye.analytics_label;ke&&(I.fcmOptions.analyticsLabel=ke)}(w,I),w}function za(I){return"object"==typeof I&&!!I&&rs in I}function Za(I,w){const A=[];for(let k=0;k<I.length;k++)A.push(I.charAt(k)),k<w.length&&A.push(w.charAt(k));return A.join("")}function Oi(I){return yn.create("missing-app-config-values",{valueName:I})}Za("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Za("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class kn{constructor(w,A,k){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function Ql(I){if(!I||!I.options)throw Oi("App Configuration Object");if(!I.name)throw Oi("App Name");const w=["projectId","apiKey","appId","messagingSenderId"],{options:A}=I;for(const k of w)if(!A[k])throw Oi(k);return{appName:I.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(w);this.firebaseDependencies={app:w,appConfig:W,installations:A,analyticsProvider:k}}_delete(){return Promise.resolve()}}function Qr(I){return ks.apply(this,arguments)}function ks(){return(ks=(0,x.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Wl,{scope:ns}),I.swRegistration.update().catch(()=>{})}catch(w){throw yn.create("failed-service-worker-registration",{browserErrorMessage:null==w?void 0:w.message})}})).apply(this,arguments)}function Fs(I,w){return ur.apply(this,arguments)}function ur(){return(ur=(0,x.Z)(function*(I,w){if(!w&&!I.swRegistration&&(yield Qr(I)),w||!I.swRegistration){if(!(w instanceof ServiceWorkerRegistration))throw yn.create("invalid-sw-registration");I.swRegistration=w}})).apply(this,arguments)}function Yo(I,w){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,x.Z)(function*(I,w){w?I.vapidKey=w:I.vapidKey||(I.vapidKey=mo)})).apply(this,arguments)}function Ka(){return(Ka=(0,x.Z)(function*(I,w){if(!navigator)throw yn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw yn.create("permission-blocked");return yield Yo(I,null==w?void 0:w.vapidKey),yield Fs(I,null==w?void 0:w.serviceWorkerRegistration),Ko(I)})).apply(this,arguments)}function wo(I,w,A){return qo.apply(this,arguments)}function qo(){return(qo=(0,x.Z)(function*(I,w,A){const k=Qo(w);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(k,{message_id:A[rs],message_name:A[oc],message_time:A[Gl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Qo(I){switch(I){case Ri.NOTIFICATION_CLICKED:return"notification_open";case Ri.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Jo(){return(Jo=(0,x.Z)(function*(I,w){const A=w.data;if(!A.isFirebaseMessaging)return;I.onMessageHandler&&A.messageType===Ri.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(ci(A)):I.onMessageHandler.next(ci(A)));const k=A.data;za(k)&&"1"===k[Ms]&&(yield wo(I,A.messageType,k))})).apply(this,arguments)}const Xo="@firebase/messaging",Xl=I=>{const w=new kn(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function Jl(I,w){return Jo.apply(this,arguments)}(w,A)),w},Ya=I=>{const w=I.getProvider("messaging").getImmediate();return{getToken:k=>function Do(I,w){return Ka.apply(this,arguments)}(w,k)}};function Bs(){return cr.apply(this,arguments)}function cr(){return(cr=(0,x.Z)(function*(){try{yield(0,ne.eu)()}catch(I){return!1}return"undefined"!=typeof window&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function cc(){(0,re._registerComponent)(new ce.wA("messaging",Xl,"PUBLIC")),(0,re._registerComponent)(new ce.wA("messaging-internal",Ya,"PRIVATE")),(0,re.registerVersion)(Xo,"0.12.0"),(0,re.registerVersion)(Xo,"0.12.0","esm2017")}();const bo="analytics",hc="firebase_id",To="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ao="https://www.googletagmanager.com/gtag/js",vn=new ue.Yd("@firebase/analytics");function nu(I){return Promise.all(I.map(w=>w.catch(A=>A)))}function ru(I,w){const A=document.createElement("script");A.src=`${Ao}?l=${I}&id=${w}`,A.async=!0,document.head.appendChild(A)}function ea(I,w,A,k,W,Y){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,x.Z)(function*(I,w,A,k,W,Y){const ye=k[W];try{if(ye)yield w[ye];else{const ke=(yield nu(A)).find(We=>We.measurementId===W);ke&&(yield w[ke.appId])}}catch(Oe){vn.error(Oe)}I("config",W,Y)})).apply(this,arguments)}function iu(I,w,A,k,W){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,x.Z)(function*(I,w,A,k,W){try{let Y=[];if(W&&W.send_to){let ye=W.send_to;Array.isArray(ye)||(ye=[ye]);const Oe=yield nu(A);for(const ke of ye){const We=Oe.find(ot=>ot.measurementId===ke),ht=We&&w[We.appId];if(!ht){Y=[];break}Y.push(ht)}}0===Y.length&&(Y=Object.values(w)),yield Promise.all(Y),I("event",k,W||{})}catch(Y){vn.error(Y)}})).apply(this,arguments)}function su(I){const w=window.document.getElementsByTagName("script");for(const A of Object.values(w))if(A.src&&A.src.includes(Ao)&&A.src.includes(I))return A;return null}const dr=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Xn=new class di{constructor(w={},A=1e3){this.throttleMetadata=w,this.intervalMillis=A}getThrottleMetadata(w){return this.throttleMetadata[w]}setThrottleMetadata(w,A){this.throttleMetadata[w]=A}deleteThrottleMetadata(w){delete this.throttleMetadata[w]}};function Or(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Jr(I){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,x.Z)(function*(I){var w;const{appId:A,apiKey:k}=I,W={method:"GET",headers:Or(k)},Y=To.replace("{app-id}",A),ye=yield fetch(Y,W);if(200!==ye.status&&304!==ye.status){let Oe="";try{const ke=yield ye.json();(null===(w=ke.error)||void 0===w?void 0:w.message)&&(Oe=ke.error.message)}catch(ke){}throw dr.create("config-fetch-failed",{httpStatus:ye.status,responseMessage:Oe})}return ye.json()})).apply(this,arguments)}function Id(I){return ls.apply(this,arguments)}function ls(){return(ls=(0,x.Z)(function*(I,w=Xn,A){const{appId:k,apiKey:W,measurementId:Y}=I.options;if(!k)throw dr.create("no-app-id");if(!W){if(Y)return{measurementId:Y,appId:k};throw dr.create("no-api-key")}const ye=w.getThrottleMetadata(k)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Oe=new ou;return setTimeout((0,x.Z)(function*(){Oe.abort()}),void 0!==A?A:6e4),Xa({appId:k,apiKey:W,measurementId:Y},ye,Oe,w)})).apply(this,arguments)}function Xa(I,w,A){return us.apply(this,arguments)}function us(){return(us=(0,x.Z)(function*(I,{throttleEndTimeMillis:w,backoffCount:A},k,W=Xn){var Y;const{appId:ye,measurementId:Oe}=I;try{yield Li(k,w)}catch(ke){if(Oe)return vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Oe} provided in the "measurementId" field in the local Firebase config. [${null==ke?void 0:ke.message}]`),{appId:ye,measurementId:Oe};throw ke}try{const ke=yield Jr(I);return W.deleteThrottleMetadata(ye),ke}catch(ke){const We=ke;if(!ta(We)){if(W.deleteThrottleMetadata(ye),Oe)return vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Oe} provided in the "measurementId" field in the local Firebase config. [${null==We?void 0:We.message}]`),{appId:ye,measurementId:Oe};throw ke}const ht=503===Number(null===(Y=null==We?void 0:We.customData)||void 0===Y?void 0:Y.httpStatus)?(0,ne.$s)(A,W.intervalMillis,30):(0,ne.$s)(A,W.intervalMillis),ot={throttleEndTimeMillis:Date.now()+ht,backoffCount:A+1};return W.setThrottleMetadata(ye,ot),vn.debug(`Calling attemptFetch again in ${ht} millis`),Xa(I,ot,k,W)}})).apply(this,arguments)}function Li(I,w){return new Promise((A,k)=>{const W=Math.max(w-Date.now(),0),Y=setTimeout(A,W);I.addEventListener(()=>{clearTimeout(Y),k(dr.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}function ta(I){if(!(I instanceof ne.ZR&&I.customData))return!1;const w=Number(I.customData.httpStatus);return 429===w||500===w||503===w||504===w}class ou{constructor(){this.listeners=[]}addEventListener(w){this.listeners.push(w)}abort(){this.listeners.forEach(w=>w())}}let el,Mo;function cs(){return(cs=(0,x.Z)(function*(I,w,A,k,W){if(W&&W.global)I("event",A,k);else{const Y=yield w;I("event",A,Object.assign(Object.assign({},k),{send_to:Y}))}})).apply(this,arguments)}function Us(I){Mo=I}function tl(I){el=I}function Kn(){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,x.Z)(function*(){if(!(0,ne.hl)())return vn.warn(dr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(I){return vn.warn(dr.create("indexeddb-unavailable",{errorInfo:null==I?void 0:I.toString()}).message),!1}return!0})).apply(this,arguments)}function hi(){return(hi=(0,x.Z)(function*(I,w,A,k,W,Y,ye){var Oe;const ke=Id(I);ke.then(cn=>{A[cn.measurementId]=cn.appId,I.options.measurementId&&cn.measurementId!==I.options.measurementId&&vn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${cn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(cn=>vn.error(cn)),w.push(ke);const We=Kn().then(cn=>{if(cn)return k.getId()}),[ht,ot]=yield Promise.all([ke,We]);su(Y)||ru(Y,ht.measurementId),Mo&&(W("consent","default",Mo),Us(void 0)),W("js",new Date);const jn=null!==(Oe=null==ye?void 0:ye.config)&&void 0!==Oe?Oe:{};return jn.origin="firebase",jn.update=!0,null!=ot&&(jn[hc]=ot),W("config",ht.measurementId,jn),el&&(W("set",el),tl(void 0)),ht.measurementId})).apply(this,arguments)}class sa{constructor(w){this.app=w}_delete(){return delete St[this.app.options.appId],Promise.resolve()}}let St={},lu=[];const js={};let Rn,tn,Hs="dataLayer",oa=!1;function fs(I,w,A){!function Yn(){const I=[];if((0,ne.ru)()&&I.push("This is a browser extension environment."),(0,ne.zI)()||I.push("Cookies are not available."),I.length>0){const w=I.map((k,W)=>`(${W+1}) ${k}`).join(" "),A=dr.create("invalid-analytics-context",{errorInfo:w});vn.warn(A.message)}}();const k=I.options.appId;if(!k)throw dr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw dr.create("no-api-key");vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=St[k])throw dr.create("already-exists",{id:k});if(!oa){!function os(I){let w=[];Array.isArray(window[I])?w=window[I]:window[I]=w}(Hs);const{wrappedGtag:Y,gtagCore:ye}=function pc(I,w,A,k,W){let Y=function(...ye){window[k].push(arguments)};return window[W]&&"function"==typeof window[W]&&(Y=window[W]),window[W]=function Fi(I,w,A,k){function Y(){return(Y=(0,x.Z)(function*(ye,Oe,ke){try{"event"===ye?yield iu(I,w,A,Oe,ke):"config"===ye?yield ea(I,w,A,k,Oe,ke):"consent"===ye?I("consent","update",ke):I("set",Oe)}catch(We){vn.error(We)}})).apply(this,arguments)}return function W(ye,Oe,ke){return Y.apply(this,arguments)}}(Y,I,w,A),{gtagCore:Y,wrappedGtag:window[W]}}(St,lu,js,Hs,"gtag");tn=Y,Rn=ye,oa=!0}return St[k]=function _c(I,w,A,k,W,Y,ye){return hi.apply(this,arguments)}(I,lu,js,w,Rn,Hs,A),new sa(I)}function nl(){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,x.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(I){return!1}})).apply(this,arguments)}const mn="@firebase/analytics";!function Ws(){(0,re._registerComponent)(new ce.wA(bo,(w,{options:A})=>fs(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,re._registerComponent)(new ce.wA("analytics-internal",function I(w){try{const A=w.getProvider(bo).getImmediate();return{logEvent:(k,W,Y)=>function $s(I,w,A,k){I=(0,ne.m9)(I),function gc(I,w,A,k,W){return cs.apply(this,arguments)}(tn,St[I.app.options.appId],w,A,k).catch(W=>vn.error(W))}(A,k,W,Y)}}catch(A){throw dr.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,re.registerVersion)(mn,"0.9.0"),(0,re.registerVersion)(mn,"0.9.0","esm2017")}();var Ec=P(4408),En=P(7565);const aa=new class kr extends En.v{}(class No extends Ec.o{constructor(w,A){super(w,A),this.scheduler=w,this.work=A}schedule(w,A=0){return A>0?super.schedule(w,A):(this.delay=A,this.state=w,this.scheduler.flush(this),this)}execute(w,A){return A>0||this.closed?super.execute(w,A):this._execute(w,A)}requestAsyncId(w,A,k=0){return null!=k&&k>0||null==k&&this.delay>0?super.requestAsyncId(w,A,k):w.flush(this)}});var gi=P(4986),la=P(576),fr=P(4482),Un=P(5403),Cd=P(4671),ua=P(9468),In=P(5363);const Fr=new v.GfV("7.5.0"),tr="__angularfire_symbol__analyticsIsSupportedValue",cu="__angularfire_symbol__analyticsIsSupported",Vi="__angularfire_symbol__remoteConfigIsSupportedValue",Gs="__angularfire_symbol__remoteConfigIsSupported",ca="__angularfire_symbol__messagingIsSupportedValue",Dn="__angularfire_symbol__messagingIsSupported";function ha(I,w,A){if(w){if(1===w.length)return w[0];const Y=w.filter(ye=>ye.app===A);if(1===Y.length)return Y[0]}return A.container.getProvider(I).getImmediate({optional:!0})}globalThis[cu]||(globalThis[cu]=nl().then(I=>globalThis[tr]=I).catch(()=>globalThis[tr]=!1)),globalThis[Dn]||(globalThis[Dn]=Bs().then(I=>globalThis[ca]=I).catch(()=>globalThis[ca]=!1)),globalThis[Gs]||(globalThis[Gs]=$l().then(I=>globalThis[Vi]=I).catch(()=>globalThis[Vi]=!1));const fu=(I,w)=>{const A=w?[w]:(0,q.C6)(),k=[];return A.forEach(W=>{W.container.getProvider(I).instances.forEach(ye=>{k.includes(ye)||k.push(ye)})}),k};function ti(){}class hs{constructor(w,A=aa){this.zone=w,this.delegate=A}now(){return this.delegate.now()}schedule(w,A,k){const W=this.zone;return this.delegate.schedule(function(ye){W.runGuarded(()=>{w.apply(this,[ye])})},A,k)}}class Er{constructor(w){this.zone=w,this.task=null}call(w,A){const k=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ti,{},ti,ti)),A.pipe(function il(I,w,A){const k=(0,la.m)(I)||w||A?{next:I,error:w,complete:A}:I;return k?(0,fr.e)((W,Y)=>{var ye;null===(ye=k.subscribe)||void 0===ye||ye.call(k);let Oe=!0;W.subscribe(new Un.Q(Y,ke=>{var We;null===(We=k.next)||void 0===We||We.call(k,ke),Y.next(ke)},()=>{var ke;Oe=!1,null===(ke=k.complete)||void 0===ke||ke.call(k),Y.complete()},ke=>{var We;Oe=!1,null===(We=k.error)||void 0===We||We.call(k,ke),Y.error(ke)},()=>{var ke,We;Oe&&(null===(ke=k.unsubscribe)||void 0===ke||ke.call(k)),null===(We=k.finalize)||void 0===We||We.call(k)}))}):Cd.y}({next:k,complete:k,error:k})).subscribe(w).add(k)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let sl=(()=>{class I{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new hs(Zone.current)),this.insideAngular=A.run(()=>new hs(Zone.current,gi.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(A){return new(A||I)(v.LFG(v.R0b))},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Lr(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function pa(I){return Lr(),function hu(I){return function(A){return(A=A.lift(new Er(I.ngZone))).pipe((0,ua.R)(I.outsideAngular),(0,In.Q)(I.insideAngular))}}(Lr())(I)}},2090:(Ge,he,P)=>{P.d(he,{$s:()=>xe,BH:()=>ze,DV:()=>zn,Dv:()=>Ti,GJ:()=>ri,L:()=>ae,LL:()=>bn,Pz:()=>hn,Sg:()=>at,UG:()=>Ae,UI:()=>Xe,US:()=>ce,Wj:()=>Wt,Wl:()=>Tn,Yr:()=>Ue,ZB:()=>H,ZR:()=>At,aH:()=>It,b$:()=>ie,cI:()=>Gn,dS:()=>or,eu:()=>je,g5:()=>x,gK:()=>sr,gQ:()=>on,h$:()=>ue,hl:()=>Ze,hu:()=>q,jU:()=>Ne,lb:()=>Rt,m9:()=>Ot,ne:()=>ir,p$:()=>j,pd:()=>An,r3:()=>rr,ru:()=>le,tV:()=>me,uI:()=>Me,ug:()=>et,vZ:()=>un,w1:()=>Pe,w9:()=>ln,xO:()=>Ci,xb:()=>Ce,z$:()=>$e,zI:()=>ge,zd:()=>bi});const q=function(B,L){if(!B)throw x(L)},x=function(B){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+B)},re=function(B){const L=[];let $=0;for(let fe=0;fe<B.length;fe++){let X=B.charCodeAt(fe);X<128?L[$++]=X:X<2048?(L[$++]=X>>6|192,L[$++]=63&X|128):55296==(64512&X)&&fe+1<B.length&&56320==(64512&B.charCodeAt(fe+1))?(X=65536+((1023&X)<<10)+(1023&B.charCodeAt(++fe)),L[$++]=X>>18|240,L[$++]=X>>12&63|128,L[$++]=X>>6&63|128,L[$++]=63&X|128):(L[$++]=X>>12|224,L[$++]=X>>6&63|128,L[$++]=63&X|128)}return L},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,L){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,fe=[];for(let X=0;X<B.length;X+=3){const Ke=B[X],ut=X+1<B.length,Bt=ut?B[X+1]:0,Tt=X+2<B.length,Jt=Tt?B[X+2]:0;let Sn=(15&Bt)<<2|Jt>>6,Xi=63&Jt;Tt||(Xi=64,ut||(Sn=64)),fe.push($[Ke>>2],$[(3&Ke)<<4|Bt>>4],$[Sn],$[Xi])}return fe.join("")},encodeString(B,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(B):this.encodeByteArray(re(B),L)},decodeString(B,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(B):function(B){const L=[];let $=0,fe=0;for(;$<B.length;){const X=B[$++];if(X<128)L[fe++]=String.fromCharCode(X);else if(X>191&&X<224){const Ke=B[$++];L[fe++]=String.fromCharCode((31&X)<<6|63&Ke)}else if(X>239&&X<365){const Tt=((7&X)<<18|(63&B[$++])<<12|(63&B[$++])<<6|63&B[$++])-65536;L[fe++]=String.fromCharCode(55296+(Tt>>10)),L[fe++]=String.fromCharCode(56320+(1023&Tt))}else{const Ke=B[$++],ut=B[$++];L[fe++]=String.fromCharCode((15&X)<<12|(63&Ke)<<6|63&ut)}}return L.join("")}(this.decodeStringToByteArray(B,L))},decodeStringToByteArray(B,L){this.init_();const $=L?this.charToByteMapWebSafe_:this.charToByteMap_,fe=[];for(let X=0;X<B.length;){const Ke=$[B.charAt(X++)],Bt=X<B.length?$[B.charAt(X)]:0;++X;const Jt=X<B.length?$[B.charAt(X)]:64;++X;const st=X<B.length?$[B.charAt(X)]:64;if(++X,null==Ke||null==Bt||null==Jt||null==st)throw Error();fe.push(Ke<<2|Bt>>4),64!==Jt&&(fe.push(Bt<<4&240|Jt>>2),64!==st&&fe.push(Jt<<6&192|st))}return fe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}},ue=function(B){const L=re(B);return ce.encodeByteArray(L,!0)},ae=function(B){return ue(B).replace(/\./g,"")},me=function(B){try{return ce.decodeString(B,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function j(B){return H(void 0,B)}function H(B,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return L}for(const $ in L)!L.hasOwnProperty($)||!ee($)||(B[$]=H(B[$],L[$]));return B}function ee(B){return"__proto__"!==B}function $e(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Me(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function Ae(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(B){return!1}}function Ne(){return"object"==typeof self&&self.self===self}function le(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function ie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pe(){const B=$e();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function Ue(){return!1}function Ze(){try{return"object"==typeof indexedDB}catch(B){return!1}}function je(){return new Promise((B,L)=>{try{let $=!0;const fe="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(fe);X.onsuccess=()=>{X.result.close(),$||self.indexedDB.deleteDatabase(fe),B(!0)},X.onupgradeneeded=()=>{$=!1},X.onerror=()=>{var Ke;L((null===(Ke=X.error)||void 0===Ke?void 0:Ke.message)||"")}}catch($){L($)}})}function ge(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}const De=()=>{try{return function V(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const B=process.env.__FIREBASE_DEFAULTS__;return B?JSON.parse(B):void 0})()||(()=>{if("undefined"==typeof document)return;let B;try{B=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch($){return}const L=B&&me(B[1]);return L&&JSON.parse(L)})()}catch(B){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${B}`)}},It=()=>{var B;return null===(B=De())||void 0===B?void 0:B.config},hn=B=>{var L;return null===(L=De())||void 0===L?void 0:L[`_${B}`]};class ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,$)=>{this.resolve=L,this.reject=$})}wrapCallback(L){return($,fe)=>{$?this.reject($):this.resolve(fe),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L($):L($,fe))}}}function at(B,L){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const fe=L||"demo-project",X=B.iat||0,Ke=B.sub||B.user_id;if(!Ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ut=Object.assign({iss:`https://securetoken.google.com/${fe}`,aud:fe,iat:X,exp:X+3600,auth_time:X,sub:Ke,user_id:Ke,firebase:{sign_in_provider:"custom",identities:{}}},B);return[ae(JSON.stringify({alg:"none",type:"JWT"})),ae(JSON.stringify(ut)),""].join(".")}class At extends Error{constructor(L,$,fe){super($),this.code=L,this.customData=fe,this.name="FirebaseError",Object.setPrototypeOf(this,At.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bn.prototype.create)}}class bn{constructor(L,$,fe){this.service=L,this.serviceName=$,this.errors=fe}create(L,...$){const fe=$[0]||{},X=`${this.service}/${L}`,Ke=this.errors[L],ut=Ke?function Ut(B,L){return B.replace(pr,($,fe)=>{const X=L[fe];return null!=X?String(X):`<${fe}?>`})}(Ke,fe):"Error";return new At(X,`${this.serviceName}: ${ut} (${X}).`,fe)}}const pr=/\{\$([^}]+)}/g;function Gn(B){return JSON.parse(B)}function Tn(B){return JSON.stringify(B)}const gr=function(B){let L={},$={},fe={},X="";try{const Ke=B.split(".");L=Gn(me(Ke[0])||""),$=Gn(me(Ke[1])||""),X=Ke[2],fe=$.d||{},delete $.d}catch(Ke){}return{header:L,claims:$,data:fe,signature:X}},ln=function(B){const $=gr(B).claims;return!!$&&"object"==typeof $&&$.hasOwnProperty("iat")},ri=function(B){const L=gr(B).claims;return"object"==typeof L&&!0===L.admin};function rr(B,L){return Object.prototype.hasOwnProperty.call(B,L)}function zn(B,L){if(Object.prototype.hasOwnProperty.call(B,L))return B[L]}function Ce(B){for(const L in B)if(Object.prototype.hasOwnProperty.call(B,L))return!1;return!0}function Xe(B,L,$){const fe={};for(const X in B)Object.prototype.hasOwnProperty.call(B,X)&&(fe[X]=L.call($,B[X],X,B));return fe}function un(B,L){if(B===L)return!0;const $=Object.keys(B),fe=Object.keys(L);for(const X of $){if(!fe.includes(X))return!1;const Ke=B[X],ut=L[X];if(sn(Ke)&&sn(ut)){if(!un(Ke,ut))return!1}else if(Ke!==ut)return!1}for(const X of fe)if(!$.includes(X))return!1;return!0}function sn(B){return null!==B&&"object"==typeof B}function Ci(B){const L=[];for(const[$,fe]of Object.entries(B))Array.isArray(fe)?fe.forEach(X=>{L.push(encodeURIComponent($)+"="+encodeURIComponent(X))}):L.push(encodeURIComponent($)+"="+encodeURIComponent(fe));return L.length?"&"+L.join("&"):""}function bi(B){const L={};return B.replace(/^\?/,"").split("&").forEach(fe=>{if(fe){const[X,Ke]=fe.split("=");L[decodeURIComponent(X)]=decodeURIComponent(Ke)}}),L}function An(B){const L=B.indexOf("?");if(!L)return"";const $=B.indexOf("#",L);return B.substring(L,$>0?$:void 0)}class on{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let L=1;L<this.blockSize;++L)this.pad_[L]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(L,$){$||($=0);const fe=this.W_;if("string"==typeof L)for(let st=0;st<16;st++)fe[st]=L.charCodeAt($)<<24|L.charCodeAt($+1)<<16|L.charCodeAt($+2)<<8|L.charCodeAt($+3),$+=4;else for(let st=0;st<16;st++)fe[st]=L[$]<<24|L[$+1]<<16|L[$+2]<<8|L[$+3],$+=4;for(let st=16;st<80;st++){const Sn=fe[st-3]^fe[st-8]^fe[st-14]^fe[st-16];fe[st]=4294967295&(Sn<<1|Sn>>>31)}let Jt,Kt,X=this.chain_[0],Ke=this.chain_[1],ut=this.chain_[2],Bt=this.chain_[3],Tt=this.chain_[4];for(let st=0;st<80;st++){st<40?st<20?(Jt=Bt^Ke&(ut^Bt),Kt=1518500249):(Jt=Ke^ut^Bt,Kt=1859775393):st<60?(Jt=Ke&ut|Bt&(Ke|ut),Kt=2400959708):(Jt=Ke^ut^Bt,Kt=3395469782);const Sn=(X<<5|X>>>27)+Jt+Tt+Kt+fe[st]&4294967295;Tt=Bt,Bt=ut,ut=4294967295&(Ke<<30|Ke>>>2),Ke=X,X=Sn}this.chain_[0]=this.chain_[0]+X&4294967295,this.chain_[1]=this.chain_[1]+Ke&4294967295,this.chain_[2]=this.chain_[2]+ut&4294967295,this.chain_[3]=this.chain_[3]+Bt&4294967295,this.chain_[4]=this.chain_[4]+Tt&4294967295}update(L,$){if(null==L)return;void 0===$&&($=L.length);const fe=$-this.blockSize;let X=0;const Ke=this.buf_;let ut=this.inbuf_;for(;X<$;){if(0===ut)for(;X<=fe;)this.compress_(L,X),X+=this.blockSize;if("string"==typeof L){for(;X<$;)if(Ke[ut]=L.charCodeAt(X),++ut,++X,ut===this.blockSize){this.compress_(Ke),ut=0;break}}else for(;X<$;)if(Ke[ut]=L[X],++ut,++X,ut===this.blockSize){this.compress_(Ke),ut=0;break}}this.inbuf_=ut,this.total_+=$}digest(){const L=[];let $=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let X=this.blockSize-1;X>=56;X--)this.buf_[X]=255&$,$/=256;this.compress_(this.buf_);let fe=0;for(let X=0;X<5;X++)for(let Ke=24;Ke>=0;Ke-=8)L[fe]=this.chain_[X]>>Ke&255,++fe;return L}}function ir(B,L){const $=new lo(B,L);return $.subscribe.bind($)}class lo{constructor(L,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{L(this)}).catch(fe=>{this.error(fe)})}next(L){this.forEachObserver($=>{$.next(L)})}error(L){this.forEachObserver($=>{$.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,$,fe){let X;if(void 0===L&&void 0===$&&void 0===fe)throw new Error("Missing Observer.");X=function Qe(B,L){if("object"!=typeof B||null===B)return!1;for(const $ of L)if($ in B&&"function"==typeof B[$])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:$,complete:fe},void 0===X.next&&(X.next=tt),void 0===X.error&&(X.error=tt),void 0===X.complete&&(X.complete=tt);const Ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch(ut){}}),this.observers.push(X),Ke}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,L)}sendOne(L,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{$(this.observers[L])}catch(fe){"undefined"!=typeof console&&console.error&&console.error(fe)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tt(){}const Ti=function(B,L,$,fe){let X;if(fe<L?X="at least "+L:fe>$&&(X=0===$?"none":"no more than "+$),X)throw new Error(B+" failed: Was called with "+fe+(1===fe?" argument.":" arguments.")+" Expects "+X+".")};function sr(B,L){return`${B} failed: ${L} argument `}function Wt(B,L,$,fe){if((!fe||$)&&"function"!=typeof $)throw new Error(sr(B,L)+"must be a valid function.")}function Rt(B,L,$,fe){if((!fe||$)&&("object"!=typeof $||null===$))throw new Error(sr(B,L)+"must be a valid context object.")}const or=function(B){const L=[];let $=0;for(let fe=0;fe<B.length;fe++){let X=B.charCodeAt(fe);if(X>=55296&&X<=56319){const Ke=X-55296;fe++,q(fe<B.length,"Surrogate pair missing trail surrogate."),X=65536+(Ke<<10)+(B.charCodeAt(fe)-56320)}X<128?L[$++]=X:X<2048?(L[$++]=X>>6|192,L[$++]=63&X|128):X<65536?(L[$++]=X>>12|224,L[$++]=X>>6&63|128,L[$++]=63&X|128):(L[$++]=X>>18|240,L[$++]=X>>12&63|128,L[$++]=X>>6&63|128,L[$++]=63&X|128)}return L},et=function(B){let L=0;for(let $=0;$<B.length;$++){const fe=B.charCodeAt($);fe<128?L++:fe<2048?L+=2:fe>=55296&&fe<=56319?(L+=4,$++):L+=3}return L};function xe(B,L=1e3,$=2){const fe=L*Math.pow($,B),X=Math.round(.5*fe*(Math.random()-.5)*2);return Math.min(144e5,fe+X)}function Ot(B){return B&&B._delegate?B._delegate:B}},4177:(Ge,he,P)=>{var v=P(5e3);let q=null;function x(){return q}const ue=new v.OlP("DocumentToken");let Ms=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=v.oAB({type:s}),s.\u0275inj=v.cJS({}),s})();class ai extends class $a extends class ce{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ne(s){q||(q=s)}(new ai)}onAndCancel(r,n,a){return r.addEventListener(n,a,!1),()=>{r.removeEventListener(n,a,!1)}}dispatchEvent(r,n){r.dispatchEvent(n)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,n){return(n=n||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,n){return"window"===n?window:"document"===n?r:"body"===n?r.body:null}getBaseHref(r){const n=function vo(){return qt=qt||document.querySelector("base"),qt?qt.getAttribute("href"):null}();return null==n?null:function Nr(s){Pr=Pr||document.createElement("a"),Pr.setAttribute("href",s);const r=Pr.pathname;return"/"===r.charAt(0)?r:`/${r}`}(n)}resetBaseElement(){qt=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return function uo(s,r){r=encodeURIComponent(r);for(const n of s.split(";")){const a=n.indexOf("="),[d,p]=-1==a?[n,""]:[n.slice(0,a),n.slice(a+1)];if(d.trim()===r)return decodeURIComponent(p)}return null}(document.cookie,r)}}let Pr,qt=null;const gn=new v.OlP("TRANSITION_ID"),yn=[{provide:v.ip1,useFactory:function ql(s,r,n){return()=>{n.get(v.CZH).donePromise.then(()=>{const a=x(),d=r.querySelectorAll(`style[ng-transition="${s}"]`);for(let p=0;p<d.length;p++)a.remove(d[p])})}},deps:[gn,ue,v.zs3],multi:!0}];class li{static init(){(0,v.VLi)(new li)}addToWindow(r){v.dqk.getAngularTestability=(a,d=!0)=>{const p=r.findTestabilityInTree(a,d);if(null==p)throw new Error("Could not find testability for element.");return p},v.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),v.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),v.dqk.frameworkStabilizers||(v.dqk.frameworkStabilizers=[]),v.dqk.frameworkStabilizers.push(a=>{const d=v.dqk.getAllAngularTestabilities();let p=d.length,y=!1;const C=function(M){y=y||M,p--,0==p&&a(y)};d.forEach(function(M){M.whenStable(C)})})}findTestabilityInTree(r,n,a){if(null==n)return null;const d=r.getTestability(n);return null!=d?d:a?x().isShadowRoot(n)?this.findTestabilityInTree(r,n.host,!0):this.findTestabilityInTree(r,n.parentElement,!0):null}}let Zn=(()=>{class s{build(){return new XMLHttpRequest}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275prov=v.Yz7({token:s,factory:s.\u0275fac}),s})();const qr=new v.OlP("EventManagerPlugins");let Pi=(()=>{class s{constructor(n,a){this._zone=a,this._eventNameToPlugin=new Map,n.forEach(d=>d.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,a,d){return this._findPluginFor(a).addEventListener(n,a,d)}addGlobalEventListener(n,a,d){return this._findPluginFor(a).addGlobalEventListener(n,a,d)}getZone(){return this._zone}_findPluginFor(n){const a=this._eventNameToPlugin.get(n);if(a)return a;const d=this._plugins;for(let p=0;p<d.length;p++){const y=d[p];if(y.supports(n))return this._eventNameToPlugin.set(n,y),y}throw new Error(`No event manager plugin found for event ${n}`)}}return s.\u0275fac=function(n){return new(n||s)(v.LFG(qr),v.LFG(v.R0b))},s.\u0275prov=v.Yz7({token:s,factory:s.\u0275fac}),s})();class Rs{constructor(r){this._doc=r}addGlobalEventListener(r,n,a){const d=x().getGlobalEventTarget(this._doc,r);if(!d)throw new Error(`Unsupported event target ${d} for event ${n}`);return this.addEventListener(d,n,a)}}let vr=(()=>{class s{constructor(){this._stylesSet=new Set}addStyles(n){const a=new Set;n.forEach(d=>{this._stylesSet.has(d)||(this._stylesSet.add(d),a.add(d))}),this.onStylesAdded(a)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275prov=v.Yz7({token:s,factory:s.\u0275fac}),s})(),ui=(()=>{class s extends vr{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,a,d){n.forEach(p=>{const y=this._doc.createElement("style");y.textContent=p,d.push(a.appendChild(y))})}addHost(n){const a=[];this._addStylesToHost(this._stylesSet,n,a),this._hostNodes.set(n,a)}removeHost(n){const a=this._hostNodes.get(n);a&&a.forEach(Ni),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((a,d)=>{this._addStylesToHost(n,d,a)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Ni))}}return s.\u0275fac=function(n){return new(n||s)(v.LFG(ue))},s.\u0275prov=v.Yz7({token:s,factory:s.\u0275fac}),s})();function Ni(s){x().remove(s)}const Je={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ps=/%COMP%/g;function xi(s,r,n){for(let a=0;a<r.length;a++){let d=r[a];Array.isArray(d)?xi(s,d,n):(d=d.replace(Ps,s),n.push(d))}return n}function ve(s){return r=>{if("__ngUnwrap__"===r)return s;!1===s(r)&&(r.preventDefault(),r.returnValue=!1)}}let xs=(()=>{class s{constructor(n,a,d){this.eventManager=n,this.sharedStylesHost=a,this.appId=d,this.rendererByCompId=new Map,this.defaultRenderer=new Qt(n)}createRenderer(n,a){if(!n||!a)return this.defaultRenderer;switch(a.encapsulation){case v.ifc.Emulated:{let d=this.rendererByCompId.get(a.id);return d||(d=new xr(this.eventManager,this.sharedStylesHost,a,this.appId),this.rendererByCompId.set(a.id,d)),d.applyToHost(n),d}case 1:case v.ifc.ShadowDom:return new Io(this.eventManager,this.sharedStylesHost,n,a);default:if(!this.rendererByCompId.has(a.id)){const d=xi(a.id,a.styles,[]);this.sharedStylesHost.addStyles(d),this.rendererByCompId.set(a.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return s.\u0275fac=function(n){return new(n||s)(v.LFG(Pi),v.LFG(ui),v.LFG(v.AFp))},s.\u0275prov=v.Yz7({token:s,factory:s.\u0275fac}),s})();class Qt{constructor(r){this.eventManager=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(r,n){return n?document.createElementNS(Je[n]||n,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,n){r.appendChild(n)}insertBefore(r,n,a){r&&r.insertBefore(n,a)}removeChild(r,n){r&&r.removeChild(n)}selectRootElement(r,n){let a="string"==typeof r?document.querySelector(r):r;if(!a)throw new Error(`The selector "${r}" did not match any elements`);return n||(a.textContent=""),a}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,n,a,d){if(d){n=d+":"+n;const p=Je[d];p?r.setAttributeNS(p,n,a):r.setAttribute(n,a)}else r.setAttribute(n,a)}removeAttribute(r,n,a){if(a){const d=Je[a];d?r.removeAttributeNS(d,n):r.removeAttribute(`${a}:${n}`)}else r.removeAttribute(n)}addClass(r,n){r.classList.add(n)}removeClass(r,n){r.classList.remove(n)}setStyle(r,n,a,d){d&(v.JOm.DashCase|v.JOm.Important)?r.style.setProperty(n,a,d&v.JOm.Important?"important":""):r.style[n]=a}removeStyle(r,n,a){a&v.JOm.DashCase?r.style.removeProperty(n):r.style[n]=""}setProperty(r,n,a){r[n]=a}setValue(r,n){r.nodeValue=n}listen(r,n,a){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,n,ve(a)):this.eventManager.addEventListener(r,n,ve(a))}}class xr extends Qt{constructor(r,n,a,d){super(r),this.component=a;const p=xi(d+"-"+a.id,a.styles,[]);n.addStyles(p),this.contentAttr=function Eo(s){return"_ngcontent-%COMP%".replace(Ps,s)}(d+"-"+a.id),this.hostAttr=function uc(s){return"_nghost-%COMP%".replace(Ps,s)}(d+"-"+a.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,n){const a=super.createElement(r,n);return super.setAttribute(a,this.contentAttr,""),a}}class Io extends Qt{constructor(r,n,a,d){super(r),this.sharedStylesHost=n,this.hostEl=a,this.shadowRoot=a.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const p=xi(d.id,d.styles,[]);for(let y=0;y<p.length;y++){const C=document.createElement("style");C.textContent=p[y],this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,n){return super.appendChild(this.nodeOrShadowRoot(r),n)}insertBefore(r,n,a){return super.insertBefore(this.nodeOrShadowRoot(r),n,a)}removeChild(r,n){return super.removeChild(this.nodeOrShadowRoot(r),n)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let Os=(()=>{class s extends Rs{constructor(n){super(n)}supports(n){return!0}addEventListener(n,a,d){return n.addEventListener(a,d,!1),()=>this.removeEventListener(n,a,d)}removeEventListener(n,a,d){return n.removeEventListener(a,d)}}return s.\u0275fac=function(n){return new(n||s)(v.LFG(ue))},s.\u0275prov=v.Yz7({token:s,factory:s.\u0275fac}),s})();const za=["alt","control","meta","shift"],Ql={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Oi={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},kn={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let Qr=(()=>{class s extends Rs{constructor(n){super(n)}supports(n){return null!=s.parseEventName(n)}addEventListener(n,a,d){const p=s.parseEventName(a),y=s.eventCallback(p.fullKey,d,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>x().onAndCancel(n,p.domEventName,y))}static parseEventName(n){const a=n.toLowerCase().split("."),d=a.shift();if(0===a.length||"keydown"!==d&&"keyup"!==d)return null;const p=s._normalizeKey(a.pop());let y="";if(za.forEach(M=>{const N=a.indexOf(M);N>-1&&(a.splice(N,1),y+=M+".")}),y+=p,0!=a.length||0===p.length)return null;const C={};return C.domEventName=d,C.fullKey=y,C}static getEventFullKey(n){let a="",d=function ks(s){let r=s.key;if(null==r){if(r=s.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===s.location&&Oi.hasOwnProperty(r)&&(r=Oi[r]))}return Ql[r]||r}(n);return d=d.toLowerCase()," "===d?d="space":"."===d&&(d="dot"),za.forEach(p=>{p!=d&&kn[p](n)&&(a+=p+".")}),a+=d,a}static eventCallback(n,a,d){return p=>{s.getEventFullKey(p)===n&&d.runGuarded(()=>a(p))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return s.\u0275fac=function(n){return new(n||s)(v.LFG(ue))},s.\u0275prov=v.Yz7({token:s,factory:s.\u0275fac}),s})();const Do=(0,v.eFA)(v._c5,"browser",[{provide:v.Lbi,useValue:"browser"},{provide:v.g9A,useValue:function Fs(){ai.makeCurrent(),li.init()},multi:!0},{provide:ue,useFactory:function Yo(){return(0,v.RDi)(document),document},deps:[]}]),Ka=[{provide:v.zSh,useValue:"root"},{provide:v.qLn,useFactory:function ur(){return new v.qLn},deps:[]},{provide:qr,useClass:Os,multi:!0,deps:[ue,v.R0b,v.Lbi]},{provide:qr,useClass:Qr,multi:!0,deps:[ue]},{provide:xs,useClass:xs,deps:[Pi,ui,v.AFp]},{provide:v.FYo,useExisting:xs},{provide:vr,useExisting:ui},{provide:ui,useClass:ui,deps:[ue]},{provide:v.dDg,useClass:v.dDg,deps:[v.R0b]},{provide:Pi,useClass:Pi,deps:[qr,v.R0b]},{provide:class en{},useClass:Zn,deps:[]}];let wo=(()=>{class s{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:s,providers:[{provide:v.AFp,useValue:n.appId},{provide:gn,useExisting:v.AFp},yn]}}}return s.\u0275fac=function(n){return new(n||s)(v.LFG(s,12))},s.\u0275mod=v.oAB({type:s}),s.\u0275inj=v.cJS({providers:Ka,imports:[Ms,v.hGG]}),s})();"undefined"!=typeof window&&window;var su=P(7579),Ed=P(6063);class dr extends su.x{constructor(r=1/0,n=1/0,a=Ed.l){super(),this._bufferSize=r,this._windowTime=n,this._timestampProvider=a,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,r),this._windowTime=Math.max(1,n)}next(r){const{isStopped:n,_buffer:a,_infiniteTimeWindow:d,_timestampProvider:p,_windowTime:y}=this;n||(a.push(r),!d&&a.push(p.now()+y)),this._trimBuffer(),super.next(r)}_subscribe(r){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(r),{_infiniteTimeWindow:a,_buffer:d}=this,p=d.slice();for(let y=0;y<p.length&&!r.closed;y+=a?1:2)r.next(p[y]);return this._checkFinalizedStatuses(r),n}_trimBuffer(){const{_bufferSize:r,_timestampProvider:n,_buffer:a,_infiniteTimeWindow:d}=this,p=(d?1:2)*r;if(r<1/0&&p<a.length&&a.splice(0,a.length-p),!d){const y=n.now();let C=0;for(let M=1;M<a.length&&a[M]<=y;M+=2)C=M;C&&a.splice(0,C+1)}}}var as=P(831),Ja=P(8421),di=P(4482),Xn=P(5403);function Or(s,r){return(0,di.e)((n,a)=>{let d=null,p=0,y=!1;const C=()=>y&&!d&&a.complete();n.subscribe(new Xn.Q(a,M=>{null==d||d.unsubscribe();let N=0;const z=p++;(0,Ja.Xf)(s(M,z)).subscribe(d=new Xn.Q(a,G=>a.next(r?r(M,G,z,N++):G),()=>{d=null,C()}))},()=>{y=!0,C()}))})}var Jr=P(4004);const Xr={schedule(s,r){const n=setTimeout(s,r);return()=>clearTimeout(n)},scheduleBeforeRender(s){if("undefined"==typeof window)return Xr.schedule(s,0);if(void 0===window.requestAnimationFrame)return Xr.schedule(s,16);const r=window.requestAnimationFrame(s);return()=>window.cancelAnimationFrame(r)}};let Li;function So(s,r,n){let a=n;return function ls(s){return!!s&&s.nodeType===Node.ELEMENT_NODE}(s)&&r.some((d,p)=>!("*"===d||!function ta(s,r){if(!Li){const n=Element.prototype;Li=n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}return s.nodeType===Node.ELEMENT_NODE&&Li.call(s,r)}(s,d)||(a=p,0))),a}class na{constructor(r,n){this.componentFactory=n.get(v._Vd).resolveComponentFactory(r)}create(r){return new fi(this.componentFactory,r)}}class fi{constructor(r,n){this.componentFactory=r,this.injector=n,this.eventEmitters=new dr(1),this.events=this.eventEmitters.pipe(Or(a=>(0,as.T)(...a))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:a})=>a)),this.ngZone=this.injector.get(v.R0b),this.elementZone="undefined"==typeof Zone?null:this.ngZone.run(()=>Zone.current)}connect(r){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(r)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=Xr.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(r){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(r):this.componentRef.instance[r])}setInputValue(r,n){this.runInZone(()=>{null!==this.componentRef?function ou(s,r){return s===r||s!=s&&r!=r}(n,this.getInputValue(r))&&(void 0!==n||!this.unchangedInputs.has(r))||(this.recordInputChange(r,n),this.unchangedInputs.delete(r),this.hasInputChanges=!0,this.componentRef.instance[r]=n,this.scheduleDetectChanges()):this.initialInputValues.set(r,n)})}initializeComponent(r){const n=v.zs3.create({providers:[],parent:this.injector}),a=function cs(s,r){const n=s.childNodes,a=r.map(()=>[]);let d=-1;r.some((p,y)=>"*"===p&&(d=y,!0));for(let p=0,y=n.length;p<y;++p){const C=n[p],M=So(C,r,d);-1!==M&&a[M].push(C)}return a}(r,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(n,a,r),this.viewChangeDetectorRef=this.componentRef.injector.get(v.sBO),this.implementsOnChanges=function Xa(s){return"function"==typeof s}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(v.z2F).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:r})=>{this.initialInputValues.has(r)&&this.setInputValue(r,this.initialInputValues.get(r))}),this.initialInputValues.clear()}initializeOutputs(r){const n=this.componentFactory.outputs.map(({propName:a,templateName:d})=>r.instance[a].pipe((0,Jr.U)(y=>({name:d,value:y}))));this.eventEmitters.next(n)}callNgOnChanges(r){if(!this.implementsOnChanges||null===this.inputChanges)return;const n=this.inputChanges;this.inputChanges=null,r.instance.ngOnChanges(n)}markViewForCheck(r){this.hasInputChanges&&(this.hasInputChanges=!1,r.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=Xr.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(r,n){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const a=this.inputChanges[r];if(a)return void(a.currentValue=n);const d=this.unchangedInputs.has(r),p=d?void 0:this.getInputValue(r);this.inputChanges[r]=new v.WD2(p,n,d)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(r){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(r):r()}}class au extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}var ia=P(4986),Mo=P(8306),Us=P(7669),tl=P(8996);function Kn(...s){const r=(0,Us.yG)(s);return(0,tl.D)(s,r)}var Bi=P(3099);function _c(s,r,n,a,d){return(p,y)=>{let C=n,M=r,N=0;p.subscribe(new Xn.Q(y,z=>{const G=N++;M=C?s(M,z,G):(C=!0,z),a&&y.next(M)},d&&(()=>{C&&y.next(M),y.complete()})))}}function hi(s,r){return(0,di.e)(_c(s,r,arguments.length>=2,!0))}var sa=P(4671);function lu(s,r){return s===r}var js=P(5032),Rn=P(7184),tn=P(2011),uu=(P(8852),P(3942)),Yn=P(4859),fs=P(5861),ei=P(9681),R=P(2090),nl=P(1877);const Ro="@firebase/database";let rl="";function Dd(s){rl=s}class vc{constructor(r){this.domStorage_=r,this.prefix_="firebase:"}set(r,n){null==n?this.domStorage_.removeItem(this.prefixedName_(r)):this.domStorage_.setItem(this.prefixedName_(r),(0,R.Wl)(n))}get(r){const n=this.domStorage_.getItem(this.prefixedName_(r));return null==n?null:(0,R.cI)(n)}remove(r){this.domStorage_.removeItem(this.prefixedName_(r))}prefixedName_(r){return this.prefix_+r}toString(){return this.domStorage_.toString()}}class wd{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(r,n){null==n?delete this.cache_[r]:this.cache_[r]=n}get(r){return(0,R.r3)(this.cache_,r)?this.cache_[r]:null}remove(r){delete this.cache_[r]}}const $s=function(s){try{if("undefined"!=typeof window&&void 0!==window[s]){const r=window[s];return r.setItem("firebase:sentinel","cache"),r.removeItem("firebase:sentinel"),new vc(r)}}catch(r){}return new wd},Po=$s("localStorage"),mn=$s("sessionStorage"),er=new nl.Yd("@firebase/database"),Ws=function(){let s=1;return function(){return s++}}(),Ec=function(s){const r=(0,R.dS)(s),n=new R.gQ;n.update(r);const a=n.digest();return R.US.encodeByteArray(a)},No=function(...s){let r="";for(let n=0;n<s.length;n++){const a=s[n];Array.isArray(a)||a&&"object"==typeof a&&"number"==typeof a.length?r+=No.apply(null,a):r+="object"==typeof a?(0,R.Wl)(a):a,r+=" "}return r};let En=null,kr=!0;const aa=function(s,r){(0,R.hu)(!r||!0===s||!1===s,"Can't turn on custom loggers persistently."),!0===s?(er.logLevel=nl.in.VERBOSE,En=er.log.bind(er),r&&mn.set("logging_enabled",!0)):"function"==typeof s?En=s:(En=null,mn.remove("logging_enabled"))},_n=function(...s){if(!0===kr&&(kr=!1,null===En&&!0===mn.get("logging_enabled")&&aa(!0)),En){const r=No.apply(null,s);En(r)}},gi=function(s){return function(...r){_n(s,...r)}},la=function(...s){const r="FIREBASE INTERNAL ERROR: "+No(...s);er.error(r)},fr=function(...s){const r=`FIREBASE FATAL ERROR: ${No(...s)}`;throw er.error(r),new Error(r)},Un=function(...s){const r="FIREBASE WARNING: "+No(...s);er.warn(r)},il=function(s){return"number"==typeof s&&(s!=s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},In="[MIN_NAME]",Fr="[MAX_NAME]",tr=function(s,r){if(s===r)return 0;if(s===In||r===Fr)return-1;if(r===In||s===Fr)return 1;{const n=hs(s),a=hs(r);return null!==n?null!==a?n-a==0?s.length-r.length:n-a:-1:null!==a?1:s<r?-1:1}},cu=function(s,r){return s===r?0:s<r?-1:1},Vi=function(s,r){if(r&&s in r)return r[s];throw new Error("Missing required key ("+s+") in object: "+(0,R.Wl)(r))},Gs=function(s){if("object"!=typeof s||null===s)return(0,R.Wl)(s);const r=[];for(const a in s)r.push(a);r.sort();let n="{";for(let a=0;a<r.length;a++)0!==a&&(n+=","),n+=(0,R.Wl)(r[a]),n+=":",n+=Gs(s[r[a]]);return n+="}",n},ca=function(s,r){const n=s.length;if(n<=r)return[s];const a=[];for(let d=0;d<n;d+=r)a.push(s.substring(d,d+r>n?n:d+r));return a};function Dn(s,r){for(const n in s)s.hasOwnProperty(n)&&r(n,s[n])}const da=function(s){(0,R.hu)(!il(s),"Invalid JSON number");const a=1023;let d,p,y,C,M;0===s?(p=0,y=0,d=1/s==-1/0?1:0):(d=s<0,(s=Math.abs(s))>=Math.pow(2,1-a)?(C=Math.min(Math.floor(Math.log(s)/Math.LN2),a),p=C+a,y=Math.round(s*Math.pow(2,52-C)-Math.pow(2,52))):(p=0,y=Math.round(s/Math.pow(2,-1074))));const N=[];for(M=52;M;M-=1)N.push(y%2?1:0),y=Math.floor(y/2);for(M=11;M;M-=1)N.push(p%2?1:0),p=Math.floor(p/2);N.push(d?1:0),N.reverse();const z=N.join("");let G="";for(M=0;M<64;M+=8){let se=parseInt(z.substr(M,8),2).toString(16);1===se.length&&(se="0"+se),G+=se}return G.toLowerCase()},ha=new RegExp("^-?(0*)\\d{1,10}$"),hs=function(s){if(ha.test(s)){const r=Number(s);if(r>=-2147483648&&r<=2147483647)return r}return null},Er=function(s){try{s()}catch(r){setTimeout(()=>{throw Un("Exception was thrown by user callback.",r.stack||""),r},Math.floor(0))}},Lr=function(s,r){const n=setTimeout(s,r);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class ol{constructor(r,n){this.appName_=r,this.appCheckProvider=n,this.appCheck=null==n?void 0:n.getImmediate({optional:!0}),this.appCheck||null==n||n.get().then(a=>this.appCheck=a)}getToken(r){return this.appCheck?this.appCheck.getToken(r):new Promise((n,a)=>{setTimeout(()=>{this.appCheck?this.getToken(r).then(n,a):n(null)},0)})}addTokenChangeListener(r){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(a=>a.addTokenListener(r))}notifyForInvalidToken(){Un(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Ir{constructor(r,n,a){this.appName_=r,this.firebaseOptions_=n,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(d=>this.auth_=d)}getToken(r){return this.auth_?this.auth_.getToken(r).catch(n=>n&&"auth/token-not-initialized"===n.code?(_n("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,a)=>{setTimeout(()=>{this.auth_?this.getToken(r).then(n,a):n(null)},0)})}addTokenChangeListener(r){this.auth_?this.auth_.addAuthTokenListener(r):this.authProvider_.get().then(n=>n.addAuthTokenListener(r))}removeTokenChangeListener(r){this.authProvider_.get().then(n=>n.removeAuthTokenListener(r))}notifyForInvalidToken(){let r='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';r+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Un(r)}}let ni=(()=>{class s{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return s.OWNER="owner",s})();const I=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,W="websocket",Y="long_polling";class ye{constructor(r,n,a,d,p=!1,y="",C=!1){this.secure=n,this.namespace=a,this.webSocketOnly=d,this.nodeAdmin=p,this.persistenceKey=y,this.includeNamespaceInQueryParams=C,this._host=r.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Po.get("host:"+r)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(r){r!==this.internalHost&&(this.internalHost=r,this.isCacheableHost()&&Po.set("host:"+this._host,this.internalHost))}toString(){let r=this.toURLString();return this.persistenceKey&&(r+="<"+this.persistenceKey+">"),r}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function ke(s,r,n){let a;if((0,R.hu)("string"==typeof r,"typeof type must == string"),(0,R.hu)("object"==typeof n,"typeof params must == object"),r===W)a=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else{if(r!==Y)throw new Error("Unknown connection type: "+r);a=(s.secure?"https://":"http://")+s.internalHost+"/.lp?"}(function Oe(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams})(s)&&(n.ns=s.namespace);const d=[];return Dn(n,(p,y)=>{d.push(p+"="+y)}),a+d.join("&")}class We{constructor(){this.counters_={}}incrementCounter(r,n=1){(0,R.r3)(this.counters_,r)||(this.counters_[r]=0),this.counters_[r]+=n}get(){return(0,R.p$)(this.counters_)}}const ht={},ot={};function jn(s){const r=s.toString();return ht[r]||(ht[r]=new We),ht[r]}class ps{constructor(r){this.onMessage_=r,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(r,n){this.closeAfterResponse=r,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(r,n){for(this.pendingResponses[r]=n;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let d=0;d<a.length;++d)a[d]&&Er(()=>{this.onMessage_(a[d])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ji{constructor(r,n,a,d,p,y,C){this.connId=r,this.repoInfo=n,this.applicationId=a,this.appCheckToken=d,this.authToken=p,this.transportSessionId=y,this.lastSessionId=C,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=gi(r),this.stats_=jn(n),this.urlFn=M=>(this.appCheckToken&&(M.ac=this.appCheckToken),ke(n,Y,M))}open(r,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new ps(r),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(s){if((0,R.Yr)()||"complete"===document.readyState)s();else{let r=!1;const n=function(){document.body?r||(r=!0,s()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new al((...p)=>{const[y,C,M,N,z]=p;if(this.incrementIncomingBytes_(p),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===y)this.id=C,this.password=M;else{if("close"!==y)throw new Error("Unrecognized command received: "+y);C?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(C,()=>{this.onClosed_()})):this.onClosed_()}},(...p)=>{const[y,C]=p;this.incrementIncomingBytes_(p),this.myPacketOrderer.handleResponse(y,C)},()=>{this.onClosed_()},this.urlFn);const a={start:"t"};a.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(a.cb=this.scriptTagHolder.uniqueCallbackIdentifier),a.v="5",this.transportSessionId&&(a.s=this.transportSessionId),this.lastSessionId&&(a.ls=this.lastSessionId),this.applicationId&&(a.p=this.applicationId),this.appCheckToken&&(a.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&I.test(location.hostname)&&(a.r="f");const d=this.urlFn(a);this.log_("Connecting via long-poll to "+d),this.scriptTagHolder.addTag(d,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ji.forceAllow_=!0}static forceDisallow(){ji.forceDisallow_=!0}static isAvailable(){return!((0,R.Yr)()||!ji.forceAllow_&&(ji.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(r){const n=(0,R.Wl)(r);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const a=(0,R.h$)(n),d=ca(a,1840);for(let p=0;p<d.length;p++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,d.length,d[p]),this.curSegmentNum++}addDisconnectPingFrame(r,n){if((0,R.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const a={dframe:"t"};a.id=r,a.pw=n,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(r){const n=(0,R.Wl)(r).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class al{constructor(r,n,a,d){if(this.onDisconnect=a,this.urlFn=d,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,R.Yr)())this.commandCB=r,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Ws(),window["pLPCommand"+this.uniqueCallbackIdentifier]=r,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=al.createIFrame_();let p="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(p='<script>document.domain="'+document.domain+'";<\/script>');const y="<html><body>"+p+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(y),this.myIFrame.doc.close()}catch(C){_n("frame writing exception"),C.stack&&_n(C.stack),_n(C)}}}static createIFrame_(){const r=document.createElement("iframe");if(r.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(r);try{r.contentWindow.document||_n("No IE domain setting required")}catch(n){const a=document.domain;r.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}return r.contentDocument?r.doc=r.contentDocument:r.contentWindow?r.doc=r.contentWindow.document:r.document&&(r.doc=r.document),r}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const r=this.onDisconnect;r&&(this.onDisconnect=null,r())}startLongPoll(r,n){for(this.myID=r,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const r={};r.id=this.myID,r.pw=this.myPW,r.ser=this.currentSerial;let n=this.urlFn(r),a="",d=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+a.length<=1870;){const y=this.pendingSegs.shift();a=a+"&seg"+d+"="+y.seg+"&ts"+d+"="+y.ts+"&d"+d+"="+y.d,d++}return n+=a,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(r,n,a){this.pendingSegs.push({seg:r,ts:n,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(r,n){this.outstandingRequests.add(n);const a=()=>{this.outstandingRequests.delete(n),this.newRequest_()},d=setTimeout(a,Math.floor(25e3));this.addTag(r,()=>{clearTimeout(d),a()})}addTag(r,n){(0,R.Yr)()?this.doNodeLongPoll(r,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=r,a.onload=a.onreadystatechange=function(){const d=a.readyState;(!d||"loaded"===d||"complete"===d)&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),n())},a.onerror=()=>{_n("Long-poll script failed to load: "+r),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch(a){}},Math.floor(1))}}let _a=null;"undefined"!=typeof MozWebSocket?_a=MozWebSocket:"undefined"!=typeof WebSocket&&(_a=WebSocket);let Zs=(()=>{class s{constructor(n,a,d,p,y,C,M){this.connId=n,this.applicationId=d,this.appCheckToken=p,this.authToken=y,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=gi(this.connId),this.stats_=jn(a),this.connURL=s.connectionURL_(a,C,M,p,d),this.nodeAdmin=a.nodeAdmin}static connectionURL_(n,a,d,p,y){const C={v:"5"};return!(0,R.Yr)()&&"undefined"!=typeof location&&location.hostname&&I.test(location.hostname)&&(C.r="f"),a&&(C.s=a),d&&(C.ls=d),p&&(C.ac=p),y&&(C.p=y),ke(n,W,C)}open(n,a){this.onDisconnect=a,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Po.set("previous_websocket_failure",!0);try{let d;if((0,R.Yr)()){d={headers:{"User-Agent":`Firebase/5/${rl}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(d.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(d.headers["X-Firebase-AppCheck"]=this.appCheckToken);const y=process.env,C=0===this.connURL.indexOf("wss://")?y.HTTPS_PROXY||y.https_proxy:y.HTTP_PROXY||y.http_proxy;C&&(d.proxy={origin:C})}this.mySock=new _a(this.connURL,[],d)}catch(d){this.log_("Error instantiating WebSocket.");const p=d.message||d.data;return p&&this.log_(p),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=d=>{this.handleIncomingFrame(d)},this.mySock.onerror=d=>{this.log_("WebSocket error.  Closing connection.");const p=d.message||d.data;p&&this.log_(p),this.onClosed_()}}start(){}static forceDisallow(){s.forceDisallow_=!0}static isAvailable(){let n=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const d=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);d&&d.length>1&&parseFloat(d[1])<4.4&&(n=!0)}return!n&&null!==_a&&!s.forceDisallow_}static previouslyFailed(){return Po.isInMemoryStorage||!0===Po.get("previous_websocket_failure")}markConnectionHealthy(){Po.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const a=this.frames.join("");this.frames=null;const d=(0,R.cI)(a);this.onMessage(d)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if((0,R.hu)(null===this.frames,"We already have a frame buffer"),n.length<=6){const a=Number(n);if(!isNaN(a))return this.handleNewFrameCount_(a),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const a=n.data;if(this.bytesReceived+=a.length,this.stats_.incrementCounter("bytes_received",a.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(a);else{const d=this.extractFrameCount_(a);null!==d&&this.appendFrame_(d)}}send(n){this.resetKeepAlive();const a=(0,R.Wl)(n);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const d=ca(a,16384);d.length>1&&this.sendString_(String(d.length));for(let p=0;p<d.length;p++)this.sendString_(d[p])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(a){this.log_("Exception thrown from WebSocket.send():",a.message||a.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return s.responsesRequiredToBeHealthy=2,s.healthyTimeout=3e4,s})(),Hn=(()=>{class s{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[ji,Zs]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const a=Zs&&Zs.isAvailable();let d=a&&!Zs.previouslyFailed();if(n.webSocketOnly&&(a||Un("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),d=!0),d)this.transports_=[Zs];else{const p=this.transports_=[];for(const y of s.ALL_TRANSPORTS)y&&y.isAvailable()&&p.push(y);s.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return s.globalTransportInitialized_=!1,s})();class Rc{constructor(r,n,a,d,p,y,C,M,N,z){this.id=r,this.repoInfo_=n,this.applicationId_=a,this.appCheckToken_=d,this.authToken_=p,this.onMessage_=y,this.onReady_=C,this.onDisconnect_=M,this.onKill_=N,this.lastSessionId=z,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=gi("c:"+this.id+":"),this.transportManager_=new Hn(n),this.log_("Connection created"),this.start_()}start_(){const r=this.transportManager_.initialTransport();this.conn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,a)},Math.floor(0));const d=r.healthyTimeout||0;d>0&&(this.healthyTimeout_=Lr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(d)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(r){return n=>{r===this.conn_?this.onConnectionLost_(n):r===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(r){return n=>{2!==this.state_&&(r===this.rx_?this.onPrimaryMessageReceived_(n):r===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(r){this.sendData_({t:"d",d:r})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(r){if("t"in r){const n=r.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(r){const n=Vi("t",r),a=Vi("d",r);if("c"===n)this.onSecondaryControl_(a);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(a)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(r){const n=Vi("t",r),a=Vi("d",r);"c"===n?this.onControl_(a):"d"===n&&this.onDataMessage_(a)}onDataMessage_(r){this.onPrimaryResponse_(),this.onMessage_(r)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(r){const n=Vi("t",r);if("d"in r){const a=r.d;if("h"===n)this.onHandshake_(a);else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let d=0;d<this.pendingDataMessages.length;++d)this.onDataMessage_(this.pendingDataMessages[d]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(a):"r"===n?this.onReset_(a):"e"===n?la("Server Error: "+a):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):la("Unknown control packet command: "+n)}}onHandshake_(r){const n=r.ts,a=r.v,d=r.h;this.sessionId=r.s,this.repoInfo_.host=d,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==a&&Un("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const r=this.transportManager_.upgradeTransport();r&&this.startUpgrade_(r)}startUpgrade_(r){this.secondaryConn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,a),Lr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(r){this.log_("Reset packet received.  New host: "+r),this.repoInfo_.host=r,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(r,n){this.log_("Realtime connection established."),this.conn_=r,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Lr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const r=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===r||this.rx_===r)&&this.close()}onConnectionLost_(r){this.conn_=null,r||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Po.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(r){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(r),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(r){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(r)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ya{put(r,n,a,d){}merge(r,n,a,d){}refreshAuthToken(r){}refreshAppCheckToken(r){}onDisconnectPut(r,n,a){}onDisconnectMerge(r,n,a){}onDisconnectCancel(r,n){}reportStats(r){}}class Pc{constructor(r){this.allowedEvents_=r,this.listeners_={},(0,R.hu)(Array.isArray(r)&&r.length>0,"Requires a non-empty array")}trigger(r,...n){if(Array.isArray(this.listeners_[r])){const a=[...this.listeners_[r]];for(let d=0;d<a.length;d++)a[d].callback.apply(a[d].context,n)}}on(r,n,a){this.validateEventType_(r),this.listeners_[r]=this.listeners_[r]||[],this.listeners_[r].push({callback:n,context:a});const d=this.getInitialEvent(r);d&&n.apply(a,d)}off(r,n,a){this.validateEventType_(r);const d=this.listeners_[r]||[];for(let p=0;p<d.length;p++)if(d[p].callback===n&&(!a||a===d[p].context))return void d.splice(p,1)}validateEventType_(r){(0,R.hu)(this.allowedEvents_.find(n=>n===r),"Unknown event: "+r)}}class ul extends Pc{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,R.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ul}getInitialEvent(r){return(0,R.hu)("online"===r,"Unknown event type: "+r),[this.online_]}currentlyOnline(){return this.online_}}class Pt{constructor(r,n){if(void 0===n){this.pieces_=r.split("/");let a=0;for(let d=0;d<this.pieces_.length;d++)this.pieces_[d].length>0&&(this.pieces_[a]=this.pieces_[d],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=r,this.pieceNum_=n}toString(){let r="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(r+="/"+this.pieces_[n]);return r||"/"}}function Lt(){return new Pt("")}function pt(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Hi(s){return s.pieces_.length-s.pieceNum_}function zt(s){let r=s.pieceNum_;return r<s.pieces_.length&&r++,new Pt(s.pieces_,r)}function Nc(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function cl(s,r=0){return s.pieces_.slice(s.pieceNum_+r)}function Rd(s){if(s.pieceNum_>=s.pieces_.length)return null;const r=[];for(let n=s.pieceNum_;n<s.pieces_.length-1;n++)r.push(s.pieces_[n]);return new Pt(r,0)}function dn(s,r){const n=[];for(let a=s.pieceNum_;a<s.pieces_.length;a++)n.push(s.pieces_[a]);if(r instanceof Pt)for(let a=r.pieceNum_;a<r.pieces_.length;a++)n.push(r.pieces_[a]);else{const a=r.split("/");for(let d=0;d<a.length;d++)a[d].length>0&&n.push(a[d])}return new Pt(n,0)}function wt(s){return s.pieceNum_>=s.pieces_.length}function Qn(s,r){const n=pt(s),a=pt(r);if(null===n)return r;if(n===a)return Qn(zt(s),zt(r));throw new Error("INTERNAL ERROR: innerPath ("+r+") is not within outerPath ("+s+")")}function zf(s,r){const n=cl(s,0),a=cl(r,0);for(let d=0;d<n.length&&d<a.length;d++){const p=tr(n[d],a[d]);if(0!==p)return p}return n.length===a.length?0:n.length<a.length?-1:1}function va(s,r){if(Hi(s)!==Hi(r))return!1;for(let n=s.pieceNum_,a=r.pieceNum_;n<=s.pieces_.length;n++,a++)if(s.pieces_[n]!==r.pieces_[a])return!1;return!0}function Dr(s,r){let n=s.pieceNum_,a=r.pieceNum_;if(Hi(s)>Hi(r))return!1;for(;n<s.pieces_.length;){if(s.pieces_[n]!==r.pieces_[a])return!1;++n,++a}return!0}class xc{constructor(r,n){this.errorPrefix_=n,this.parts_=cl(r,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=(0,R.ug)(this.parts_[a]);Pd(this)}}function Pd(s){if(s.byteLength_>768)throw new Error(s.errorPrefix_+"has a key path longer than 768 bytes ("+s.byteLength_+").");if(s.parts_.length>32)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+gs(s))}function gs(s){return 0===s.parts_.length?"":"in property '"+s.parts_.join(".")+"'"}class dl extends Pc{constructor(){let r,n;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",r="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",r="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",r="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",r="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const a=!document[r];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}static getInstance(){return new dl}getInitialEvent(r){return(0,R.hu)("visible"===r,"Unknown event type: "+r),[this.visible_]}}const _i=1e3;let fl,ko=(()=>{class s extends ya{constructor(n,a,d,p,y,C,M,N){if(super(),this.repoInfo_=n,this.applicationId_=a,this.onDataUpdate_=d,this.onConnectStatus_=p,this.onServerInfoUpdate_=y,this.authTokenProvider_=C,this.appCheckTokenProvider_=M,this.authOverride_=N,this.id=s.nextPersistentConnectionId_++,this.log_=gi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_i,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,N&&!(0,R.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");dl.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&ul.getInstance().on("online",this.onOnline_,this)}sendRequest(n,a,d){const p=++this.requestNumber_,y={r:p,a:n,b:a};this.log_((0,R.Wl)(y)),(0,R.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(y),d&&(this.requestCBHash_[p]=d)}get(n){this.initConnection_();const a=new R.BH,d={p:n._path.toString(),q:n._queryObject};return this.outstandingGets_.push({action:"g",request:d,onComplete:C=>{const M=C.d;"ok"===C.s?a.resolve(M):a.reject(M)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),a.promise}listen(n,a,d,p){this.initConnection_();const y=n._queryIdentifier,C=n._path.toString();this.log_("Listen called for "+C+" "+y),this.listens.has(C)||this.listens.set(C,new Map),(0,R.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,R.hu)(!this.listens.get(C).has(y),"listen() called twice for same path/queryId.");const M={onComplete:p,hashFn:a,query:n,tag:d};this.listens.get(C).set(y,M),this.connected_&&this.sendListen_(M)}sendGet_(n){const a=this.outstandingGets_[n];this.sendRequest("g",a.request,d=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),a.onComplete&&a.onComplete(d)})}sendListen_(n){const a=n.query,d=a._path.toString(),p=a._queryIdentifier;this.log_("Listen on "+d+" for "+p);const y={p:d};n.tag&&(y.q=a._queryObject,y.t=n.tag),y.h=n.hashFn(),this.sendRequest("q",y,M=>{const N=M.d,z=M.s;s.warnOnListenWarnings_(N,a),(this.listens.get(d)&&this.listens.get(d).get(p))===n&&(this.log_("listen response",M),"ok"!==z&&this.removeListen_(d,p),n.onComplete&&n.onComplete(z,N))})}static warnOnListenWarnings_(n,a){if(n&&"object"==typeof n&&(0,R.r3)(n,"w")){const d=(0,R.DV)(n,"w");if(Array.isArray(d)&&~d.indexOf("no_index")){const p='".indexOn": "'+a._queryParams.getIndex().toString()+'"',y=a._path.toString();Un(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${p} at ${y} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||(0,R.GJ)(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,a=(0,R.w9)(n)?"auth":"gauth",d={cred:n};null===this.authOverride_?d.noauth=!0:"object"==typeof this.authOverride_&&(d.authvar=this.authOverride_),this.sendRequest(a,d,p=>{const y=p.s,C=p.d||"error";this.authToken_===n&&("ok"===y?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(y,C))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const a=n.s,d=n.d||"error";"ok"===a?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(a,d)})}unlisten(n,a){const d=n._path.toString(),p=n._queryIdentifier;this.log_("Unlisten called for "+d+" "+p),(0,R.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(d,p)&&this.connected_&&this.sendUnlisten_(d,p,n._queryObject,a)}sendUnlisten_(n,a,d,p){this.log_("Unlisten on "+n+" for "+a);const y={p:n};p&&(y.q=d,y.t=p),this.sendRequest("n",y)}onDisconnectPut(n,a,d){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,a,d):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:a,onComplete:d})}onDisconnectMerge(n,a,d){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,a,d):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:a,onComplete:d})}onDisconnectCancel(n,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:a})}sendOnDisconnect_(n,a,d,p){const y={p:a,d};this.log_("onDisconnect "+n,y),this.sendRequest(n,y,C=>{p&&setTimeout(()=>{p(C.s,C.d)},Math.floor(0))})}put(n,a,d,p){this.putInternal("p",n,a,d,p)}merge(n,a,d,p){this.putInternal("m",n,a,d,p)}putInternal(n,a,d,p,y){this.initConnection_();const C={p:a,d};void 0!==y&&(C.h=y),this.outstandingPuts_.push({action:n,request:C,onComplete:p}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+a)}sendPut_(n){const a=this.outstandingPuts_[n].action,d=this.outstandingPuts_[n].request,p=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(a,d,y=>{this.log_(a+" response",y),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),p&&p(y.s,y.d)})}reportStats(n){if(this.connected_){const a={c:n};this.log_("reportStats",a),this.sendRequest("s",a,d=>{"ok"!==d.s&&this.log_("reportStats","Error sending stats: "+d.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+(0,R.Wl)(n));const a=n.r,d=this.requestCBHash_[a];d&&(delete this.requestCBHash_[a],d(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,a){this.log_("handleServerMessage",n,a),"d"===n?this.onDataUpdate_(a.p,a.d,!1,a.t):"m"===n?this.onDataUpdate_(a.p,a.d,!0,a.t):"c"===n?this.onListenRevoked_(a.p,a.q):"ac"===n?this.onAuthRevoked_(a.s,a.d):"apc"===n?this.onAppCheckRevoked_(a.s,a.d):"sd"===n?this.onSecurityDebugPacket_(a):la("Unrecognized action received from server: "+(0,R.Wl)(n)+"\nAre you using the latest client?")}onReady_(n,a){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=a,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){(0,R.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_i,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=_i,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=_i),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let a=Math.max(0,this.reconnectDelay_-n);a=Math.random()*a,this.log_("Trying to reconnect in "+a+"ms"),this.scheduleConnect_(a),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,fs.Z)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const a=n.onDataMessage_.bind(n),d=n.onReady_.bind(n),p=n.onRealtimeDisconnect_.bind(n),y=n.id+":"+s.nextConnectionId_++,C=n.lastSessionId;let M=!1,N=null;const z=function(){N?N.close():(M=!0,p())};n.realtime_={close:z,sendRequest:function(Te){(0,R.hu)(N,"sendRequest call when we're not connected not allowed."),N.sendRequest(Te)}};const se=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[Te,Ve]=yield Promise.all([n.authTokenProvider_.getToken(se),n.appCheckTokenProvider_.getToken(se)]);M?_n("getToken() completed but was canceled"):(_n("getToken() completed. Creating connection."),n.authToken_=Te&&Te.accessToken,n.appCheckToken_=Ve&&Ve.token,N=new Rc(y,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,a,d,p,vt=>{Un(vt+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},C))}catch(Te){n.log_("Failed to get token: "+Te),M||(n.repoInfo_.nodeAdmin&&Un(Te),z())}}})()}interrupt(n){_n("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){_n("Resuming connection for reason: "+n),delete this.interruptReasons_[n],(0,R.xb)(this.interruptReasons_)&&(this.reconnectDelay_=_i,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const a=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:a})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const a=this.outstandingPuts_[n];a&&"h"in a.request&&a.queued&&(a.onComplete&&a.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,a){let d;d=a?a.map(y=>Gs(y)).join("$"):"default";const p=this.removeListen_(n,d);p&&p.onComplete&&p.onComplete("permission_denied")}removeListen_(n,a){const d=new Pt(n).toString();let p;if(this.listens.has(d)){const y=this.listens.get(d);p=y.get(a),y.delete(a),0===y.size&&this.listens.delete(d)}else p=void 0;return p}onAuthRevoked_(n,a){_n("Auth token revoked: "+n+"/"+a),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,a){_n("App check token revoked: "+n+"/"+a),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const a of n.values())this.sendListen_(a);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let a="js";(0,R.Yr)()&&(a=this.repoInfo_.nodeAdmin?"admin_node":"node"),n["sdk."+a+"."+rl.replace(/\./g,"-")]=1,(0,R.uI)()?n["framework.cordova"]=1:(0,R.b$)()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=ul.getInstance().currentlyOnline();return(0,R.xb)(this.interruptReasons_)&&n}}return s.nextPersistentConnectionId_=0,s.nextConnectionId_=0,s})();class ct{constructor(r,n){this.name=r,this.node=n}static Wrap(r,n){return new ct(r,n)}}class Ea{getCompare(){return this.compare.bind(this)}indexedValueChanged(r,n){const a=new ct(In,r),d=new ct(In,n);return 0!==this.compare(a,d)}minPost(){return ct.MIN}}class Fo extends Ea{static get __EMPTY_NODE(){return fl}static set __EMPTY_NODE(r){fl=r}compare(r,n){return tr(r.name,n.name)}isDefinedOn(r){throw(0,R.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(r,n){return!1}minPost(){return ct.MIN}maxPost(){return new ct(Fr,fl)}makePost(r,n){return(0,R.hu)("string"==typeof r,"KeyIndex indexValue must always be a string."),new ct(r,fl)}toString(){return".key"}}const Br=new Fo;class Lo{constructor(r,n,a,d,p=null){this.isReverse_=d,this.resultGenerator_=p,this.nodeStack_=[];let y=1;for(;!r.isEmpty();)if(y=n?a(r.key,n):1,d&&(y*=-1),y<0)r=this.isReverse_?r.left:r.right;else{if(0===y){this.nodeStack_.push(r);break}this.nodeStack_.push(r),r=this.isReverse_?r.right:r.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,r=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value},this.isReverse_)for(r=r.left;!r.isEmpty();)this.nodeStack_.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack_.push(r),r=r.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const r=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value}}}let Ia,Vr=(()=>{class s{constructor(n,a,d,p,y){this.key=n,this.value=a,this.color=null!=d?d:s.RED,this.left=null!=p?p:$n.EMPTY_NODE,this.right=null!=y?y:$n.EMPTY_NODE}copy(n,a,d,p,y){return new s(null!=n?n:this.key,null!=a?a:this.value,null!=d?d:this.color,null!=p?p:this.left,null!=y?y:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,a,d){let p=this;const y=d(n,p.key);return p=y<0?p.copy(null,null,null,p.left.insert(n,a,d),null):0===y?p.copy(null,a,null,null,null):p.copy(null,null,null,null,p.right.insert(n,a,d)),p.fixUp_()}removeMin_(){if(this.left.isEmpty())return $n.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,a){let d,p;if(d=this,a(n,d.key)<0)!d.left.isEmpty()&&!d.left.isRed_()&&!d.left.left.isRed_()&&(d=d.moveRedLeft_()),d=d.copy(null,null,null,d.left.remove(n,a),null);else{if(d.left.isRed_()&&(d=d.rotateRight_()),!d.right.isEmpty()&&!d.right.isRed_()&&!d.right.left.isRed_()&&(d=d.moveRedRight_()),0===a(n,d.key)){if(d.right.isEmpty())return $n.EMPTY_NODE;p=d.right.min_(),d=d.copy(p.key,p.value,null,null,d.right.removeMin_())}d=d.copy(null,null,null,null,d.right.remove(n,a))}return d.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,s.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,s.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,a)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return s.RED=!0,s.BLACK=!1,s})();class $n{constructor(r,n=$n.EMPTY_NODE){this.comparator_=r,this.root_=n}insert(r,n){return new $n(this.comparator_,this.root_.insert(r,n,this.comparator_).copy(null,null,Vr.BLACK,null,null))}remove(r){return new $n(this.comparator_,this.root_.remove(r,this.comparator_).copy(null,null,Vr.BLACK,null,null))}get(r){let n,a=this.root_;for(;!a.isEmpty();){if(n=this.comparator_(r,a.key),0===n)return a.value;n<0?a=a.left:n>0&&(a=a.right)}return null}getPredecessorKey(r){let n,a=this.root_,d=null;for(;!a.isEmpty();){if(n=this.comparator_(r,a.key),0===n){if(a.left.isEmpty())return d?d.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}n<0?a=a.left:n>0&&(d=a,a=a.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(r){return this.root_.inorderTraversal(r)}reverseTraversal(r){return this.root_.reverseTraversal(r)}getIterator(r){return new Lo(this.root_,null,this.comparator_,!1,r)}getIteratorFrom(r,n){return new Lo(this.root_,r,this.comparator_,!1,n)}getReverseIteratorFrom(r,n){return new Lo(this.root_,r,this.comparator_,!0,n)}getReverseIterator(r){return new Lo(this.root_,null,this.comparator_,!0,r)}}function hl(s,r){return tr(s.name,r.name)}function Vc(s,r){return tr(s,r)}$n.EMPTY_NODE=new class Bc{copy(r,n,a,d,p){return this}insert(r,n,a){return new Vr(r,n,null)}remove(r,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Od=function(s){return"number"==typeof s?"number:"+da(s):"string:"+s},Uc=function(s){if(s.isLeafNode()){const r=s.val();(0,R.hu)("string"==typeof r||"number"==typeof r||"object"==typeof r&&(0,R.r3)(r,".sv"),"Priority must be a string or number.")}else(0,R.hu)(s===Ia||s.isEmpty(),"priority of unexpected type.");(0,R.hu)(s===Ia||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let wu,pl,$i,ms=(()=>{class s{constructor(n,a=s.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=a,this.lazyHash_=null,(0,R.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Uc(this.priorityNode_)}static set __childrenNodeConstructor(n){wu=n}static get __childrenNodeConstructor(){return wu}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new s(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:s.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return wt(n)?this:".priority"===pt(n)?this.priorityNode_:s.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,a){return null}updateImmediateChild(n,a){return".priority"===n?this.updatePriority(a):a.isEmpty()&&".priority"!==n?this:s.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,a).updatePriority(this.priorityNode_)}updateChild(n,a){const d=pt(n);return null===d?a:a.isEmpty()&&".priority"!==d?this:((0,R.hu)(".priority"!==d||1===Hi(n),".priority must be the last token in a path"),this.updateImmediateChild(d,s.__childrenNodeConstructor.EMPTY_NODE.updateChild(zt(n),a)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,a){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Od(this.priorityNode_.val())+":");const a=typeof this.value_;n+=a+":",n+="number"===a?da(this.value_):this.value_,this.lazyHash_=Ec(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===s.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof s.__childrenNodeConstructor?-1:((0,R.hu)(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const a=typeof n.value_,d=typeof this.value_,p=s.VALUE_TYPE_ORDER.indexOf(a),y=s.VALUE_TYPE_ORDER.indexOf(d);return(0,R.hu)(p>=0,"Unknown leaf type: "+a),(0,R.hu)(y>=0,"Unknown leaf type: "+d),p===y?"object"===d?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:y-p}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const a=n;return this.value_===a.value_&&this.priorityNode_.equals(a.priorityNode_)}return!1}}return s.VALUE_TYPE_ORDER=["object","boolean","number","string"],s})();const Zt=new class kd extends Ea{compare(r,n){const a=r.node.getPriority(),d=n.node.getPriority(),p=a.compareTo(d);return 0===p?tr(r.name,n.name):p}isDefinedOn(r){return!r.getPriority().isEmpty()}indexedValueChanged(r,n){return!r.getPriority().equals(n.getPriority())}minPost(){return ct.MIN}maxPost(){return new ct(Fr,new ms("[PRIORITY-POST]",$i))}makePost(r,n){const a=pl(r);return new ct(n,new ms("[PRIORITY-POST]",a))}toString(){return".priority"}},Cu=Math.log(2);class jc{constructor(r){this.count=parseInt(Math.log(r+1)/Cu,10),this.current_=this.count-1;const d=(p=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=r+1&d}nextBitIsOne(){const r=!(this.bits_&1<<this.current_);return this.current_--,r}}const Ks=function(s,r,n,a){s.sort(r);const d=function(M,N){const z=N-M;let G,se;if(0===z)return null;if(1===z)return G=s[M],se=n?n(G):G,new Vr(se,G.node,Vr.BLACK,null,null);{const Te=parseInt(z/2,10)+M,Ve=d(M,Te),vt=d(Te+1,N);return G=s[Te],se=n?n(G):G,new Vr(se,G.node,Vr.BLACK,Ve,vt)}},C=function(M){let N=null,z=null,G=s.length;const se=function(Ve,vt){const $t=G-Ve,Ln=G;G-=Ve;const Cn=d($t+1,Ln),Ii=s[$t],wn=n?n(Ii):Ii;Te(new Vr(wn,Ii.node,vt,null,Cn))},Te=function(Ve){N?(N.left=Ve,N=Ve):(z=Ve,N=Ve)};for(let Ve=0;Ve<M.count;++Ve){const vt=M.nextBitIsOne(),$t=Math.pow(2,M.count-(Ve+1));vt?se($t,Vr.BLACK):(se($t,Vr.BLACK),se($t,Vr.RED))}return z}(new jc(s.length));return new $n(a||r,C)};let bu;const Bo={};class Wi{constructor(r,n){this.indexes_=r,this.indexSet_=n}static get Default(){return(0,R.hu)(Bo&&Zt,"ChildrenNode.ts has not been loaded"),bu=bu||new Wi({".priority":Bo},{".priority":Zt}),bu}get(r){const n=(0,R.DV)(this.indexes_,r);if(!n)throw new Error("No index defined for "+r);return n instanceof $n?n:null}hasIndex(r){return(0,R.r3)(this.indexSet_,r.toString())}addIndex(r,n){(0,R.hu)(r!==Br,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let d=!1;const p=n.getIterator(ct.Wrap);let C,y=p.getNext();for(;y;)d=d||r.isDefinedOn(y.node),a.push(y),y=p.getNext();C=d?Ks(a,r.getCompare()):Bo;const M=r.toString(),N=Object.assign({},this.indexSet_);N[M]=r;const z=Object.assign({},this.indexes_);return z[M]=C,new Wi(z,N)}addToIndexes(r,n){const a=(0,R.UI)(this.indexes_,(d,p)=>{const y=(0,R.DV)(this.indexSet_,p);if((0,R.hu)(y,"Missing index implementation for "+p),d===Bo){if(y.isDefinedOn(r.node)){const C=[],M=n.getIterator(ct.Wrap);let N=M.getNext();for(;N;)N.name!==r.name&&C.push(N),N=M.getNext();return C.push(r),Ks(C,y.getCompare())}return Bo}{const C=n.get(r.name);let M=d;return C&&(M=M.remove(new ct(r.name,C))),M.insert(r,r.node)}});return new Wi(a,this.indexSet_)}removeFromIndexes(r,n){const a=(0,R.UI)(this.indexes_,d=>{if(d===Bo)return d;{const p=n.get(r.name);return p?d.remove(new ct(r.name,p)):d}});return new Wi(a,this.indexSet_)}}let Da,gt=(()=>{class s{constructor(n,a,d){this.children_=n,this.priorityNode_=a,this.indexMap_=d,this.lazyHash_=null,this.priorityNode_&&Uc(this.priorityNode_),this.children_.isEmpty()&&(0,R.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Da||(Da=new s(new $n(Vc),null,Wi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Da}updatePriority(n){return this.children_.isEmpty()?this:new s(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const a=this.children_.get(n);return null===a?Da:a}}getChild(n){const a=pt(n);return null===a?this:this.getImmediateChild(a).getChild(zt(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,a){if((0,R.hu)(a,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(a);{const d=new ct(n,a);let p,y;a.isEmpty()?(p=this.children_.remove(n),y=this.indexMap_.removeFromIndexes(d,this.children_)):(p=this.children_.insert(n,a),y=this.indexMap_.addToIndexes(d,this.children_));const C=p.isEmpty()?Da:this.priorityNode_;return new s(p,C,y)}}updateChild(n,a){const d=pt(n);if(null===d)return a;{(0,R.hu)(".priority"!==pt(n)||1===Hi(n),".priority must be the last token in a path");const p=this.getImmediateChild(d).updateChild(zt(n),a);return this.updateImmediateChild(d,p)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const a={};let d=0,p=0,y=!0;if(this.forEachChild(Zt,(C,M)=>{a[C]=M.val(n),d++,y&&s.INTEGER_REGEXP_.test(C)?p=Math.max(p,Number(C)):y=!1}),!n&&y&&p<2*d){const C=[];for(const M in a)C[M]=a[M];return C}return n&&!this.getPriority().isEmpty()&&(a[".priority"]=this.getPriority().val()),a}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+Od(this.getPriority().val())+":"),this.forEachChild(Zt,(a,d)=>{const p=d.hash();""!==p&&(n+=":"+a+":"+p)}),this.lazyHash_=""===n?"":Ec(n)}return this.lazyHash_}getPredecessorChildName(n,a,d){const p=this.resolveIndex_(d);if(p){const y=p.getPredecessorKey(new ct(n,a));return y?y.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const a=this.resolveIndex_(n);if(a){const d=a.minKey();return d&&d.name}return this.children_.minKey()}getFirstChild(n){const a=this.getFirstChildName(n);return a?new ct(a,this.children_.get(a)):null}getLastChildName(n){const a=this.resolveIndex_(n);if(a){const d=a.maxKey();return d&&d.name}return this.children_.maxKey()}getLastChild(n){const a=this.getLastChildName(n);return a?new ct(a,this.children_.get(a)):null}forEachChild(n,a){const d=this.resolveIndex_(n);return d?d.inorderTraversal(p=>a(p.name,p.node)):this.children_.inorderTraversal(a)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,a){const d=this.resolveIndex_(a);if(d)return d.getIteratorFrom(n,p=>p);{const p=this.children_.getIteratorFrom(n.name,ct.Wrap);let y=p.peek();for(;null!=y&&a.compare(y,n)<0;)p.getNext(),y=p.peek();return p}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,a){const d=this.resolveIndex_(a);if(d)return d.getReverseIteratorFrom(n,p=>p);{const p=this.children_.getReverseIteratorFrom(n.name,ct.Wrap);let y=p.peek();for(;null!=y&&a.compare(y,n)>0;)p.getNext(),y=p.peek();return p}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===gl?-1:0}withIndex(n){if(n===Br||this.indexMap_.hasIndex(n))return this;{const a=this.indexMap_.addIndex(n,this.children_);return new s(this.children_,this.priorityNode_,a)}}isIndexed(n){return n===Br||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const a=n;if(this.getPriority().equals(a.getPriority())){if(this.children_.count()===a.children_.count()){const d=this.getIterator(Zt),p=a.getIterator(Zt);let y=d.getNext(),C=p.getNext();for(;y&&C;){if(y.name!==C.name||!y.node.equals(C.node))return!1;y=d.getNext(),C=p.getNext()}return null===y&&null===C}return!1}return!1}}resolveIndex_(n){return n===Br?null:this.indexMap_.get(n.toString())}}return s.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,s})();const gl=new class Qf extends gt{constructor(){super(new $n(Vc),gt.EMPTY_NODE,Wi.Default)}compareTo(r){return r===this?0:1}equals(r){return r===this}getPriority(){return this}getImmediateChild(r){return gt.EMPTY_NODE}isEmpty(){return!1}};function Mt(s,r=null){if(null===s)return gt.EMPTY_NODE;if("object"==typeof s&&".priority"in s&&(r=s[".priority"]),(0,R.hu)(null===r||"string"==typeof r||"number"==typeof r||"object"==typeof r&&".sv"in r,"Invalid priority type found: "+typeof r),"object"==typeof s&&".value"in s&&null!==s[".value"]&&(s=s[".value"]),"object"!=typeof s||".sv"in s)return new ms(s,Mt(r));if(s instanceof Array){let n=gt.EMPTY_NODE;return Dn(s,(a,d)=>{if((0,R.r3)(s,a)&&"."!==a.substring(0,1)){const p=Mt(d);(p.isLeafNode()||!p.isEmpty())&&(n=n.updateImmediateChild(a,p))}}),n.updatePriority(Mt(r))}{const n=[];let a=!1;if(Dn(s,(y,C)=>{if("."!==y.substring(0,1)){const M=Mt(C);M.isEmpty()||(a=a||!M.getPriority().isEmpty(),n.push(new ct(y,M)))}}),0===n.length)return gt.EMPTY_NODE;const p=Ks(n,hl,y=>y.name,Vc);if(a){const y=Ks(n,Zt.getCompare());return new gt(p,Mt(r),new Wi({".priority":y},{".priority":Zt}))}return new gt(p,Mt(r),Wi.Default)}}Object.defineProperties(ct,{MIN:{value:new ct(In,gt.EMPTY_NODE)},MAX:{value:new ct(Fr,gl)}}),Fo.__EMPTY_NODE=gt.EMPTY_NODE,ms.__childrenNodeConstructor=gt,function Kf(s){Ia=s}(gl),function qf(s){$i=s}(gl),function Yf(s){pl=s}(Mt);class Vo extends Ea{constructor(r){super(),this.indexPath_=r,(0,R.hu)(!wt(r)&&".priority"!==pt(r),"Can't create PathIndex with empty path or .priority key")}extractChild(r){return r.getChild(this.indexPath_)}isDefinedOn(r){return!r.getChild(this.indexPath_).isEmpty()}compare(r,n){const a=this.extractChild(r.node),d=this.extractChild(n.node),p=a.compareTo(d);return 0===p?tr(r.name,n.name):p}makePost(r,n){const a=Mt(r),d=gt.EMPTY_NODE.updateChild(this.indexPath_,a);return new ct(n,d)}maxPost(){const r=gt.EMPTY_NODE.updateChild(this.indexPath_,gl);return new ct(Fr,r)}toString(){return cl(this.indexPath_,0).join("/")}}const Ld=new class Fd extends Ea{compare(r,n){const a=r.node.compareTo(n.node);return 0===a?tr(r.name,n.name):a}isDefinedOn(r){return!0}indexedValueChanged(r,n){return!r.equals(n)}minPost(){return ct.MIN}maxPost(){return ct.MAX}makePost(r,n){const a=Mt(r);return new ct(n,a)}toString(){return".value"}};function Xf(s){return{type:"value",snapshotNode:s}}function ml(s,r){return{type:"child_added",snapshotNode:r,childName:s}}function Tu(s,r){return{type:"child_removed",snapshotNode:r,childName:s}}function _l(s,r,n){return{type:"child_changed",snapshotNode:r,childName:s,oldSnap:n}}class yl{constructor(r){this.index_=r}updateChild(r,n,a,d,p,y){(0,R.hu)(r.isIndexed(this.index_),"A node must be indexed if only a child is updated");const C=r.getImmediateChild(n);return C.getChild(d).equals(a.getChild(d))&&C.isEmpty()===a.isEmpty()||(null!=y&&(a.isEmpty()?r.hasChild(n)?y.trackChildChange(Tu(n,C)):(0,R.hu)(r.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):C.isEmpty()?y.trackChildChange(ml(n,a)):y.trackChildChange(_l(n,a,C))),r.isLeafNode()&&a.isEmpty())?r:r.updateImmediateChild(n,a).withIndex(this.index_)}updateFullNode(r,n,a){return null!=a&&(r.isLeafNode()||r.forEachChild(Zt,(d,p)=>{n.hasChild(d)||a.trackChildChange(Tu(d,p))}),n.isLeafNode()||n.forEachChild(Zt,(d,p)=>{if(r.hasChild(d)){const y=r.getImmediateChild(d);y.equals(p)||a.trackChildChange(_l(d,p,y))}else a.trackChildChange(ml(d,p))})),n.withIndex(this.index_)}updatePriority(r,n){return r.isEmpty()?gt.EMPTY_NODE:r.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class wa{constructor(r){this.indexedFilter_=new yl(r.getIndex()),this.index_=r.getIndex(),this.startPost_=wa.getStartPost_(r),this.endPost_=wa.getEndPost_(r),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(r){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),r)<=0:this.index_.compare(this.getStartPost(),r)<0,a=this.endIsInclusive_?this.index_.compare(r,this.getEndPost())<=0:this.index_.compare(r,this.getEndPost())<0;return n&&a}updateChild(r,n,a,d,p,y){return this.matches(new ct(n,a))||(a=gt.EMPTY_NODE),this.indexedFilter_.updateChild(r,n,a,d,p,y)}updateFullNode(r,n,a){n.isLeafNode()&&(n=gt.EMPTY_NODE);let d=n.withIndex(this.index_);d=d.updatePriority(gt.EMPTY_NODE);const p=this;return n.forEachChild(Zt,(y,C)=>{p.matches(new ct(y,C))||(d=d.updateImmediateChild(y,gt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(r,d,a)}updatePriority(r,n){return r}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(r){if(r.hasStart()){const n=r.getIndexStartName();return r.getIndex().makePost(r.getIndexStartValue(),n)}return r.getIndex().minPost()}static getEndPost_(r){if(r.hasEnd()){const n=r.getIndexEndName();return r.getIndex().makePost(r.getIndexEndValue(),n)}return r.getIndex().maxPost()}}class eh{constructor(r){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=n=>{const a=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new wa(r),this.index_=r.getIndex(),this.limit_=r.getLimit(),this.reverse_=!r.isViewFromLeft(),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}updateChild(r,n,a,d,p,y){return this.rangedFilter_.matches(new ct(n,a))||(a=gt.EMPTY_NODE),r.getImmediateChild(n).equals(a)?r:r.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(r,n,a,d,p,y):this.fullLimitUpdateChild_(r,n,a,p,y)}updateFullNode(r,n,a){let d;if(n.isLeafNode()||n.isEmpty())d=gt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let p;d=gt.EMPTY_NODE.withIndex(this.index_),p=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let y=0;for(;p.hasNext()&&y<this.limit_;){const C=p.getNext();if(this.withinDirectionalStart(C)){if(!this.withinDirectionalEnd(C))break;d=d.updateImmediateChild(C.name,C.node),y++}}}else{let p;d=n.withIndex(this.index_),d=d.updatePriority(gt.EMPTY_NODE),p=this.reverse_?d.getReverseIterator(this.index_):d.getIterator(this.index_);let y=0;for(;p.hasNext();){const C=p.getNext();y<this.limit_&&this.withinDirectionalStart(C)&&this.withinDirectionalEnd(C)?y++:d=d.updateImmediateChild(C.name,gt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(r,d,a)}updatePriority(r,n){return r}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(r,n,a,d,p){let y;if(this.reverse_){const G=this.index_.getCompare();y=(se,Te)=>G(Te,se)}else y=this.index_.getCompare();const C=r;(0,R.hu)(C.numChildren()===this.limit_,"");const M=new ct(n,a),N=this.reverse_?C.getFirstChild(this.index_):C.getLastChild(this.index_),z=this.rangedFilter_.matches(M);if(C.hasChild(n)){const G=C.getImmediateChild(n);let se=d.getChildAfterChild(this.index_,N,this.reverse_);for(;null!=se&&(se.name===n||C.hasChild(se.name));)se=d.getChildAfterChild(this.index_,se,this.reverse_);const Te=null==se?1:y(se,M);if(z&&!a.isEmpty()&&Te>=0)return null!=p&&p.trackChildChange(_l(n,a,G)),C.updateImmediateChild(n,a);{null!=p&&p.trackChildChange(Tu(n,G));const vt=C.updateImmediateChild(n,gt.EMPTY_NODE);return null!=se&&this.rangedFilter_.matches(se)?(null!=p&&p.trackChildChange(ml(se.name,se.node)),vt.updateImmediateChild(se.name,se.node)):vt}}return a.isEmpty()?r:z&&y(N,M)>=0?(null!=p&&(p.trackChildChange(Tu(N.name,N.node)),p.trackChildChange(ml(n,a))),C.updateImmediateChild(n,a).updateImmediateChild(N.name,gt.EMPTY_NODE)):r}}class Ca{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Zt}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,R.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,R.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:In}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,R.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,R.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Fr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,R.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Zt}copy(){const r=new Ca;return r.limitSet_=this.limitSet_,r.limit_=this.limit_,r.startSet_=this.startSet_,r.startAfterSet_=this.startAfterSet_,r.indexStartValue_=this.indexStartValue_,r.startNameSet_=this.startNameSet_,r.indexStartName_=this.indexStartName_,r.endSet_=this.endSet_,r.endBeforeSet_=this.endBeforeSet_,r.indexEndValue_=this.indexEndValue_,r.endNameSet_=this.endNameSet_,r.indexEndName_=this.indexEndName_,r.index_=this.index_,r.viewFrom_=this.viewFrom_,r}}function vl(s,r,n){const a=s.copy();return a.startSet_=!0,void 0===r&&(r=null),a.indexStartValue_=r,null!=n?(a.startNameSet_=!0,a.indexStartName_=n):(a.startNameSet_=!1,a.indexStartName_=""),a}function _s(s,r,n){const a=s.copy();return a.endSet_=!0,void 0===r&&(r=null),a.indexEndValue_=r,void 0!==n?(a.endNameSet_=!0,a.indexEndName_=n):(a.endNameSet_=!1,a.indexEndName_=""),a}function El(s,r){const n=s.copy();return n.index_=r,n}function Mu(s){const r={};if(s.isDefault())return r;let n;if(s.index_===Zt?n="$priority":s.index_===Ld?n="$value":s.index_===Br?n="$key":((0,R.hu)(s.index_ instanceof Vo,"Unrecognized index type!"),n=s.index_.toString()),r.orderBy=(0,R.Wl)(n),s.startSet_){const a=s.startAfterSet_?"startAfter":"startAt";r[a]=(0,R.Wl)(s.indexStartValue_),s.startNameSet_&&(r[a]+=","+(0,R.Wl)(s.indexStartName_))}if(s.endSet_){const a=s.endBeforeSet_?"endBefore":"endAt";r[a]=(0,R.Wl)(s.indexEndValue_),s.endNameSet_&&(r[a]+=","+(0,R.Wl)(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?r.limitToFirst=s.limit_:r.limitToLast=s.limit_),r}function th(s){const r={};if(s.startSet_&&(r.sp=s.indexStartValue_,s.startNameSet_&&(r.sn=s.indexStartName_),r.sin=!s.startAfterSet_),s.endSet_&&(r.ep=s.indexEndValue_,s.endNameSet_&&(r.en=s.indexEndName_),r.ein=!s.endBeforeSet_),s.limitSet_){r.l=s.limit_;let n=s.viewFrom_;""===n&&(n=s.isViewFromLeft()?"l":"r"),r.vf=n}return s.index_!==Zt&&(r.i=s.index_.toString()),r}class zi extends ya{constructor(r,n,a,d){super(),this.repoInfo_=r,this.onDataUpdate_=n,this.authTokenProvider_=a,this.appCheckTokenProvider_=d,this.log_=gi("p:rest:"),this.listens_={}}reportStats(r){throw new Error("Method not implemented.")}static getListenId_(r,n){return void 0!==n?"tag$"+n:((0,R.hu)(r._queryParams.isDefault(),"should have a tag if it's not a default query."),r._path.toString())}listen(r,n,a,d){const p=r._path.toString();this.log_("Listen called for "+p+" "+r._queryIdentifier);const y=zi.getListenId_(r,a),C={};this.listens_[y]=C;const M=Mu(r._queryParams);this.restRequest_(p+".json",M,(N,z)=>{let G=z;if(404===N&&(G=null,N=null),null===N&&this.onDataUpdate_(p,G,!1,a),(0,R.DV)(this.listens_,y)===C){let se;se=N?401===N?"permission_denied":"rest_error:"+N:"ok",d(se,null)}})}unlisten(r,n){const a=zi.getListenId_(r,n);delete this.listens_[a]}get(r){const n=Mu(r._queryParams),a=r._path.toString(),d=new R.BH;return this.restRequest_(a+".json",n,(p,y)=>{let C=y;404===p&&(C=null,p=null),null===p?(this.onDataUpdate_(a,C,!1,null),d.resolve(C)):d.reject(new Error(C))}),d.promise}refreshAuthToken(r){}restRequest_(r,n={},a){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([d,p])=>{d&&d.accessToken&&(n.auth=d.accessToken),p&&p.token&&(n.ac=p.token);const y=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+r+"?ns="+this.repoInfo_.namespace+(0,R.xO)(n);this.log_("Sending REST request for "+y);const C=new XMLHttpRequest;C.onreadystatechange=()=>{if(a&&4===C.readyState){this.log_("REST Response for "+y+" received. status:",C.status,"response:",C.responseText);let M=null;if(C.status>=200&&C.status<300){try{M=(0,R.cI)(C.responseText)}catch(N){Un("Failed to parse JSON response for "+y+": "+C.responseText)}a(null,M)}else 401!==C.status&&404!==C.status&&Un("Got unsuccessful REST response for "+y+" Status: "+C.status),a(C.status);a=null}},C.open("GET",y,!0),C.send()})}}class nh{constructor(){this.rootNode_=gt.EMPTY_NODE}getNode(r){return this.rootNode_.getChild(r)}updateSnapshot(r,n){this.rootNode_=this.rootNode_.updateChild(r,n)}}function ba(){return{value:null,children:new Map}}function qs(s,r,n){if(wt(r))s.value=n,s.children.clear();else if(null!==s.value)s.value=s.value.updateChild(r,n);else{const a=pt(r);s.children.has(a)||s.children.set(a,ba()),qs(s.children.get(a),r=zt(r),n)}}function Il(s,r){if(wt(r))return s.value=null,s.children.clear(),!0;if(null!==s.value){if(s.value.isLeafNode())return!1;{const n=s.value;return s.value=null,n.forEachChild(Zt,(a,d)=>{qs(s,new Pt(a),d)}),Il(s,r)}}if(s.children.size>0){const n=pt(r);return r=zt(r),s.children.has(n)&&Il(s.children.get(n),r)&&s.children.delete(n),0===s.children.size}return!0}function Hc(s,r,n){null!==s.value?n(r,s.value):function jr(s,r){s.children.forEach((n,a)=>{r(a,n)})}(s,(a,d)=>{Hc(d,new Pt(r.toString()+"/"+a),n)})}class Ru{constructor(r){this.collection_=r,this.last_=null}get(){const r=this.collection_.get(),n=Object.assign({},r);return this.last_&&Dn(this.last_,(a,d)=>{n[a]=n[a]-d}),this.last_=r,n}}class Dl{constructor(r,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Ru(r);const a=1e4+2e4*Math.random();Lr(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const r=this.statsListener_.get(),n={};let a=!1;Dn(r,(d,p)=>{p>0&&(0,R.r3)(this.statsToReport_,d)&&(n[d]=p,a=!0)}),a&&this.server_.reportStats(n),Lr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var wr=(()=>{return(s=wr||(wr={}))[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",wr;var s})();function jo(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}class Nu{constructor(r,n,a){this.path=r,this.affectedTree=n,this.revert=a,this.type=wr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(r){if(wt(this.path)){if(null!=this.affectedTree.value)return(0,R.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Pt(r));return new Nu(Lt(),n,this.revert)}}return(0,R.hu)(pt(this.path)===r,"operationForChild called for unrelated child."),new Nu(zt(this.path),this.affectedTree,this.revert)}}class fn{constructor(r,n){this.source=r,this.path=n,this.type=wr.LISTEN_COMPLETE}operationForChild(r){return wt(this.path)?new fn(this.source,Lt()):new fn(this.source,zt(this.path))}}class Ho{constructor(r,n,a){this.source=r,this.path=n,this.snap=a,this.type=wr.OVERWRITE}operationForChild(r){return wt(this.path)?new Ho(this.source,Lt(),this.snap.getImmediateChild(r)):new Ho(this.source,zt(this.path),this.snap)}}class Ta{constructor(r,n,a){this.source=r,this.path=n,this.children=a,this.type=wr.MERGE}operationForChild(r){if(wt(this.path)){const n=this.children.subtree(new Pt(r));return n.isEmpty()?null:n.value?new Ho(this.source,Lt(),n.value):new Ta(this.source,Lt(),n)}return(0,R.hu)(pt(this.path)===r,"Can't get a merge for a child not on the path of the operation"),new Ta(this.source,zt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class h{constructor(r,n,a){this.node_=r,this.fullyInitialized_=n,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(r){if(wt(r))return this.isFullyInitialized()&&!this.filtered_;const n=pt(r);return this.isCompleteForChild(n)}isCompleteForChild(r){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(r)}getNode(){return this.node_}}class u{constructor(r){this.query_=r,this.index_=this.query_._queryParams.getIndex()}}function g(s,r,n,a,d,p){const y=a.filter(C=>C.type===n);y.sort((C,M)=>function T(s,r,n){if(null==r.childName||null==n.childName)throw(0,R.g5)("Should only compare child_ events.");const a=new ct(r.childName,r.snapshotNode),d=new ct(n.childName,n.snapshotNode);return s.index_.compare(a,d)}(s,C,M)),y.forEach(C=>{const M=function D(s,r,n){return"value"===r.type||"child_removed"===r.type||(r.prevName=n.getPredecessorChildName(r.childName,r.snapshotNode,s.index_)),r}(s,C,p);d.forEach(N=>{N.respondsTo(C.type)&&r.push(N.createEvent(M,s.query_))})})}function F(s,r){return{eventCache:s,serverCache:r}}function Q(s,r,n,a){return F(new h(r,n,a),s.serverCache)}function be(s,r,n,a){return F(s.eventCache,new h(r,n,a))}function _e(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function Be(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}let Ye;class dt{constructor(r,n=(()=>(Ye||(Ye=new $n(cu)),Ye))()){this.value=r,this.children=n}static fromObject(r){let n=new dt(null);return Dn(r,(a,d)=>{n=n.set(new Pt(a),d)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(r,n){if(null!=this.value&&n(this.value))return{path:Lt(),value:this.value};if(wt(r))return null;{const a=pt(r),d=this.children.get(a);if(null!==d){const p=d.findRootMostMatchingPathAndValue(zt(r),n);return null!=p?{path:dn(new Pt(a),p.path),value:p.value}:null}return null}}findRootMostValueAndPath(r){return this.findRootMostMatchingPathAndValue(r,()=>!0)}subtree(r){if(wt(r))return this;{const n=pt(r),a=this.children.get(n);return null!==a?a.subtree(zt(r)):new dt(null)}}set(r,n){if(wt(r))return new dt(n,this.children);{const a=pt(r),p=(this.children.get(a)||new dt(null)).set(zt(r),n),y=this.children.insert(a,p);return new dt(this.value,y)}}remove(r){if(wt(r))return this.children.isEmpty()?new dt(null):new dt(null,this.children);{const n=pt(r),a=this.children.get(n);if(a){const d=a.remove(zt(r));let p;return p=d.isEmpty()?this.children.remove(n):this.children.insert(n,d),null===this.value&&p.isEmpty()?new dt(null):new dt(this.value,p)}return this}}get(r){if(wt(r))return this.value;{const n=pt(r),a=this.children.get(n);return a?a.get(zt(r)):null}}setTree(r,n){if(wt(r))return n;{const a=pt(r),p=(this.children.get(a)||new dt(null)).setTree(zt(r),n);let y;return y=p.isEmpty()?this.children.remove(a):this.children.insert(a,p),new dt(this.value,y)}}fold(r){return this.fold_(Lt(),r)}fold_(r,n){const a={};return this.children.inorderTraversal((d,p)=>{a[d]=p.fold_(dn(r,d),n)}),n(r,this.value,a)}findOnPath(r,n){return this.findOnPath_(r,Lt(),n)}findOnPath_(r,n,a){const d=!!this.value&&a(n,this.value);if(d)return d;if(wt(r))return null;{const p=pt(r),y=this.children.get(p);return y?y.findOnPath_(zt(r),dn(n,p),a):null}}foreachOnPath(r,n){return this.foreachOnPath_(r,Lt(),n)}foreachOnPath_(r,n,a){if(wt(r))return this;{this.value&&a(n,this.value);const d=pt(r),p=this.children.get(d);return p?p.foreachOnPath_(zt(r),dn(n,d),a):new dt(null)}}foreach(r){this.foreach_(Lt(),r)}foreach_(r,n){this.children.inorderTraversal((a,d)=>{d.foreach_(dn(r,a),n)}),this.value&&n(r,this.value)}foreachChild(r){this.children.inorderTraversal((n,a)=>{a.value&&r(n,a.value)})}}class Wn{constructor(r){this.writeTree_=r}static empty(){return new Wn(new dt(null))}}function Qs(s,r,n){if(wt(r))return new Wn(new dt(n));{const a=s.writeTree_.findRootMostValueAndPath(r);if(null!=a){const d=a.path;let p=a.value;const y=Qn(d,r);return p=p.updateChild(y,n),new Wn(s.writeTree_.set(d,p))}{const d=new dt(n),p=s.writeTree_.setTree(r,d);return new Wn(p)}}}function Js(s,r,n){let a=s;return Dn(n,(d,p)=>{a=Qs(a,dn(r,d),p)}),a}function Wc(s,r){if(wt(r))return Wn.empty();{const n=s.writeTree_.setTree(r,new dt(null));return new Wn(n)}}function xu(s,r){return null!=vs(s,r)}function vs(s,r){const n=s.writeTree_.findRootMostValueAndPath(r);return null!=n?s.writeTree_.get(n.path).getChild(Qn(n.path,r)):null}function Gc(s){const r=[],n=s.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Zt,(a,d)=>{r.push(new ct(a,d))}):s.writeTree_.children.inorderTraversal((a,d)=>{null!=d.value&&r.push(new ct(a,d.value))}),r}function Es(s,r){if(wt(r))return s;{const n=vs(s,r);return new Wn(null!=n?new dt(n):s.writeTree_.subtree(r))}}function wl(s){return s.writeTree_.isEmpty()}function $o(s,r){return Bd(Lt(),s.writeTree_,r)}function Bd(s,r,n){if(null!=r.value)return n.updateChild(s,r.value);{let a=null;return r.children.inorderTraversal((d,p)=>{".priority"===d?((0,R.hu)(null!==p.value,"Priority writes must always be leaf nodes"),a=p.value):n=Bd(dn(s,d),p,n)}),!n.getChild(s).isEmpty()&&null!==a&&(n=n.updateChild(dn(s,".priority"),a)),n}}function Aa(s,r){return Wp(r,s)}function Tv(s,r){if(s.snap)return Dr(s.path,r);for(const n in s.children)if(s.children.hasOwnProperty(n)&&Dr(dn(s.path,n),r))return!0;return!1}function Av(s){return s.visible}function sh(s,r,n){let a=Wn.empty();for(let d=0;d<s.length;++d){const p=s[d];if(r(p)){const y=p.path;let C;if(p.snap)Dr(n,y)?(C=Qn(n,y),a=Qs(a,C,p.snap)):Dr(y,n)&&(C=Qn(y,n),a=Qs(a,Lt(),p.snap.getChild(C)));else{if(!p.children)throw(0,R.g5)("WriteRecord should have .snap or .children");if(Dr(n,y))C=Qn(n,y),a=Js(a,C,p.children);else if(Dr(y,n))if(C=Qn(y,n),wt(C))a=Js(a,Lt(),p.children);else{const M=(0,R.DV)(p.children,pt(C));if(M){const N=M.getChild(zt(C));a=Qs(a,Lt(),N)}}}}}return a}function Km(s,r,n,a,d){if(a||d){const p=Es(s.visibleWrites,r);return!d&&wl(p)?n:d||null!=n||xu(p,Lt())?$o(sh(s.allWrites,function(N){return(N.visible||d)&&(!a||!~a.indexOf(N.writeId))&&(Dr(N.path,r)||Dr(r,N.path))},r),n||gt.EMPTY_NODE):null}{const p=vs(s.visibleWrites,r);if(null!=p)return p;{const y=Es(s.visibleWrites,r);return wl(y)?n:null!=n||xu(y,Lt())?$o(y,n||gt.EMPTY_NODE):null}}}function Vd(s,r,n,a){return Km(s.writeTree,s.treePath,r,n,a)}function Ud(s,r){return function jp(s,r,n){let a=gt.EMPTY_NODE;const d=vs(s.visibleWrites,r);if(d)return d.isLeafNode()||d.forEachChild(Zt,(p,y)=>{a=a.updateImmediateChild(p,y)}),a;if(n){const p=Es(s.visibleWrites,r);return n.forEachChild(Zt,(y,C)=>{const M=$o(Es(p,new Pt(y)),C);a=a.updateImmediateChild(y,M)}),Gc(p).forEach(y=>{a=a.updateImmediateChild(y.name,y.node)}),a}return Gc(Es(s.visibleWrites,r)).forEach(y=>{a=a.updateImmediateChild(y.name,y.node)}),a}(s.writeTree,s.treePath,r)}function $p(s,r,n,a){return function Ym(s,r,n,a,d){(0,R.hu)(a||d,"Either existingEventSnap or existingServerSnap must exist");const p=dn(r,n);if(xu(s.visibleWrites,p))return null;{const y=Es(s.visibleWrites,p);return wl(y)?d.getChild(n):$o(y,d.getChild(n))}}(s.writeTree,s.treePath,r,n,a)}function jd(s,r){return function qm(s,r){return vs(s.visibleWrites,r)}(s.writeTree,dn(s.treePath,r))}function oh(s,r,n){return function Hp(s,r,n,a){const d=dn(r,n),p=vs(s.visibleWrites,d);return null!=p?p:a.isCompleteForChild(n)?$o(Es(s.visibleWrites,d),a.getNode().getImmediateChild(n)):null}(s.writeTree,s.treePath,r,n)}function ah(s,r){return Wp(dn(s.treePath,r),s.writeTree)}function Wp(s,r){return{treePath:s,writeTree:r}}class Xm{constructor(){this.changeMap=new Map}trackChildChange(r){const n=r.type,a=r.childName;(0,R.hu)("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),(0,R.hu)(".priority"!==a,"Only non-priority child changes can be tracked.");const d=this.changeMap.get(a);if(d){const p=d.type;if("child_added"===n&&"child_removed"===p)this.changeMap.set(a,_l(a,r.snapshotNode,d.snapshotNode));else if("child_removed"===n&&"child_added"===p)this.changeMap.delete(a);else if("child_removed"===n&&"child_changed"===p)this.changeMap.set(a,Tu(a,d.oldSnap));else if("child_changed"===n&&"child_added"===p)this.changeMap.set(a,ml(a,r.snapshotNode));else{if("child_changed"!==n||"child_changed"!==p)throw(0,R.g5)("Illegal combination of changes: "+r+" occurred after "+d);this.changeMap.set(a,_l(a,r.snapshotNode,d.oldSnap))}}else this.changeMap.set(a,r)}getChanges(){return Array.from(this.changeMap.values())}}const mt=new class e_{getCompleteChild(r){return null}getChildAfterChild(r,n,a){return null}};class lh{constructor(r,n,a=null){this.writes_=r,this.viewCache_=n,this.optCompleteServerCache_=a}getCompleteChild(r){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(r))return n.getNode().getImmediateChild(r);{const a=null!=this.optCompleteServerCache_?new h(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return oh(this.writes_,r,a)}}getChildAfterChild(r,n,a){const d=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Be(this.viewCache_),p=function Jm(s,r,n,a,d,p){return function Qm(s,r,n,a,d,p,y){let C;const M=Es(s.visibleWrites,r),N=vs(M,Lt());if(null!=N)C=N;else{if(null==n)return[];C=$o(M,n)}if(C=C.withIndex(y),C.isEmpty()||C.isLeafNode())return[];{const z=[],G=y.getCompare(),se=p?C.getReverseIteratorFrom(a,y):C.getIteratorFrom(a,y);let Te=se.getNext();for(;Te&&z.length<d;)0!==G(Te,a)&&z.push(Te),Te=se.getNext();return z}}(s.writeTree,s.treePath,r,n,a,d,p)}(this.writes_,d,n,1,a,r);return 0===p.length?null:p[0]}}function uh(s,r,n,a,d,p){const y=r.eventCache;if(null!=jd(a,n))return r;{let C,M;if(wt(n))if((0,R.hu)(r.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),r.serverCache.isFiltered()){const N=Be(r),G=Ud(a,N instanceof gt?N:gt.EMPTY_NODE);C=s.filter.updateFullNode(r.eventCache.getNode(),G,p)}else{const N=Vd(a,Be(r));C=s.filter.updateFullNode(r.eventCache.getNode(),N,p)}else{const N=pt(n);if(".priority"===N){(0,R.hu)(1===Hi(n),"Can't have a priority with additional path components");const z=y.getNode();M=r.serverCache.getNode();const G=$p(a,n,z,M);C=null!=G?s.filter.updatePriority(z,G):y.getNode()}else{const z=zt(n);let G;if(y.isCompleteForChild(N)){M=r.serverCache.getNode();const se=$p(a,n,y.getNode(),M);G=null!=se?y.getNode().getImmediateChild(N).updateChild(z,se):y.getNode().getImmediateChild(N)}else G=oh(a,N,r.serverCache);C=null!=G?s.filter.updateChild(y.getNode(),N,G,z,d,p):y.getNode()}}return Q(r,C,y.isFullyInitialized()||wt(n),s.filter.filtersNodes())}}function $d(s,r,n,a,d,p,y,C){const M=r.serverCache;let N;const z=y?s.filter:s.filter.getIndexedFilter();if(wt(n))N=z.updateFullNode(M.getNode(),a,null);else if(z.filtersNodes()&&!M.isFiltered()){const Te=M.getNode().updateChild(n,a);N=z.updateFullNode(M.getNode(),Te,null)}else{const Te=pt(n);if(!M.isCompleteForPath(n)&&Hi(n)>1)return r;const Ve=zt(n),$t=M.getNode().getImmediateChild(Te).updateChild(Ve,a);N=".priority"===Te?z.updatePriority(M.getNode(),$t):z.updateChild(M.getNode(),Te,$t,Ve,mt,null)}const G=be(r,N,M.isFullyInitialized()||wt(n),z.filtersNodes());return uh(s,G,n,d,new lh(d,G,p),C)}function zc(s,r,n,a,d,p,y){const C=r.eventCache;let M,N;const z=new lh(d,r,p);if(wt(n))N=s.filter.updateFullNode(r.eventCache.getNode(),a,y),M=Q(r,N,!0,s.filter.filtersNodes());else{const G=pt(n);if(".priority"===G)N=s.filter.updatePriority(r.eventCache.getNode(),a),M=Q(r,N,C.isFullyInitialized(),C.isFiltered());else{const se=zt(n),Te=C.getNode().getImmediateChild(G);let Ve;if(wt(se))Ve=a;else{const vt=z.getCompleteChild(G);Ve=null!=vt?".priority"===Nc(se)&&vt.getChild(Rd(se)).isEmpty()?vt:vt.updateChild(se,a):gt.EMPTY_NODE}M=Te.equals(Ve)?r:Q(r,s.filter.updateChild(C.getNode(),G,Ve,se,z,y),C.isFullyInitialized(),s.filter.filtersNodes())}}return M}function eo(s,r){return s.eventCache.isCompleteForChild(r)}function dh(s,r,n){return n.foreach((a,d)=>{r=r.updateChild(a,d)}),r}function Zc(s,r,n,a,d,p,y,C){if(r.serverCache.getNode().isEmpty()&&!r.serverCache.isFullyInitialized())return r;let N,M=r;N=wt(n)?a:new dt(null).setTree(n,a);const z=r.serverCache.getNode();return N.children.inorderTraversal((G,se)=>{if(z.hasChild(G)){const Ve=dh(0,r.serverCache.getNode().getImmediateChild(G),se);M=$d(s,M,new Pt(G),Ve,d,p,y,C)}}),N.children.inorderTraversal((G,se)=>{const Te=!r.serverCache.isCompleteForChild(G)&&null===se.value;if(!z.hasChild(G)&&!Te){const vt=dh(0,r.serverCache.getNode().getImmediateChild(G),se);M=$d(s,M,new Pt(G),vt,d,p,y,C)}}),M}class Wd{constructor(r,n){this.query_=r,this.eventRegistrations_=[];const a=this.query_._queryParams,d=new yl(a.getIndex()),p=function Vp(s){return s.loadsAllData()?new yl(s.getIndex()):s.hasLimit()?new eh(s):new wa(s)}(a);this.processor_=function Gp(s){return{filter:s}}(p);const y=n.serverCache,C=n.eventCache,M=d.updateFullNode(gt.EMPTY_NODE,y.getNode(),null),N=p.updateFullNode(gt.EMPTY_NODE,C.getNode(),null),z=new h(M,y.isFullyInitialized(),d.filtersNodes()),G=new h(N,C.isFullyInitialized(),p.filtersNodes());this.viewCache_=F(G,z),this.eventGenerator_=new u(this.query_)}get query(){return this.query_}}function hh(s,r){const n=Be(s.viewCache_);return n&&(s.query._queryParams.loadsAllData()||!wt(r)&&!n.getImmediateChild(pt(r)).isEmpty())?n.getChild(r):null}function zd(s){return 0===s.eventRegistrations_.length}function Kp(s,r,n){const a=[];if(n){(0,R.hu)(null==r,"A cancel should cancel all event registrations.");const d=s.query._path;s.eventRegistrations_.forEach(p=>{const y=p.createCancelEvent(n,d);y&&a.push(y)})}if(r){let d=[];for(let p=0;p<s.eventRegistrations_.length;++p){const y=s.eventRegistrations_[p];if(y.matches(r)){if(r.hasAnyCallback()){d=d.concat(s.eventRegistrations_.slice(p+1));break}}else d.push(y)}s.eventRegistrations_=d}else s.eventRegistrations_=[];return a}function Yp(s,r,n,a){r.type===wr.MERGE&&null!==r.source.queryId&&((0,R.hu)(Be(s.viewCache_),"We should always have a full cache before handling merges"),(0,R.hu)(_e(s.viewCache_),"Missing event cache, even though we have a server cache"));const d=s.viewCache_,p=function Hd(s,r,n,a,d){const p=new Xm;let y,C;if(n.type===wr.OVERWRITE){const N=n;N.source.fromUser?y=zc(s,r,N.path,N.snap,a,d,p):((0,R.hu)(N.source.fromServer,"Unknown source."),C=N.source.tagged||r.serverCache.isFiltered()&&!wt(N.path),y=$d(s,r,N.path,N.snap,a,d,C,p))}else if(n.type===wr.MERGE){const N=n;N.source.fromUser?y=function ch(s,r,n,a,d,p,y){let C=r;return a.foreach((M,N)=>{const z=dn(n,M);eo(r,pt(z))&&(C=zc(s,C,z,N,d,p,y))}),a.foreach((M,N)=>{const z=dn(n,M);eo(r,pt(z))||(C=zc(s,C,z,N,d,p,y))}),C}(s,r,N.path,N.children,a,d,p):((0,R.hu)(N.source.fromServer,"Unknown source."),C=N.source.tagged||r.serverCache.isFiltered(),y=Zc(s,r,N.path,N.children,a,d,C,p))}else if(n.type===wr.ACK_USER_WRITE){const N=n;y=N.revert?function Mv(s,r,n,a,d,p){let y;if(null!=jd(a,n))return r;{const C=new lh(a,r,d),M=r.eventCache.getNode();let N;if(wt(n)||".priority"===pt(n)){let z;if(r.serverCache.isFullyInitialized())z=Vd(a,Be(r));else{const G=r.serverCache.getNode();(0,R.hu)(G instanceof gt,"serverChildren would be complete if leaf node"),z=Ud(a,G)}N=s.filter.updateFullNode(M,z,p)}else{const z=pt(n);let G=oh(a,z,r.serverCache);null==G&&r.serverCache.isCompleteForChild(z)&&(G=M.getImmediateChild(z)),N=null!=G?s.filter.updateChild(M,z,G,zt(n),C,p):r.eventCache.getNode().hasChild(z)?s.filter.updateChild(M,z,gt.EMPTY_NODE,zt(n),C,p):M,N.isEmpty()&&r.serverCache.isFullyInitialized()&&(y=Vd(a,Be(r)),y.isLeafNode()&&(N=s.filter.updateFullNode(N,y,p)))}return y=r.serverCache.isFullyInitialized()||null!=jd(a,Lt()),Q(r,N,y,s.filter.filtersNodes())}}(s,r,N.path,a,d,p):function Sv(s,r,n,a,d,p,y){if(null!=jd(d,n))return r;const C=r.serverCache.isFiltered(),M=r.serverCache;if(null!=a.value){if(wt(n)&&M.isFullyInitialized()||M.isCompleteForPath(n))return $d(s,r,n,M.getNode().getChild(n),d,p,C,y);if(wt(n)){let N=new dt(null);return M.getNode().forEachChild(Br,(z,G)=>{N=N.set(new Pt(z),G)}),Zc(s,r,n,N,d,p,C,y)}return r}{let N=new dt(null);return a.foreach((z,G)=>{const se=dn(n,z);M.isCompleteForPath(se)&&(N=N.set(z,M.getNode().getChild(se)))}),Zc(s,r,n,N,d,p,C,y)}}(s,r,N.path,N.affectedTree,a,d,p)}else{if(n.type!==wr.LISTEN_COMPLETE)throw(0,R.g5)("Unknown operation type: "+n.type);y=function Zp(s,r,n,a,d){const p=r.serverCache;return uh(s,be(r,p.getNode(),p.isFullyInitialized()||wt(n),p.isFiltered()),n,a,mt,d)}(s,r,n.path,a,p)}const M=p.getChanges();return function Ds(s,r,n){const a=r.eventCache;if(a.isFullyInitialized()){const d=a.getNode().isLeafNode()||a.getNode().isEmpty(),p=_e(s);(n.length>0||!s.eventCache.isFullyInitialized()||d&&!a.getNode().equals(p)||!a.getNode().getPriority().equals(p.getPriority()))&&n.push(Xf(_e(r)))}}(r,y,M),{viewCache:y,changes:M}}(s.processor_,d,r,n,a);return function zp(s,r){(0,R.hu)(r.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),(0,R.hu)(r.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}(s.processor_,p.viewCache),(0,R.hu)(p.viewCache.serverCache.isFullyInitialized()||!d.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=p.viewCache,qp(s,p.changes,p.viewCache.eventCache.getNode(),null)}function qp(s,r,n,a){return function c(s,r,n,a){const d=[],p=[];return r.forEach(y=>{"child_changed"===y.type&&s.index_.indexedValueChanged(y.oldSnap,y.snapshotNode)&&p.push(function Au(s,r){return{type:"child_moved",snapshotNode:r,childName:s}}(y.childName,y.snapshotNode))}),g(s,d,"child_removed",r,a,n),g(s,d,"child_added",r,a,n),g(s,d,"child_moved",p,a,n),g(s,d,"child_changed",r,a,n),g(s,d,"value",r,a,n),d}(s.eventGenerator_,r,n,a?[a]:s.eventRegistrations_)}let Kc,mh;class n_{constructor(){this.views=new Map}}function Zd(s,r,n,a){const d=r.source.queryId;if(null!==d){const p=s.views.get(d);return(0,R.hu)(null!=p,"SyncTree gave us an op for an invalid query."),Yp(p,r,n,a)}{let p=[];for(const y of s.views.values())p=p.concat(Yp(y,r,n,a));return p}}function Jp(s,r,n,a,d){const y=s.views.get(r._queryIdentifier);if(!y){let C=Vd(n,d?a:null),M=!1;C?M=!0:a instanceof gt?(C=Ud(n,a),M=!1):(C=gt.EMPTY_NODE,M=!1);const N=F(new h(C,M,!1),new h(a,d,!1));return new Wd(r,N)}return y}function i_(s){const r=[];for(const n of s.views.values())n.query._queryParams.loadsAllData()||r.push(n);return r}function Cl(s,r){let n=null;for(const a of s.views.values())n=n||hh(a,r);return n}function s_(s,r){return r._queryParams.loadsAllData()?gh(s):s.views.get(r._queryIdentifier)}function o_(s,r){return null!=s_(s,r)}function bl(s){return null!=gh(s)}function gh(s){for(const r of s.views.values())if(r.query._queryParams.loadsAllData())return r;return null}let Sa=1;class Kd{constructor(r){this.listenProvider_=r,this.syncPointTree_=new dt(null),this.pendingWriteTree_=function Is(){return{visibleWrites:Wn.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function _h(s,r,n,a,d){return function ih(s,r,n,a,d){(0,R.hu)(a>s.lastWriteId,"Stacking an older write on top of newer ones"),void 0===d&&(d=!0),s.allWrites.push({path:r,snap:n,writeId:a,visible:d}),d&&(s.visibleWrites=Qs(s.visibleWrites,r,n)),s.lastWriteId=a}(s.pendingWriteTree_,r,n,a,d),d?Fu(s,new Ho({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,n)):[]}function to(s,r,n=!1){const a=function Xs(s,r){for(let n=0;n<s.allWrites.length;n++){const a=s.allWrites[n];if(a.writeId===r)return a}return null}(s.pendingWriteTree_,r);if(function bv(s,r){const n=s.allWrites.findIndex(C=>C.writeId===r);(0,R.hu)(n>=0,"removeWrite called with nonexistent writeId.");const a=s.allWrites[n];s.allWrites.splice(n,1);let d=a.visible,p=!1,y=s.allWrites.length-1;for(;d&&y>=0;){const C=s.allWrites[y];C.visible&&(y>=n&&Tv(C,a.path)?d=!1:Dr(a.path,C.path)&&(p=!0)),y--}return!!d&&(p?(function Up(s){s.visibleWrites=sh(s.allWrites,Av,Lt()),s.lastWriteId=s.allWrites.length>0?s.allWrites[s.allWrites.length-1].writeId:-1}(s),!0):(a.snap?s.visibleWrites=Wc(s.visibleWrites,a.path):Dn(a.children,M=>{s.visibleWrites=Wc(s.visibleWrites,dn(a.path,M))}),!0))}(s.pendingWriteTree_,r)){let p=new dt(null);return null!=a.snap?p=p.set(Lt(),!0):Dn(a.children,y=>{p=p.set(new Pt(y),!0)}),Fu(s,new Nu(a.path,p,n))}return[]}function ku(s,r,n){return Fu(s,new Ho({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,n))}function Yc(s,r,n,a,d=!1){const p=r._path,y=s.syncPointTree_.get(p);let C=[];if(y&&("default"===r._queryIdentifier||o_(y,r))){const M=function Nv(s,r,n,a){const d=r._queryIdentifier,p=[];let y=[];const C=bl(s);if("default"===d)for(const[M,N]of s.views.entries())y=y.concat(Kp(N,n,a)),zd(N)&&(s.views.delete(M),N.query._queryParams.loadsAllData()||p.push(N.query));else{const M=s.views.get(d);M&&(y=y.concat(Kp(M,n,a)),zd(M)&&(s.views.delete(d),M.query._queryParams.loadsAllData()||p.push(M.query)))}return C&&!bl(s)&&p.push(new(function Pv(){return(0,R.hu)(Kc,"Reference.ts has not been loaded"),Kc}())(r._repo,r._path)),{removed:p,events:y}}(y,r,n,a);(function Qp(s){return 0===s.views.size})(y)&&(s.syncPointTree_=s.syncPointTree_.remove(p));const N=M.removed;if(C=M.events,!d){const z=-1!==N.findIndex(se=>se._queryParams.loadsAllData()),G=s.syncPointTree_.findOnPath(p,(se,Te)=>bl(Te));if(z&&!G){const se=s.syncPointTree_.subtree(p);if(!se.isEmpty()){const Te=function tg(s){return s.fold((r,n,a)=>{if(n&&bl(n))return[gh(n)];{let d=[];return n&&(d=i_(n)),Dn(a,(p,y)=>{d=d.concat(y)}),d}})}(se);for(let Ve=0;Ve<Te.length;++Ve){const vt=Te[Ve],$t=vt.query,Ln=Yd(s,vt);s.listenProvider_.startListening(Al($t),no(s,$t),Ln.hashFn,Ln.onComplete)}}}!G&&N.length>0&&!a&&(z?s.listenProvider_.stopListening(Al(r),null):N.forEach(se=>{const Te=s.queryToTagMap.get(Ra(se));s.listenProvider_.stopListening(Al(se),Te)}))}!function Dh(s,r){for(let n=0;n<r.length;++n){const a=r[n];if(!a._queryParams.loadsAllData()){const d=Ra(a),p=s.queryToTagMap.get(d);s.queryToTagMap.delete(d),s.tagToQueryMap.delete(p)}}}(s,N)}return C}function eg(s,r,n,a){const d=Pa(s,a);if(null!=d){const p=Ih(d),y=p.path,C=p.queryId,M=Qn(y,r);return qd(s,y,new Ho(jo(C),M,n))}return[]}function Eh(s,r,n,a=!1){const d=r._path;let p=null,y=!1;s.syncPointTree_.foreachOnPath(d,(se,Te)=>{const Ve=Qn(se,d);p=p||Cl(Te,Ve),y=y||bl(Te)});let M,C=s.syncPointTree_.get(d);C?(y=y||bl(C),p=p||Cl(C,Lt())):(C=new n_,s.syncPointTree_=s.syncPointTree_.set(d,C)),null!=p?M=!0:(M=!1,p=gt.EMPTY_NODE,s.syncPointTree_.subtree(d).foreachChild((Te,Ve)=>{const vt=Cl(Ve,Lt());vt&&(p=p.updateImmediateChild(Te,vt))}));const N=o_(C,r);if(!N&&!r._queryParams.loadsAllData()){const se=Ra(r);(0,R.hu)(!s.queryToTagMap.has(se),"View does not exist, but we have a tag");const Te=function ng(){return Sa++}();s.queryToTagMap.set(se,Te),s.tagToQueryMap.set(Te,se)}let G=function ph(s,r,n,a,d,p){const y=Jp(s,r,a,d,p);return s.views.has(r._queryIdentifier)||s.views.set(r._queryIdentifier,y),function Rv(s,r){s.eventRegistrations_.push(r)}(y,n),function t_(s,r){const n=s.viewCache_.eventCache,a=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Zt,(p,y)=>{a.push(ml(p,y))}),n.isFullyInitialized()&&a.push(Xf(n.getNode())),qp(s,a,n.getNode(),r)}(y,n)}(C,r,n,Aa(s.pendingWriteTree_,d),p,M);if(!N&&!y&&!a){const se=s_(C,r);G=G.concat(function Qd(s,r,n){const a=r._path,d=no(s,r),p=Yd(s,n),y=s.listenProvider_.startListening(Al(r),d,p.hashFn,p.onComplete),C=s.syncPointTree_.subtree(a);if(d)(0,R.hu)(!bl(C.value),"If we're adding a query, it shouldn't be shadowed");else{const M=C.fold((N,z,G)=>{if(!wt(N)&&z&&bl(z))return[gh(z).query];{let se=[];return z&&(se=se.concat(i_(z).map(Te=>Te.query))),Dn(G,(Te,Ve)=>{se=se.concat(Ve)}),se}});for(let N=0;N<M.length;++N){const z=M[N];s.listenProvider_.stopListening(Al(z),no(s,z))}}return y}(s,r,se))}return G}function qc(s,r,n){const d=s.pendingWriteTree_,p=s.syncPointTree_.findOnPath(r,(y,C)=>{const N=Cl(C,Qn(y,r));if(N)return N});return Km(d,r,p,n,!0)}function Fu(s,r){return Lu(r,s.syncPointTree_,null,Aa(s.pendingWriteTree_,Lt()))}function Lu(s,r,n,a){if(wt(s.path))return Tl(s,r,n,a);{const d=r.get(Lt());null==n&&null!=d&&(n=Cl(d,Lt()));let p=[];const y=pt(s.path),C=s.operationForChild(y),M=r.children.get(y);if(M&&C){const N=n?n.getImmediateChild(y):null,z=ah(a,y);p=p.concat(Lu(C,M,N,z))}return d&&(p=p.concat(Zd(d,s,a,n))),p}}function Tl(s,r,n,a){const d=r.get(Lt());null==n&&null!=d&&(n=Cl(d,Lt()));let p=[];return r.children.inorderTraversal((y,C)=>{const M=n?n.getImmediateChild(y):null,N=ah(a,y),z=s.operationForChild(y);z&&(p=p.concat(Tl(z,C,M,N)))}),d&&(p=p.concat(Zd(d,s,a,n))),p}function Yd(s,r){const n=r.query,a=no(s,n);return{hashFn:()=>(function Gd(s){return s.viewCache_.serverCache.getNode()}(r)||gt.EMPTY_NODE).hash(),onComplete:d=>{if("ok"===d)return a?function Ma(s,r,n){const a=Pa(s,n);if(a){const d=Ih(a),p=d.path,y=d.queryId,C=Qn(p,r);return qd(s,p,new fn(jo(y),C))}return[]}(s,n._path,a):function a_(s,r){return Fu(s,new fn({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r))}(s,n._path);{const p=function fa(s,r){let n="Unknown Error";"too_big"===s?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===s?n="Client doesn't have permission to access the desired data.":"unavailable"===s&&(n="The service is unavailable");const a=new Error(s+" at "+r._path.toString()+": "+n);return a.code=s.toUpperCase(),a}(d,n);return Yc(s,n,null,p)}}}}function no(s,r){const n=Ra(r);return s.queryToTagMap.get(n)}function Ra(s){return s._path.toString()+"$"+s._queryIdentifier}function Pa(s,r){return s.tagToQueryMap.get(r)}function Ih(s){const r=s.indexOf("$");return(0,R.hu)(-1!==r&&r<s.length-1,"Bad queryKey."),{queryId:s.substr(r+1),path:new Pt(s.substr(0,r))}}function qd(s,r,n){const a=s.syncPointTree_.get(r);return(0,R.hu)(a,"Missing sync point for query tag that we're tracking"),Zd(a,n,Aa(s.pendingWriteTree_,r),null)}function Al(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(function Ov(){return(0,R.hu)(mh,"Reference.ts has not been loaded"),mh}())(s._repo,s._path):s}class wh{constructor(r){this.node_=r}getImmediateChild(r){const n=this.node_.getImmediateChild(r);return new wh(n)}node(){return this.node_}}class Jd{constructor(r,n){this.syncTree_=r,this.path_=n}getImmediateChild(r){const n=dn(this.path_,r);return new Jd(this.syncTree_,n)}node(){return qc(this.syncTree_,this.path_)}}const Ch=function(s,r,n){return s&&"object"==typeof s?((0,R.hu)(".sv"in s,"Unexpected leaf node or priority contents"),"string"==typeof s[".sv"]?rg(s[".sv"],r,n):"object"==typeof s[".sv"]?u_(s[".sv"],r):void(0,R.hu)(!1,"Unexpected server value: "+JSON.stringify(s,null,2))):s},rg=function(s,r,n){if("timestamp"===s)return n.timestamp;(0,R.hu)(!1,"Unexpected server value: "+s)},u_=function(s,r,n){s.hasOwnProperty("increment")||(0,R.hu)(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const a=s.increment;"number"!=typeof a&&(0,R.hu)(!1,"Unexpected increment value: "+a);const d=r.node();if((0,R.hu)(null!=d,"Expected ChildrenNode.EMPTY_NODE for nulls"),!d.isLeafNode())return a;const y=d.getValue();return"number"!=typeof y?a:y+a},bh=function(s,r,n,a){return Ah(r,new Jd(n,s),a)},Th=function(s,r,n){return Ah(s,new wh(r),n)};function Ah(s,r,n){const a=s.getPriority().val(),d=Ch(a,r.getImmediateChild(".priority"),n);let p;if(s.isLeafNode()){const y=s,C=Ch(y.getValue(),r,n);return C!==y.getValue()||d!==y.getPriority().val()?new ms(C,Mt(d)):s}{const y=s;return p=y,d!==y.getPriority().val()&&(p=p.updatePriority(new ms(d))),y.forEachChild(Zt,(C,M)=>{const N=Ah(M,r.getImmediateChild(C),n);N!==M&&(p=p.updateImmediateChild(C,N))}),p}}class Hr{constructor(r="",n=null,a={children:{},childCount:0}){this.name=r,this.parent=n,this.node=a}}function Xd(s,r){let n=r instanceof Pt?r:new Pt(r),a=s,d=pt(n);for(;null!==d;){const p=(0,R.DV)(a.node.children,d)||{children:{},childCount:0};a=new Hr(d,a,p),n=zt(n),d=pt(n)}return a}function Sl(s){return s.node.value}function ig(s,r){s.node.value=r,Rh(s)}function c_(s){return s.node.childCount>0}function Sh(s,r){Dn(s.node.children,(n,a)=>{r(new Hr(n,s,a))})}function og(s,r,n,a){n&&!a&&r(s),Sh(s,d=>{og(d,r,!0,a)}),n&&a&&r(s)}function Bu(s){return new Pt(null===s.parent?s.name:Bu(s.parent)+"/"+s.name)}function Rh(s){null!==s.parent&&function d_(s,r,n){const a=function sg(s){return void 0===Sl(s)&&!c_(s)}(n),d=(0,R.r3)(s.node.children,r);a&&d?(delete s.node.children[r],s.node.childCount--,Rh(s)):!a&&!d&&(s.node.children[r]=n.node,s.node.childCount++,Rh(s))}(s.parent,s.name,s)}const f_=/[\[\].#$\/\u0000-\u001F\u007F]/,ag=/[\[\].#$\u0000-\u001F\u007F]/,Ph=10485760,Qc=function(s){return"string"==typeof s&&0!==s.length&&!f_.test(s)},lg=function(s){return"string"==typeof s&&0!==s.length&&!ag.test(s)},Vu=function(s){return null===s||"string"==typeof s||"number"==typeof s&&!il(s)||s&&"object"==typeof s&&(0,R.r3)(s,".sv")},ws=function(s,r,n,a){a&&void 0===r||Jc((0,R.gK)(s,"value"),r,n)},Jc=function(s,r,n){const a=n instanceof Pt?new xc(n,s):n;if(void 0===r)throw new Error(s+"contains undefined "+gs(a));if("function"==typeof r)throw new Error(s+"contains a function "+gs(a)+" with contents = "+r.toString());if(il(r))throw new Error(s+"contains "+r.toString()+" "+gs(a));if("string"==typeof r&&r.length>Ph/3&&(0,R.ug)(r)>Ph)throw new Error(s+"contains a string greater than "+Ph+" utf8 bytes "+gs(a)+" ('"+r.substring(0,50)+"...')");if(r&&"object"==typeof r){let d=!1,p=!1;if(Dn(r,(y,C)=>{if(".value"===y)d=!0;else if(".priority"!==y&&".sv"!==y&&(p=!0,!Qc(y)))throw new Error(s+" contains an invalid key ("+y+") "+gs(a)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Oc(s,r){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(r),s.byteLength_+=(0,R.ug)(r),Pd(s)})(a,y),Jc(s,C,a),function kc(s){const r=s.parts_.pop();s.byteLength_-=(0,R.ug)(r),s.parts_.length>0&&(s.byteLength_-=1)}(a)}),d&&p)throw new Error(s+' contains ".value" child '+gs(a)+" in addition to actual children.")}},ef=function(s,r,n,a){if(a&&void 0===r)return;const d=(0,R.gK)(s,"values");if(!r||"object"!=typeof r||Array.isArray(r))throw new Error(d+" must be an object containing the children to replace.");const p=[];Dn(r,(y,C)=>{const M=new Pt(y);if(Jc(d,C,dn(n,M)),".priority"===Nc(M)&&!Vu(C))throw new Error(d+"contains an invalid value for '"+M.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");p.push(M)}),function(s,r){let n,a;for(n=0;n<r.length;n++){a=r[n];const p=cl(a);for(let y=0;y<p.length;y++)if((".priority"!==p[y]||y!==p.length-1)&&!Qc(p[y]))throw new Error(s+"contains an invalid key ("+p[y]+") in path "+a.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}r.sort(zf);let d=null;for(n=0;n<r.length;n++){if(a=r[n],null!==d&&Dr(d,a))throw new Error(s+"contains a path "+d.toString()+" that is ancestor of another path "+a.toString());d=a}}(d,p)},Nh=function(s,r,n){if(!n||void 0!==r){if(il(r))throw new Error((0,R.gK)(s,"priority")+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Vu(r))throw new Error((0,R.gK)(s,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Xc=function(s,r,n,a){if(!(a&&void 0===n||Qc(n)))throw new Error((0,R.gK)(s,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},tf=function(s,r,n,a){if(!(a&&void 0===n||lg(n)))throw new Error((0,R.gK)(s,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Zi=function(s,r){if(".info"===pt(r))throw new Error(s+" failed = Can't modify data under /.info/")},cg=function(s,r){const n=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!Qc(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==n.length&&!function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),lg(s)}(n))throw new Error((0,R.gK)(s,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class p_{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Uu(s,r){let n=null;for(let a=0;a<r.length;a++){const d=r[a],p=d.getPath();null!==n&&!va(p,n.path)&&(s.eventLists_.push(n),n=null),null===n&&(n={events:[],path:p}),n.events.push(d)}n&&s.eventLists_.push(n)}function dg(s,r,n){Uu(s,n),ed(s,a=>va(a,r))}function yi(s,r,n){Uu(s,n),ed(s,a=>Dr(a,r)||Dr(r,a))}function ed(s,r){s.recursionDepth_++;let n=!0;for(let a=0;a<s.eventLists_.length;a++){const d=s.eventLists_[a];d&&(r(d.path)?(xh(s.eventLists_[a]),s.eventLists_[a]=null):n=!1)}n&&(s.eventLists_=[]),s.recursionDepth_--}function xh(s){for(let r=0;r<s.events.length;r++){const n=s.events[r];if(null!==n){s.events[r]=null;const a=n.getEventRunner();En&&_n("event: "+n.toString()),Er(a)}}}const fg="repo_interrupt";class kh{constructor(r,n,a,d){this.repoInfo_=r,this.forceRestClient_=n,this.authTokenProvider_=a,this.appCheckProvider_=d,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new p_,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ba(),this.transactionQueueTree_=new Hr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function g_(s){const n=s.infoData_.getNode(new Pt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function nf(s){return function(s){return(s=s||{}).timestamp=s.timestamp||(new Date).getTime(),s}({timestamp:g_(s)})}function rf(s,r,n,a,d){s.dataUpdateCount++;const p=new Pt(r);n=s.interceptServerDataCallback_?s.interceptServerDataCallback_(r,n):n;let y=[];if(d)if(a){const M=(0,R.UI)(n,N=>Mt(N));y=function vh(s,r,n,a){const d=Pa(s,a);if(d){const p=Ih(d),y=p.path,C=p.queryId,M=Qn(y,r),N=dt.fromObject(n);return qd(s,y,new Ta(jo(C),M,N))}return[]}(s.serverSyncTree_,p,M,d)}else{const M=Mt(n);y=eg(s.serverSyncTree_,p,M,d)}else if(a){const M=(0,R.UI)(n,N=>Mt(N));y=function yh(s,r,n){const a=dt.fromObject(n);return Fu(s,new Ta({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,a))}(s.serverSyncTree_,p,M)}else{const M=Mt(n);y=ku(s.serverSyncTree_,p,M)}let C=p;y.length>0&&(C=Na(s,p)),yi(s.eventQueue_,C,y)}function m_(s,r){sf(s,"connected",r),!1===r&&function Wo(s){ju(s,"onDisconnectEvents");const r=nf(s),n=ba();Hc(s.onDisconnect_,Lt(),(d,p)=>{const y=bh(d,p,s.serverSyncTree_,r);qs(n,d,y)});let a=[];Hc(n,Lt(),(d,p)=>{a=a.concat(ku(s.serverSyncTree_,d,p));const y=Bh(s,d);Na(s,y)}),s.onDisconnect_=ba(),yi(s.eventQueue_,Lt(),a)}(s)}function sf(s,r,n){const a=new Pt("/.info/"+r),d=Mt(n);s.infoData_.updateSnapshot(a,d);const p=ku(s.infoSyncTree_,a,d);yi(s.eventQueue_,a,p)}function td(s){return s.nextWriteId_++}function of(s,r,n,a,d){ju(s,"set",{path:r.toString(),value:n,priority:a});const p=nf(s),y=Mt(n,a),C=qc(s.serverSyncTree_,r),M=Th(y,C,p),N=td(s),z=_h(s.serverSyncTree_,r,M,N,!0);Uu(s.eventQueue_,z),s.server_.put(r.toString(),y.val(!0),(se,Te)=>{const Ve="ok"===se;Ve||Un("set at "+r+" failed: "+se);const vt=to(s.serverSyncTree_,N,!Ve);yi(s.eventQueue_,r,vt),io(0,d,se,Te)});const G=Bh(s,r);Na(s,G),yi(s.eventQueue_,G,[])}function af(s,r,n){s.server_.onDisconnectCancel(r.toString(),(a,d)=>{"ok"===a&&Il(s.onDisconnect_,r),io(0,n,a,d)})}function mg(s,r,n,a){const d=Mt(n);s.server_.onDisconnectPut(r.toString(),d.val(!0),(p,y)=>{"ok"===p&&qs(s.onDisconnect_,r,d),io(0,a,p,y)})}function lf(s,r,n){let a;a=".info"===pt(r._path)?Yc(s.infoSyncTree_,r,n):Yc(s.serverSyncTree_,r,n),dg(s.eventQueue_,r._path,a)}function uf(s){s.persistentConnection_&&s.persistentConnection_.interrupt(fg)}function ju(s,...r){let n="";s.persistentConnection_&&(n=s.persistentConnection_.id+":"),_n(n,...r)}function io(s,r,n,a){r&&Er(()=>{if("ok"===n)r(null);else{const d=(n||"error").toUpperCase();let p=d;a&&(p+=": "+a);const y=new Error(p);y.code=d,r(y)}})}function cf(s,r,n){return qc(s.serverSyncTree_,r,n)||gt.EMPTY_NODE}function rd(s,r=s.transactionQueueTree_){if(r||id(s,r),Sl(r)){const n=Lh(s,r);(0,R.hu)(n.length>0,"Sending zero length transaction queue"),n.every(d=>0===d.status)&&function v_(s,r,n){const a=n.map(N=>N.currentWriteId),d=cf(s,r,a);let p=d;const y=d.hash();for(let N=0;N<n.length;N++){const z=n[N];(0,R.hu)(0===z.status,"tryToSendTransactionQueue_: items in queue should all be run."),z.status=1,z.retryCount++;const G=Qn(r,z.path);p=p.updateChild(G,z.currentOutputSnapshotRaw)}const C=p.val(!0),M=r;s.server_.put(M.toString(),C,N=>{ju(s,"transaction put response",{path:M.toString(),status:N});let z=[];if("ok"===N){const G=[];for(let se=0;se<n.length;se++)n[se].status=2,z=z.concat(to(s.serverSyncTree_,n[se].currentWriteId)),n[se].onComplete&&G.push(()=>n[se].onComplete(null,!0,n[se].currentOutputSnapshotResolved)),n[se].unwatcher();id(s,Xd(s.transactionQueueTree_,r)),rd(s,s.transactionQueueTree_),yi(s.eventQueue_,r,z);for(let se=0;se<G.length;se++)Er(G[se])}else{if("datastale"===N)for(let G=0;G<n.length;G++)n[G].status=3===n[G].status?4:0;else{Un("transaction at "+M.toString()+" failed: "+N);for(let G=0;G<n.length;G++)n[G].status=4,n[G].abortReason=N}Na(s,r)}},y)}(s,Bu(r),n)}else c_(r)&&Sh(r,n=>{rd(s,n)})}function Na(s,r){const n=yg(s,r),a=Bu(n);return function E_(s,r,n){if(0===r.length)return;const a=[];let d=[];const y=r.filter(C=>0===C.status).map(C=>C.currentWriteId);for(let C=0;C<r.length;C++){const M=r[C],N=Qn(n,M.path);let G,z=!1;if((0,R.hu)(null!==N,"rerunTransactionsUnderNode_: relativePath should not be null."),4===M.status)z=!0,G=M.abortReason,d=d.concat(to(s.serverSyncTree_,M.currentWriteId,!0));else if(0===M.status)if(M.retryCount>=25)z=!0,G="maxretry",d=d.concat(to(s.serverSyncTree_,M.currentWriteId,!0));else{const se=cf(s,M.path,y);M.currentInputSnapshot=se;const Te=r[C].update(se.val());if(void 0!==Te){Jc("transaction failed: Data returned ",Te,M.path);let Ve=Mt(Te);"object"==typeof Te&&null!=Te&&(0,R.r3)(Te,".priority")||(Ve=Ve.updatePriority(se.getPriority()));const $t=M.currentWriteId,Ln=nf(s),Cn=Th(Ve,se,Ln);M.currentOutputSnapshotRaw=Ve,M.currentOutputSnapshotResolved=Cn,M.currentWriteId=td(s),y.splice(y.indexOf($t),1),d=d.concat(_h(s.serverSyncTree_,M.path,Cn,M.currentWriteId,M.applyLocally)),d=d.concat(to(s.serverSyncTree_,$t,!0))}else z=!0,G="nodata",d=d.concat(to(s.serverSyncTree_,M.currentWriteId,!0))}yi(s.eventQueue_,n,d),d=[],z&&(r[C].status=2,setTimeout(r[C].unwatcher,Math.floor(0)),r[C].onComplete&&a.push("nodata"===G?()=>r[C].onComplete(null,!1,r[C].currentInputSnapshot):()=>r[C].onComplete(new Error(G),!1,null)))}id(s,s.transactionQueueTree_);for(let C=0;C<a.length;C++)Er(a[C]);rd(s,s.transactionQueueTree_)}(s,Lh(s,n),a),a}function yg(s,r){let n,a=s.transactionQueueTree_;for(n=pt(r);null!==n&&void 0===Sl(a);)a=Xd(a,n),n=pt(r=zt(r));return a}function Lh(s,r){const n=[];return Ml(s,r,n),n.sort((a,d)=>a.order-d.order),n}function Ml(s,r,n){const a=Sl(r);if(a)for(let d=0;d<a.length;d++)n.push(a[d]);Sh(r,d=>{Ml(s,d,n)})}function id(s,r){const n=Sl(r);if(n){let a=0;for(let d=0;d<n.length;d++)2!==n[d].status&&(n[a]=n[d],a++);n.length=a,ig(r,n.length>0?n:void 0)}Sh(r,a=>{id(s,a)})}function Bh(s,r){const n=Bu(yg(s,r)),a=Xd(s.transactionQueueTree_,r);return function Mh(s,r,n){let a=n?s:s.parent;for(;null!==a;){if(r(a))return!0;a=a.parent}}(a,d=>{Vh(s,d)}),Vh(s,a),og(a,d=>{Vh(s,d)}),n}function Vh(s,r){const n=Sl(r);if(n){const a=[];let d=[],p=-1;for(let y=0;y<n.length;y++)3===n[y].status||(1===n[y].status?((0,R.hu)(p===y-1,"All SENT items should be at beginning of queue."),p=y,n[y].status=3,n[y].abortReason="set"):((0,R.hu)(0===n[y].status,"Unexpected transaction status in abort"),n[y].unwatcher(),d=d.concat(to(s.serverSyncTree_,n[y].currentWriteId,!0)),n[y].onComplete&&a.push(n[y].onComplete.bind(null,new Error("set"),!1,null))));-1===p?ig(r,void 0):n.length=p+1,yi(s.eventQueue_,Bu(r),d);for(let y=0;y<a.length;y++)Er(a[y])}}const Uh=function(s,r){const n=D_(s),a=n.namespace;return"firebase.com"===n.domain&&fr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||"undefined"===a)&&"localhost"!==n.domain&&fr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Un("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ye(n.host,n.secure,a,"ws"===n.scheme||"wss"===n.scheme,r,"",a!==n.subdomain),path:new Pt(n.pathString)}},D_=function(s){let r="",n="",a="",d="",p="",y=!0,C="https",M=443;if("string"==typeof s){let N=s.indexOf("//");N>=0&&(C=s.substring(0,N-1),s=s.substring(N+2));let z=s.indexOf("/");-1===z&&(z=s.length);let G=s.indexOf("?");-1===G&&(G=s.length),r=s.substring(0,Math.min(z,G)),z<G&&(d=function Hu(s){let r="";const n=s.split("/");for(let a=0;a<n.length;a++)if(n[a].length>0){let d=n[a];try{d=decodeURIComponent(d.replace(/\+/g," "))}catch(p){}r+="/"+d}return r}(s.substring(z,G)));const se=function I_(s){const r={};"?"===s.charAt(0)&&(s=s.substring(1));for(const n of s.split("&")){if(0===n.length)continue;const a=n.split("=");2===a.length?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Un(`Invalid query segment '${n}' in query '${s}'`)}return r}(s.substring(Math.min(s.length,G)));N=r.indexOf(":"),N>=0?(y="https"===C||"wss"===C,M=parseInt(r.substring(N+1),10)):N=r.length;const Te=r.slice(0,N);if("localhost"===Te.toLowerCase())n="localhost";else if(Te.split(".").length<=2)n=Te;else{const Ve=r.indexOf(".");a=r.substring(0,Ve).toLowerCase(),n=r.substring(Ve+1),p=a}"ns"in se&&(p=se.ns)}return{host:r,port:M,domain:n,subdomain:a,secure:y,scheme:C,pathString:d,namespace:p}},vg="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",so=function(){let s=0;const r=[];return function(n){const a=n===s;let d;s=n;const p=new Array(8);for(d=7;d>=0;d--)p[d]=vg.charAt(n%64),n=Math.floor(n/64);(0,R.hu)(0===n,"Cannot push at time == 0");let y=p.join("");if(a){for(d=11;d>=0&&63===r[d];d--)r[d]=0;r[d]++}else for(d=0;d<12;d++)r[d]=Math.floor(64*Math.random());for(d=0;d<12;d++)y+=vg.charAt(r[d]);return(0,R.hu)(20===y.length,"nextPushId: Length should be 20."),y}}();class df{constructor(r,n,a,d){this.eventType=r,this.eventRegistration=n,this.snapshot=a,this.prevName=d}getPath(){const r=this.snapshot.ref;return"value"===this.eventType?r._path:r.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,R.Wl)(this.snapshot.exportVal())}}class jh{constructor(r,n,a){this.eventRegistration=r,this.error=n,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class ff{constructor(r,n){this.snapshotCallback=r,this.cancelCallback=n}onValue(r,n){this.snapshotCallback.call(null,r,n)}onCancel(r){return(0,R.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,r)}get hasCancelCallback(){return!!this.cancelCallback}matches(r){return this.snapshotCallback===r.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===r.snapshotCallback.userCallback&&this.snapshotCallback.context===r.snapshotCallback.context}}class Hh{constructor(r,n){this._repo=r,this._path=n}cancel(){const r=new R.BH;return af(this._repo,this._path,r.wrapCallback(()=>{})),r.promise}remove(){Zi("OnDisconnect.remove",this._path);const r=new R.BH;return mg(this._repo,this._path,null,r.wrapCallback(()=>{})),r.promise}set(r){Zi("OnDisconnect.set",this._path),ws("OnDisconnect.set",r,this._path,!1);const n=new R.BH;return mg(this._repo,this._path,r,n.wrapCallback(()=>{})),n.promise}setWithPriority(r,n){Zi("OnDisconnect.setWithPriority",this._path),ws("OnDisconnect.setWithPriority",r,this._path,!1),Nh("OnDisconnect.setWithPriority",n,!1);const a=new R.BH;return function y_(s,r,n,a,d){const p=Mt(n,a);s.server_.onDisconnectPut(r.toString(),p.val(!0),(y,C)=>{"ok"===y&&qs(s.onDisconnect_,r,p),io(0,d,y,C)})}(this._repo,this._path,r,n,a.wrapCallback(()=>{})),a.promise}update(r){Zi("OnDisconnect.update",this._path),ef("OnDisconnect.update",r,this._path,!1);const n=new R.BH;return function Fv(s,r,n,a){if((0,R.xb)(n))return _n("onDisconnect().update() called with empty data.  Don't do anything."),void io(0,a,"ok",void 0);s.server_.onDisconnectMerge(r.toString(),n,(d,p)=>{"ok"===d&&Dn(n,(y,C)=>{const M=Mt(C);qs(s.onDisconnect_,dn(r,y),M)}),io(0,a,d,p)})}(this._repo,this._path,r,n.wrapCallback(()=>{})),n.promise}}class $r{constructor(r,n,a,d){this._repo=r,this._path=n,this._queryParams=a,this._orderByCalled=d}get key(){return wt(this._path)?null:Nc(this._path)}get ref(){return new Ki(this._repo,this._path)}get _queryIdentifier(){const r=th(this._queryParams),n=Gs(r);return"{}"===n?"default":n}get _queryObject(){return th(this._queryParams)}isEqual(r){if(!((r=(0,R.m9)(r))instanceof $r))return!1;const n=this._repo===r._repo,a=va(this._path,r._path);return n&&a&&this._queryIdentifier===r._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Iu(s){let r="";for(let n=s.pieceNum_;n<s.pieces_.length;n++)""!==s.pieces_[n]&&(r+="/"+encodeURIComponent(String(s.pieces_[n])));return r||"/"}(this._path)}}function hf(s,r){if(!0===s._orderByCalled)throw new Error(r+": You can't combine multiple orderBy calls.")}function xa(s){let r=null,n=null;if(s.hasStart()&&(r=s.getIndexStartValue()),s.hasEnd()&&(n=s.getIndexEndValue()),s.getIndex()===Br){const a="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",d="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(s.hasStart()){if(s.getIndexStartName()!==In)throw new Error(a);if("string"!=typeof r)throw new Error(d)}if(s.hasEnd()){if(s.getIndexEndName()!==Fr)throw new Error(a);if("string"!=typeof n)throw new Error(d)}}else if(s.getIndex()===Zt){if(null!=r&&!Vu(r)||null!=n&&!Vu(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,R.hu)(s.getIndex()instanceof Vo||s.getIndex()===Ld,"unknown index type."),null!=r&&"object"==typeof r||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function pf(s){if(s.hasStart()&&s.hasEnd()&&s.hasLimit()&&!s.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ki extends $r{constructor(r,n){super(r,n,new Ca,!1)}get parent(){const r=Rd(this._path);return null===r?null:new Ki(this._repo,r)}get root(){let r=this;for(;null!==r.parent;)r=r.parent;return r}}class Oa{constructor(r,n,a){this._node=r,this.ref=n,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(r){const n=new Pt(r),a=Rl(this.ref,r);return new Oa(this._node.getChild(n),a,Zt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(r){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(a,d)=>r(new Oa(d,Rl(this.ref,a),Zt)))}hasChild(r){const n=new Pt(r);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function w_(s,r){return(s=(0,R.m9)(s))._checkNotDeleted("ref"),void 0!==r?Rl(s._root,r):s._root}function $h(s,r){(s=(0,R.m9)(s))._checkNotDeleted("refFromURL");const n=Uh(r,s._repo.repoInfo_.nodeAdmin);cg("refFromURL",n);const a=n.repoInfo;return!s._repo.repoInfo_.isCustomHost()&&a.host!==s._repo.repoInfo_.host&&fr("refFromURL: Host name does not match the current database: (found "+a.host+" but expected "+s._repo.repoInfo_.host+")"),w_(s,n.path.toString())}function Rl(s,r){return null===pt((s=(0,R.m9)(s))._path)?(n=r,n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),tf("child","path",n,!1)):tf("child","path",r,!1),new Ki(s._repo,dn(s._path,r));var n}function sd(s,r){s=(0,R.m9)(s),Zi("set",s._path),ws("set",r,s._path,!1);const n=new R.BH;return of(s._repo,s._path,r,null,n.wrapCallback(()=>{})),n.promise}function Ig(s,r){ef("update",r,s._path,!1);const n=new R.BH;return function gg(s,r,n,a){ju(s,"update",{path:r.toString(),value:n});let d=!0;const p=nf(s),y={};if(Dn(n,(C,M)=>{d=!1,y[C]=bh(dn(r,C),Mt(M),s.serverSyncTree_,p)}),d)_n("update() called with empty data.  Don't do anything."),io(0,a,"ok",void 0);else{const C=td(s),M=function Xp(s,r,n,a){!function Ou(s,r,n,a){(0,R.hu)(a>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:r,children:n,writeId:a,visible:!0}),s.visibleWrites=Js(s.visibleWrites,r,n),s.lastWriteId=a}(s.pendingWriteTree_,r,n,a);const d=dt.fromObject(n);return Fu(s,new Ta({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,d))}(s.serverSyncTree_,r,y,C);Uu(s.eventQueue_,M),s.server_.merge(r.toString(),n,(N,z)=>{const G="ok"===N;G||Un("update at "+r+" failed: "+N);const se=to(s.serverSyncTree_,C,!G),Te=se.length>0?Na(s,r):r;yi(s.eventQueue_,Te,se),io(0,a,N,z)}),Dn(n,N=>{const z=Bh(s,dn(r,N));Na(s,z)}),yi(s.eventQueue_,r,[])}}(s._repo,s._path,r,n.wrapCallback(()=>{})),n.promise}function Uv(s){s=(0,R.m9)(s);const r=new ff(()=>{}),n=new Wr(r);return function pg(s,r,n){const a=function l_(s,r){const n=r._path;let a=null;s.syncPointTree_.foreachOnPath(n,(N,z)=>{const G=Qn(N,n);a=a||Cl(z,G)});let d=s.syncPointTree_.get(n);d?a=a||Cl(d,Lt()):(d=new n_,s.syncPointTree_=s.syncPointTree_.set(n,d));const p=null!=a,y=p?new h(a,!0,!1):null;return function fh(s){return _e(s.viewCache_)}(Jp(d,r,Aa(s.pendingWriteTree_,r._path),p?y.getNode():gt.EMPTY_NODE,p))}(s.serverSyncTree_,r);return null!=a?Promise.resolve(a):s.server_.get(r).then(d=>{const p=Mt(d).withIndex(r._queryParams.getIndex());let y;if(Eh(s.serverSyncTree_,r,n,!0),r._queryParams.loadsAllData())y=ku(s.serverSyncTree_,r._path,p);else{const C=no(s.serverSyncTree_,r);y=eg(s.serverSyncTree_,r._path,p,C)}return yi(s.eventQueue_,r._path,y),Yc(s.serverSyncTree_,r,n,null,!0),p},d=>(ju(s,"get for query "+(0,R.Wl)(r)+" failed: "+d),Promise.reject(new Error(d))))}(s._repo,s,n).then(a=>new Oa(a,new Ki(s._repo,s._path),s._queryParams.getIndex()))}class Wr{constructor(r){this.callbackContext=r}respondsTo(r){return"value"===r}createEvent(r,n){const a=n._queryParams.getIndex();return new df("value",this,new Oa(r.snapshotNode,new Ki(n._repo,n._path),a))}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,null)}createCancelEvent(r,n){return this.callbackContext.hasCancelCallback?new jh(this,r,n):null}matches(r){return r instanceof Wr&&(!r.callbackContext||!this.callbackContext||r.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Wh{constructor(r,n){this.eventType=r,this.callbackContext=n}respondsTo(r){let n="children_added"===r?"child_added":r;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(r,n){return this.callbackContext.hasCancelCallback?new jh(this,r,n):null}createEvent(r,n){(0,R.hu)(null!=r.childName,"Child events should have a childName.");const a=Rl(new Ki(n._repo,n._path),r.childName),d=n._queryParams.getIndex();return new df(r.type,this,new Oa(r.snapshotNode,a,d),r.prevName)}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,r.prevName)}matches(r){return r instanceof Wh&&this.eventType===r.eventType&&(!this.callbackContext||!r.callbackContext||this.callbackContext.matches(r.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function gf(s,r,n,a,d){let p;if("object"==typeof a&&(p=void 0,d=a),"function"==typeof a&&(p=a),d&&d.onlyOnce){const M=n,N=(z,G)=>{lf(s._repo,s,C),M(z,G)};N.userCallback=n.userCallback,N.context=n.context,n=N}const y=new ff(n,p||void 0),C="value"===r?new Wr(y):new Wh(r,y);return function Fh(s,r,n){let a;a=".info"===pt(r._path)?Eh(s.infoSyncTree_,r,n):Eh(s.serverSyncTree_,r,n),dg(s.eventQueue_,r._path,a)}(s._repo,s,C),()=>lf(s._repo,s,C)}function mf(s,r,n,a){return gf(s,"value",r,n,a)}function Gh(s,r,n,a){return gf(s,"child_added",r,n,a)}function zh(s,r,n,a){return gf(s,"child_changed",r,n,a)}function Dg(s,r,n,a){return gf(s,"child_moved",r,n,a)}function b_(s,r,n,a){return gf(s,"child_removed",r,n,a)}function Zh(s,r,n){let a=null;const d=n?new ff(n):null;"value"===r?a=new Wr(d):r&&(a=new Wh(r,d)),lf(s._repo,s,a)}class Yi{}class wg extends Yi{constructor(r,n){super(),this._value=r,this._key=n}_apply(r){ws("endAt",this._value,r._path,!0);const n=_s(r._queryParams,this._value,this._key);if(pf(n),xa(n),r._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new $r(r._repo,r._path,n,r._orderByCalled)}}class T_ extends Yi{constructor(r,n){super(),this._value=r,this._key=n}_apply(r){ws("endBefore",this._value,r._path,!1);const n=function Su(s,r,n){let a;return a=_s(s,r,s.index_===Br||n?n:In),a.endBeforeSet_=!0,a}(r._queryParams,this._value,this._key);if(pf(n),xa(n),r._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new $r(r._repo,r._path,n,r._orderByCalled)}}class Cg extends Yi{constructor(r,n){super(),this._value=r,this._key=n}_apply(r){ws("startAt",this._value,r._path,!0);const n=vl(r._queryParams,this._value,this._key);if(pf(n),xa(n),r._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new $r(r._repo,r._path,n,r._orderByCalled)}}class M_ extends Yi{constructor(r,n){super(),this._value=r,this._key=n}_apply(r){ws("startAfter",this._value,r._path,!1);const n=function Gi(s,r,n){let a;return a=vl(s,r,s.index_===Br||n?n:Fr),a.startAfterSet_=!0,a}(r._queryParams,this._value,this._key);if(pf(n),xa(n),r._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new $r(r._repo,r._path,n,r._orderByCalled)}}class _f extends Yi{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new $r(r._repo,r._path,function Ur(s,r){const n=s.copy();return n.limitSet_=!0,n.limit_=r,n.viewFrom_="l",n}(r._queryParams,this._limit),r._orderByCalled)}}class P_ extends Yi{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new $r(r._repo,r._path,function Ys(s,r){const n=s.copy();return n.limitSet_=!0,n.limit_=r,n.viewFrom_="r",n}(r._queryParams,this._limit),r._orderByCalled)}}class N_ extends Yi{constructor(r){super(),this._path=r}_apply(r){hf(r,"orderByChild");const n=new Pt(this._path);if(wt(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const a=new Vo(n),d=El(r._queryParams,a);return xa(d),new $r(r._repo,r._path,d,!0)}}class Yh extends Yi{_apply(r){hf(r,"orderByKey");const n=El(r._queryParams,Br);return xa(n),new $r(r._repo,r._path,n,!0)}}class ad extends Yi{_apply(r){hf(r,"orderByPriority");const n=El(r._queryParams,Zt);return xa(n),new $r(r._repo,r._path,n,!0)}}class Pl extends Yi{_apply(r){hf(r,"orderByValue");const n=El(r._queryParams,Ld);return xa(n),new $r(r._repo,r._path,n,!0)}}class qi extends Yi{constructor(r,n){super(),this._value=r,this._key=n}_apply(r){if(ws("equalTo",this._value,r._path,!1),r._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(r._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new wg(this._value,this._key)._apply(new Cg(this._value,this._key)._apply(r))}}function br(s,...r){let n=(0,R.m9)(s);for(const a of r)n=a._apply(n);return n}(function r_(s){(0,R.hu)(!Kc,"__referenceConstructor has already been defined"),Kc=s})(Ki),function xv(s){(0,R.hu)(!mh,"__referenceConstructor has already been defined"),mh=s}(Ki);const ka={};function xl(s,r,n,a,d){let p=a||s.options.databaseURL;void 0===p&&(s.options.projectId||fr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_n("Using default host for project ",s.options.projectId),p=`${s.options.projectId}-default-rtdb.firebaseio.com`);let M,N,y=Uh(p,d),C=y.repoInfo;"undefined"!=typeof process&&process.env&&(N=process.env.FIREBASE_DATABASE_EMULATOR_HOST),N?(M=!0,p=`http://${N}?ns=${C.namespace}`,y=Uh(p,d),C=y.repoInfo):M=!y.repoInfo.secure;const z=d&&M?new ni(ni.OWNER):new Ir(s.name,s.options,r);cg("Invalid Firebase Database URL",y),wt(y.path)||fr("Database URL must point to the root of a Firebase Database (not including a child path).");const G=function Zu(s,r,n,a){let d=ka[r.name];d||(d={},ka[r.name]=d);let p=d[s.toURLString()];return p&&fr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),p=new kh(s,false,n,a),d[s.toURLString()]=p,p}(C,s,z,new ol(s.name,n));return new Tg(G,s)}class Tg{constructor(r,n){this._repoInternal=r,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function hg(s,r,n){if(s.stats_=jn(s.repoInfo_),s.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)s.server_=new zi(s.repoInfo_,(a,d,p,y)=>{rf(s,a,d,p,y)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>m_(s,!0),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,R.Wl)(n)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}s.persistentConnection_=new ko(s.repoInfo_,r,(a,d,p,y)=>{rf(s,a,d,p,y)},a=>{m_(s,a)},a=>{!function __(s,r){Dn(r,(n,a)=>{sf(s,n,a)})}(s,a)},s.authTokenProvider_,s.appCheckProvider_,n),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(a=>{s.server_.refreshAuthToken(a)}),s.appCheckProvider_.addTokenChangeListener(a=>{s.server_.refreshAppCheckToken(a.token)}),s.statsReporter_=function cn(s,r){const n=s.toString();return ot[n]||(ot[n]=r()),ot[n]}(s.repoInfo_,()=>new Dl(s.stats_,s.server_)),s.infoData_=new nh,s.infoSyncTree_=new Kd({startListening:(a,d,p,y)=>{let C=[];const M=s.infoData_.getNode(a._path);return M.isEmpty()||(C=ku(s.infoSyncTree_,a._path,M),setTimeout(()=>{y("ok")},0)),C},stopListening:()=>{}}),sf(s,"connected",!1),s.serverSyncTree_=new Kd({startListening:(a,d,p,y)=>(s.server_.listen(a,p,d,(C,M)=>{const N=y(C,M);yi(s.eventQueue_,a._path,N)}),[]),stopListening:(a,d)=>{s.server_.unlisten(a,d)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ki(this._repo,Lt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function zu(s,r){const n=ka[r];(!n||n[s.key]!==s)&&fr(`Database ${r}(${s.repoInfo_}) has already been deleted.`),uf(s),delete n[s.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(r){null===this._rootInternal&&fr("Cannot call "+r+" on a deleted database.")}}function qh(){Hn.IS_TRANSPORT_INITIALIZED&&Un("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Ag(){qh(),ji.forceDisallow()}function Sg(){qh(),Zs.forceDisallow(),ji.forceAllow()}function Pg(s,r){aa(s,r)}const F_={".sv":"timestamp"};class Ng{constructor(r,n){this.committed=r,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ko.prototype.simpleListen=function(s,r){this.sendRequest("q",{p:s},r)},ko.prototype.echo=function(s,r){this.sendRequest("echo",{d:s},r)},function k_(s){Dd(ei.SDK_VERSION),(0,ei._registerComponent)(new Yn.wA("database",(r,{instanceIdentifier:n})=>xl(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"),r.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),(0,ei.registerVersion)(Ro,"0.14.0",s),(0,ei.registerVersion)(Ro,"0.14.0","esm2017")}();const H_=new nl.Yd("@firebase/database-compat"),Og=function(s){H_.warn("FIREBASE WARNING: "+s)};class Jh{constructor(r){this._delegate=r}cancel(r){(0,R.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,R.Wj)("OnDisconnect.cancel","onComplete",r,!0);const n=this._delegate.cancel();return r&&n.then(()=>r(null),a=>r(a)),n}remove(r){(0,R.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,R.Wj)("OnDisconnect.remove","onComplete",r,!0);const n=this._delegate.remove();return r&&n.then(()=>r(null),a=>r(a)),n}set(r,n){(0,R.Dv)("OnDisconnect.set",1,2,arguments.length),(0,R.Wj)("OnDisconnect.set","onComplete",n,!0);const a=this._delegate.set(r);return n&&a.then(()=>n(null),d=>n(d)),a}setWithPriority(r,n,a){(0,R.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,R.Wj)("OnDisconnect.setWithPriority","onComplete",a,!0);const d=this._delegate.setWithPriority(r,n);return a&&d.then(()=>a(null),p=>a(p)),d}update(r,n){if((0,R.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(r)){const d={};for(let p=0;p<r.length;++p)d[""+p]=r[p];r=d,Og("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,R.Wj)("OnDisconnect.update","onComplete",n,!0);const a=this._delegate.update(r);return n&&a.then(()=>n(null),d=>n(d)),a}}class Xh{constructor(r,n){this.committed=r,this.snapshot=n}toJSON(){return(0,R.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Fa{constructor(r,n){this._database=r,this._delegate=n}val(){return(0,R.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,R.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,R.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,R.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(r){return(0,R.Dv)("DataSnapshot.child",0,1,arguments.length),r=String(r),tf("DataSnapshot.child","path",r,!1),new Fa(this._database,this._delegate.child(r))}hasChild(r){return(0,R.Dv)("DataSnapshot.hasChild",1,1,arguments.length),tf("DataSnapshot.hasChild","path",r,!1),this._delegate.hasChild(r)}getPriority(){return(0,R.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(r){return(0,R.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,R.Wj)("DataSnapshot.forEach","action",r,!1),this._delegate.forEach(n=>r(new Fa(this._database,n)))}hasChildren(){return(0,R.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,R.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,R.Dv)("DataSnapshot.ref",0,0,arguments.length),new Qi(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Tr{constructor(r,n){this.database=r,this._delegate=n}on(r,n,a,d){var p;(0,R.Dv)("Query.on",2,4,arguments.length),(0,R.Wj)("Query.on","callback",n,!1);const y=Tr.getCancelAndContextArgs_("Query.on",a,d),C=(N,z)=>{n.call(y.context,new Fa(this.database,N),z)};C.userCallback=n,C.context=y.context;const M=null===(p=y.cancel)||void 0===p?void 0:p.bind(y.context);switch(r){case"value":return mf(this._delegate,C,M),n;case"child_added":return Gh(this._delegate,C,M),n;case"child_removed":return b_(this._delegate,C,M),n;case"child_changed":return zh(this._delegate,C,M),n;case"child_moved":return Dg(this._delegate,C,M),n;default:throw new Error((0,R.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(r,n,a){if((0,R.Dv)("Query.off",0,3,arguments.length),function(s,r,n){if(void 0!==r)switch(r){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,R.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,r),(0,R.Wj)("Query.off","callback",n,!0),(0,R.lb)("Query.off","context",a,!0),n){const d=()=>{};d.userCallback=n,d.context=a,Zh(this._delegate,r,d)}else Zh(this._delegate,r)}get(){return Uv(this._delegate).then(r=>new Fa(this.database,r))}once(r,n,a,d){(0,R.Dv)("Query.once",1,4,arguments.length),(0,R.Wj)("Query.once","callback",n,!0);const p=Tr.getCancelAndContextArgs_("Query.once",a,d),y=new R.BH,C=(N,z)=>{const G=new Fa(this.database,N);n&&n.call(p.context,G,z),y.resolve(G)};C.userCallback=n,C.context=p.context;const M=N=>{p.cancel&&p.cancel.call(p.context,N),y.reject(N)};switch(r){case"value":mf(this._delegate,C,M,{onlyOnce:!0});break;case"child_added":Gh(this._delegate,C,M,{onlyOnce:!0});break;case"child_removed":b_(this._delegate,C,M,{onlyOnce:!0});break;case"child_changed":zh(this._delegate,C,M,{onlyOnce:!0});break;case"child_moved":Dg(this._delegate,C,M,{onlyOnce:!0});break;default:throw new Error((0,R.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return y.promise}limitToFirst(r){return(0,R.Dv)("Query.limitToFirst",1,1,arguments.length),new Tr(this.database,br(this._delegate,function $u(s){if("number"!=typeof s||Math.floor(s)!==s||s<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new _f(s)}(r)))}limitToLast(r){return(0,R.Dv)("Query.limitToLast",1,1,arguments.length),new Tr(this.database,br(this._delegate,function od(s){if("number"!=typeof s||Math.floor(s)!==s||s<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new P_(s)}(r)))}orderByChild(r){return(0,R.Dv)("Query.orderByChild",1,1,arguments.length),new Tr(this.database,br(this._delegate,function x_(s){if("$key"===s)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===s)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===s)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return tf("orderByChild","path",s,!1),new N_(s)}(r)))}orderByKey(){return(0,R.Dv)("Query.orderByKey",0,0,arguments.length),new Tr(this.database,br(this._delegate,function oo(){return new Yh}()))}orderByPriority(){return(0,R.Dv)("Query.orderByPriority",0,0,arguments.length),new Tr(this.database,br(this._delegate,function Cr(){return new ad}()))}orderByValue(){return(0,R.Dv)("Query.orderByValue",0,0,arguments.length),new Tr(this.database,br(this._delegate,function yf(){return new Pl}()))}startAt(r=null,n){return(0,R.Dv)("Query.startAt",0,2,arguments.length),new Tr(this.database,br(this._delegate,function S_(s=null,r){return Xc("startAt","key",r,!0),new Cg(s,r)}(r,n)))}startAfter(r=null,n){return(0,R.Dv)("Query.startAfter",0,2,arguments.length),new Tr(this.database,br(this._delegate,function R_(s,r){return Xc("startAfter","key",r,!0),new M_(s,r)}(r,n)))}endAt(r=null,n){return(0,R.Dv)("Query.endAt",0,2,arguments.length),new Tr(this.database,br(this._delegate,function Kh(s,r){return Xc("endAt","key",r,!0),new wg(s,r)}(r,n)))}endBefore(r=null,n){return(0,R.Dv)("Query.endBefore",0,2,arguments.length),new Tr(this.database,br(this._delegate,function A_(s,r){return Xc("endBefore","key",r,!0),new T_(s,r)}(r,n)))}equalTo(r,n){return(0,R.Dv)("Query.equalTo",1,2,arguments.length),new Tr(this.database,br(this._delegate,function bg(s,r){return Xc("equalTo","key",r,!0),new qi(s,r)}(r,n)))}toString(){return(0,R.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,R.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(r){if((0,R.Dv)("Query.isEqual",1,1,arguments.length),!(r instanceof Tr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(r._delegate)}static getCancelAndContextArgs_(r,n,a){const d={cancel:void 0,context:void 0};if(n&&a)d.cancel=n,(0,R.Wj)(r,"cancel",d.cancel,!0),d.context=a,(0,R.lb)(r,"context",d.context,!0);else if(n)if("object"==typeof n&&null!==n)d.context=n;else{if("function"!=typeof n)throw new Error((0,R.gK)(r,"cancelOrContext")+" must either be a cancel callback or a context object.");d.cancel=n}return d}get ref(){return new Qi(this.database,new Ki(this._delegate._repo,this._delegate._path))}}class Qi extends Tr{constructor(r,n){super(r,new $r(n._repo,n._path,new Ca,!1)),this.database=r,this._delegate=n}getKey(){return(0,R.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(r){return(0,R.Dv)("Reference.child",1,1,arguments.length),"number"==typeof r&&(r=String(r)),new Qi(this.database,Rl(this._delegate,r))}getParent(){(0,R.Dv)("Reference.parent",0,0,arguments.length);const r=this._delegate.parent;return r?new Qi(this.database,r):null}getRoot(){return(0,R.Dv)("Reference.root",0,0,arguments.length),new Qi(this.database,this._delegate.root)}set(r,n){(0,R.Dv)("Reference.set",1,2,arguments.length),(0,R.Wj)("Reference.set","onComplete",n,!0);const a=sd(this._delegate,r);return n&&a.then(()=>n(null),d=>n(d)),a}update(r,n){if((0,R.Dv)("Reference.update",1,2,arguments.length),Array.isArray(r)){const d={};for(let p=0;p<r.length;++p)d[""+p]=r[p];r=d,Og("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Zi("Reference.update",this._delegate._path),(0,R.Wj)("Reference.update","onComplete",n,!0);const a=Ig(this._delegate,r);return n&&a.then(()=>n(null),d=>n(d)),a}setWithPriority(r,n,a){(0,R.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,R.Wj)("Reference.setWithPriority","onComplete",a,!0);const d=function Eg(s,r,n){if(Zi("setWithPriority",s._path),ws("setWithPriority",r,s._path,!1),Nh("setWithPriority",n,!1),".length"===s.key||".keys"===s.key)throw"setWithPriority failed: "+s.key+" is a read-only object.";const a=new R.BH;return of(s._repo,s._path,r,n,a.wrapCallback(()=>{})),a.promise}(this._delegate,r,n);return a&&d.then(()=>a(null),p=>a(p)),d}remove(r){(0,R.Dv)("Reference.remove",0,1,arguments.length),(0,R.Wj)("Reference.remove","onComplete",r,!0);const n=function Vv(s){return Zi("remove",s._path),sd(s,null)}(this._delegate);return r&&n.then(()=>r(null),a=>r(a)),n}transaction(r,n,a){(0,R.Dv)("Reference.transaction",1,3,arguments.length),(0,R.Wj)("Reference.transaction","transactionUpdate",r,!1),(0,R.Wj)("Reference.transaction","onComplete",n,!0),function(s,r,n,a){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,R.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,a);const d=function V_(s,r,n){var a;if(s=(0,R.m9)(s),Zi("Reference.transaction",s._path),".length"===s.key||".keys"===s.key)throw"Reference.transaction failed: "+s.key+" is a read-only object.";const d=null===(a=null==n?void 0:n.applyLocally)||void 0===a||a,p=new R.BH,C=mf(s,()=>{});return function _g(s,r,n,a,d,p){ju(s,"transaction on "+r);const y={path:r,update:n,onComplete:a,status:null,order:Ws(),applyLocally:p,retryCount:0,unwatcher:d,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},C=cf(s,r,void 0);y.currentInputSnapshot=C;const M=y.update(C.val());if(void 0===M)y.unwatcher(),y.currentOutputSnapshotRaw=null,y.currentOutputSnapshotResolved=null,y.onComplete&&y.onComplete(null,!1,y.currentInputSnapshot);else{Jc("transaction failed: Data returned ",M,y.path),y.status=0;const N=Xd(s.transactionQueueTree_,r),z=Sl(N)||[];let G;z.push(y),ig(N,z),"object"==typeof M&&null!==M&&(0,R.r3)(M,".priority")?(G=(0,R.DV)(M,".priority"),(0,R.hu)(Vu(G),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):G=(qc(s.serverSyncTree_,r)||gt.EMPTY_NODE).getPriority().val();const se=nf(s),Te=Mt(M,G),Ve=Th(Te,C,se);y.currentOutputSnapshotRaw=Te,y.currentOutputSnapshotResolved=Ve,y.currentWriteId=td(s);const vt=_h(s.serverSyncTree_,r,Ve,y.currentWriteId,y.applyLocally);yi(s.eventQueue_,r,vt),rd(s,s.transactionQueueTree_)}}(s._repo,s._path,r,(M,N,z)=>{let G=null;M?p.reject(M):(G=new Oa(z,new Ki(s._repo,s._path),Zt),p.resolve(new Ng(N,G)))},C,d),p.promise}(this._delegate,r,{applyLocally:a}).then(p=>new Xh(p.committed,new Fa(this.database,p.snapshot)));return n&&d.then(p=>n(null,p.committed,p.snapshot),p=>n(p,!1,null)),d}setPriority(r,n){(0,R.Dv)("Reference.setPriority",1,2,arguments.length),(0,R.Wj)("Reference.setPriority","onComplete",n,!0);const a=function C_(s,r){s=(0,R.m9)(s),Zi("setPriority",s._path),Nh("setPriority",r,!1);const n=new R.BH;return of(s._repo,dn(s._path,".priority"),r,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,r);return n&&a.then(()=>n(null),d=>n(d)),a}push(r,n){(0,R.Dv)("Reference.push",0,2,arguments.length),(0,R.Wj)("Reference.push","onComplete",n,!0);const a=function Bv(s,r){s=(0,R.m9)(s),Zi("push",s._path),ws("push",r,s._path,!0);const n=g_(s._repo),a=so(n),d=Rl(s,a),p=Rl(s,a);let y;return y=null!=r?sd(p,r).then(()=>p):Promise.resolve(p),d.then=y.then.bind(y),d.catch=y.then.bind(y,void 0),d}(this._delegate,r),d=a.then(y=>new Qi(this.database,y));n&&d.then(()=>n(null),y=>n(y));const p=new Qi(this.database,a);return p.then=d.then.bind(d),p.catch=d.catch.bind(d,void 0),p}onDisconnect(){return Zi("Reference.onDisconnect",this._delegate._path),new Jh(new Hh(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class vf{constructor(r,n){this._delegate=r,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Ag,forceLongPolling:Sg}}useEmulator(r,n,a={}){!function Qh(s,r,n,a={}){(s=(0,R.m9)(s))._checkNotDeleted("useEmulator"),s._instanceStarted&&fr("Cannot call useEmulator() after instance has already been initialized.");const d=s._repoInternal;let p;if(d.repoInfo_.nodeAdmin)a.mockUserToken&&fr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),p=new ni(ni.OWNER);else if(a.mockUserToken){const y="string"==typeof a.mockUserToken?a.mockUserToken:(0,R.Sg)(a.mockUserToken,s.app.options.projectId);p=new ni(y)}!function Gu(s,r,n,a){s.repoInfo_=new ye(`${r}:${n}`,!1,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams),a&&(s.authTokenProvider_=a)}(d,r,n,p)}(this._delegate,r,n,a)}ref(r){if((0,R.Dv)("database.ref",0,1,arguments.length),r instanceof Qi){const n=$h(this._delegate,r.toString());return new Qi(this,n)}{const n=w_(this._delegate,r);return new Qi(this,n)}}refFromURL(r){(0,R.Dv)("database.refFromURL",1,1,arguments.length);const a=$h(this._delegate,r);return new Qi(this,a)}goOffline(){return(0,R.Dv)("database.goOffline",0,0,arguments.length),function Mg(s){(s=(0,R.m9)(s))._checkNotDeleted("goOffline"),uf(s._repo)}(this._delegate)}goOnline(){return(0,R.Dv)("database.goOnline",0,0,arguments.length),function Rg(s){(s=(0,R.m9)(s))._checkNotDeleted("goOnline"),function nd(s){s.persistentConnection_&&s.persistentConnection_.resume(fg)}(s._repo)}(this._delegate)}}vf.ServerValue={TIMESTAMP:function L_(){return F_}(),increment:s=>function B_(s){return{".sv":{increment:s}}}(s)};var kg=Object.freeze({__proto__:null,initStandalone:function W_({app:s,url:r,version:n,customAuthImpl:a,namespace:d,nodeAdmin:p=!1}){Dd(n);const y=new Yn.zt("auth-internal",new Yn.H0("database-standalone"));return y.setComponent(new Yn.wA("auth-internal",()=>a,"PRIVATE")),{instance:new vf(xl(s,y,void 0,r,p),s),namespace:d}}});const $v=vf.ServerValue;!function G_(s){s.INTERNAL.registerComponent(new Yn.wA("database-compat",(r,{instanceIdentifier:n})=>{const a=r.getProvider("app-compat").getImmediate(),d=r.getProvider("database").getImmediate({identifier:n});return new vf(d,a)},"PUBLIC").setServiceProps({Reference:Qi,Query:Tr,Database:vf,DataSnapshot:Fa,enableLogging:Pg,INTERNAL:kg,ServerValue:$v}).setMultipleInstances(!0)),s.registerVersion("@firebase/database-compat","0.3.0")}(uu.Z);var Go=P(5363);function Fg(s,r,n){var a,d;let p,y=!1;return s&&"object"==typeof s?(p=null!==(a=s.bufferSize)&&void 0!==a?a:1/0,r=null!==(d=s.windowTime)&&void 0!==d?d:1/0,y=!!s.refCount,n=s.scheduler):p=null!=s?s:1/0,(0,Bi.B)({connector:()=>new dr(p,r,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:y})}const Bg=(0,P(3888).d)(s=>function(){s(this),this.name="EmptyError",this.message="no elements in sequence"});function ep(s,r){return(0,di.e)((n,a)=>{let d=0;n.subscribe(new Xn.Q(a,p=>s.call(r,p,d++)&&a.next(p)))})}var Ef=P(5698);function z_(s){return(0,di.e)((r,n)=>{let a=!1;r.subscribe(new Xn.Q(n,d=>{a=!0,n.next(d)},()=>{a||n.next(s),n.complete()}))})}function Vg(s=Z_){return(0,di.e)((r,n)=>{let a=!1;r.subscribe(new Xn.Q(n,d=>{a=!0,n.next(d)},()=>a?n.complete():n.error(s())))})}function Z_(){return new Bg}var Y_=P(576);function Ug(s,r){return(0,Y_.m)(r)?Or(()=>s,r):Or(()=>s)}var tp=P(9468);P(259);const ip=new Map,Df={activated:!1,tokenObservers:[]},sp={initialized:!1,enabled:!1};function nr(s){return ip.get(s)||Object.assign({},Df)}function Yu(){return sp}class Jg{constructor(r,n,a,d,p){if(this.operation=r,this.retryPolicy=n,this.getWaitDuration=a,this.lowerBound=d,this.upperBound=p,this.pending=null,this.nextErrorWaitInterval=d,d>p)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(r){var n=this;return(0,fs.Z)(function*(){n.stop();try{n.pending=new R.BH,yield function op(s){return new Promise(r=>{setTimeout(r,s)})}(n.getNextRun(r)),n.pending.resolve(),yield n.pending.promise,n.pending=new R.BH,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(a){n.retryPolicy(a)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(r){if(r)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Gr=new R.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Xg(s){if(!nr(s).activated)throw Gr.create("use-before-activation",{appName:s.name})}function Tf(s,r){return Af.apply(this,arguments)}function Af(){return(Af=(0,fs.Z)(function*({url:s,body:r},n){const a={"Content-Type":"application/json"},d=n.getImmediate({optional:!0});if(d){const G=yield d.getHeartbeatsHeader();G&&(a["X-Firebase-Client"]=G)}const p={method:"POST",body:JSON.stringify(r),headers:a};let y,C;try{y=yield fetch(s,p)}catch(G){throw Gr.create("fetch-network-error",{originalErrorMessage:null==G?void 0:G.message})}if(200!==y.status)throw Gr.create("fetch-status-error",{httpStatus:y.status});try{C=yield y.json()}catch(G){throw Gr.create("fetch-parse-error",{originalErrorMessage:null==G?void 0:G.message})}const M=C.ttl.match(/^([\d.]+)(s)$/);if(!M||!M[2]||isNaN(Number(M[1])))throw Gr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${C.ttl}`});const N=1e3*Number(M[1]),z=Date.now();return{token:C.token,expireTimeMillis:z+N,issuedAtTimeMillis:z}})).apply(this,arguments)}function nm(s,r){const{projectId:n,appId:a,apiKey:d}=s.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${a}:exchangeDebugToken?key=${d}`,body:{debug_token:r}}}const Qu="firebase-app-check-store";let Sf=null;function sm(){return Sf||(Sf=new Promise((s,r)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=a=>{s(a.target.result)},n.onerror=a=>{var d;r(Gr.create("storage-open",{originalErrorMessage:null===(d=a.target.error)||void 0===d?void 0:d.message}))},n.onupgradeneeded=a=>{0===a.oldVersion&&a.target.result.createObjectStore(Qu,{keyPath:"compositeKey"})}}catch(n){r(Gr.create("storage-open",{originalErrorMessage:null==n?void 0:n.message}))}}),Sf)}function ap(){return(ap=(0,fs.Z)(function*(s,r){const a=(yield sm()).transaction(Qu,"readwrite"),p=a.objectStore(Qu).put({compositeKey:s,value:r});return new Promise((y,C)=>{p.onsuccess=M=>{y()},a.onerror=M=>{var N;C(Gr.create("storage-set",{originalErrorMessage:null===(N=M.target.error)||void 0===N?void 0:N.message}))}})})).apply(this,arguments)}const Ju=new nl.Yd("@firebase/app-check");function fp(s,r){return(0,R.hl)()?function ny(s,r){return function lm(s,r){return ap.apply(this,arguments)}(function cp(s){return`${s.options.appId}-${s.name}`}(s),r)}(s,r).catch(n=>{Ju.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function pp(){return Yu().enabled}function ry(){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,fs.Z)(function*(){const s=Yu();if(s.enabled&&s.token)return s.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ao={error:"UNKNOWN_ERROR"};function iy(s){return R.US.encodeString(JSON.stringify(s),!1)}function Rf(s){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,fs.Z)(function*(s,r=!1){const n=s.app;Xg(n);const a=nr(n);let p,d=a.token;if(d&&!ec(d)&&(a.token=void 0,d=void 0),!d){const M=yield a.cachedTokenPromise;M&&(ec(M)?d=M:yield fp(n,void 0))}if(!r&&d&&ec(d))return{token:d.token};let C,y=!1;if(pp()){a.exchangeTokenPromise||(a.exchangeTokenPromise=Tf(nm(n,yield ry()),s.heartbeatServiceProvider).finally(()=>{a.exchangeTokenPromise=void 0}),y=!0);const M=yield a.exchangeTokenPromise;return yield fp(n,M),a.token=M,{token:M.token}}try{a.exchangeTokenPromise||(a.exchangeTokenPromise=a.provider.getToken().finally(()=>{a.exchangeTokenPromise=void 0}),y=!0),d=yield nr(n).exchangeTokenPromise}catch(M){"appCheck/throttled"===M.code?Ju.warn(M.message):Ju.error(M),p=M}return d?p?C=ec(d)?{token:d.token,internalError:p}:hm(p):(C={token:d.token},a.token=d,yield fp(n,d)):C=hm(p),y&&fm(n,C),C})).apply(this,arguments)}function Ei(s,r){const n=nr(s),a=n.tokenObservers.filter(d=>d.next!==r);0===a.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=a}function gp(s){const{app:r}=s,n=nr(r);let a=n.tokenRefresher;a||(a=function dm(s){const{app:r}=s;return new Jg((0,fs.Z)(function*(){let a;if(a=nr(r).token?yield Rf(s,!0):yield Rf(s),a.error)throw a.error;if(a.internalError)throw a.internalError}),()=>!0,()=>{const n=nr(r);if(n.token){let a=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return a=Math.min(a,n.token.expireTimeMillis-3e5),Math.max(0,a-Date.now())}return 0},3e4,96e4)}(s),n.tokenRefresher=a),!a.isRunning()&&n.isTokenAutoRefreshEnabled&&a.start()}function fm(s,r){const n=nr(s).tokenObservers;for(const a of n)try{"EXTERNAL"===a.type&&null!=r.error?a.error(r.error):a.next(r)}catch(d){}}function ec(s){return s.expireTimeMillis-Date.now()>0}function hm(s){return{token:iy(ao),error:s}}class sy{constructor(r,n){this.app=r,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:r}=nr(this.app);for(const n of r)Ei(this.app,n.next);return Promise.resolve()}}const Em="app-check-internal";!function dy(){(0,ei._registerComponent)(new Yn.wA("app-check",s=>function mp(s,r){return new sy(s,r)}(s.getProvider("app").getImmediate(),s.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((s,r,n)=>{s.getProvider(Em).initialize()})),(0,ei._registerComponent)(new Yn.wA(Em,s=>function ud(s){return{getToken:r=>Rf(s,r),addTokenListener:r=>function vi(s,r,n,a){const{app:d}=s,p=nr(d);if(p.tokenObservers=[...p.tokenObservers,{next:n,error:a,type:r}],p.token&&ec(p.token)){const C=p.token;Promise.resolve().then(()=>{n({token:C.token}),gp(s)}).catch(()=>{})}p.cachedTokenPromise.then(()=>gp(s))}(s,"INTERNAL",r),removeTokenListener:r=>Ei(s.app,r)}}(s.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ei.registerVersion)("@firebase/app-check","0.6.0")}();class Tp{constructor(){return(0,Rn.vb)("app-check")}}"undefined"!=typeof window&&window;var wm=P(9260);const Sp=new v.OlP("angularfire2.auth.use-emulator"),La=new v.OlP("angularfire2.auth.settings"),bm=new v.OlP("angularfire2.auth.tenant-id"),Tm=new v.OlP("angularfire2.auth.langugage-code"),Ol=new v.OlP("angularfire2.auth.use-device-language"),Dy=new v.OlP("angularfire.auth.persistence"),Of=(s,r,n,a,d,p,y,C)=>(0,tn.cc)(`${s.name}.auth`,"AngularFireAuth",s.name,()=>{const M=r.runOutsideAngular(()=>s.auth());if(n&&M.useEmulator(...n),a&&(M.tenantId=a),M.languageCode=d,p&&M.useDeviceLanguage(),y)for(const[N,z]of Object.entries(y))M.settings[N]=z;return C&&M.setPersistence(C),M},[n,a,d,p,y,C]);let wy=(()=>{class s{constructor(n,a,d,p,y,C,M,N,z,G,se,Te){const Ve=new su.x,vt=Kn(void 0).pipe((0,Go.Q)(y.outsideAngular),Or(()=>p.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,8852)))),(0,Jr.U)(()=>(0,tn.on)(n,p,a)),(0,Jr.U)($t=>Of($t,p,C,N,z,G,M,se)),Fg({bufferSize:1,refCount:!1}));if(function yo(s){return"server"===s}(d))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Kn(null);else{vt.pipe(function K_(s,r){const n=arguments.length>=2;return a=>a.pipe(s?ep((d,p)=>s(d,p,a)):sa.y,(0,Ef.q)(1),n?z_(r):Vg(()=>new Bg))}()).subscribe();const Ln=vt.pipe(Or(wn=>wn.getRedirectResult().then(Di=>Di,()=>null)),Rn.iC,Fg({bufferSize:1,refCount:!1})),Cn=vt.pipe(Or(wn=>new Mo.y(Di=>({unsubscribe:p.runOutsideAngular(()=>wn.onAuthStateChanged(Cs=>Di.next(Cs),Cs=>Di.error(Cs),()=>Di.complete()))})))),Ii=vt.pipe(Or(wn=>new Mo.y(Di=>({unsubscribe:p.runOutsideAngular(()=>wn.onIdTokenChanged(Cs=>Di.next(Cs),Cs=>Di.error(Cs),()=>Di.complete()))}))));this.authState=Ln.pipe(Ug(Cn),(0,tp.R)(y.outsideAngular),(0,Go.Q)(y.insideAngular)),this.user=Ln.pipe(Ug(Ii),(0,tp.R)(y.outsideAngular),(0,Go.Q)(y.insideAngular)),this.idToken=this.user.pipe(Or(wn=>wn?(0,tl.D)(wn.getIdToken()):Kn(null))),this.idTokenResult=this.user.pipe(Or(wn=>wn?(0,tl.D)(wn.getIdTokenResult()):Kn(null))),this.credential=(0,as.T)(Ln,Ve,this.authState.pipe(ep(wn=>!wn))).pipe((0,Jr.U)(wn=>(null==wn?void 0:wn.user)?wn:null),(0,tp.R)(y.outsideAngular),(0,Go.Q)(y.insideAngular))}return(0,tn.pX)(this,vt,p,{spy:{apply:($t,Ln,Cn)=>{($t.startsWith("signIn")||$t.startsWith("createUser"))&&Cn.then(Ii=>Ve.next(Ii))}}})}}return s.\u0275fac=function(n){return new(n||s)(v.LFG(tn.Dh),v.LFG(tn.xv,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(Rn.HU),v.LFG(Sp,8),v.LFG(La,8),v.LFG(bm,8),v.LFG(Tm,8),v.LFG(Ol,8),v.LFG(Dy,8),v.LFG(Tp,8))},s.\u0275prov=v.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})();function nt(s){return null==s}function Sm(s){return"function"==typeof s.set}function Mm(s,r){return Sm(r)?r:s.ref(r)}function Rm(s,r){if(function Am(s){return"string"==typeof s}(s))return r.stringCase();if(Sm(s))return r.firebaseCase();if(function eE(s){return"function"==typeof s.exportVal}(s))return r.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof s)}function Ba(s,r,n="on",a=ia.z){return new Mo.y(d=>{let p=null;return p=s[n](r,(y,C)=>{a.schedule(()=>{d.next({snapshot:y,prevKey:C})}),"once"===n&&a.schedule(()=>d.complete())},y=>{a.schedule(()=>d.error(y))}),"on"===n?{unsubscribe(){null!=p&&s.off(r,p)}}:{unsubscribe(){}}}).pipe((0,Jr.U)(d=>{const{snapshot:p,prevKey:y}=d;let C=null;return p.exists()&&(C=p.key),{type:r,payload:p,prevKey:y,key:C}}),(0,Bi.B)())}function cd(s,r){const n=s.length;for(let a=0;a<n;a++)if(s[a].payload.key===r)return a;return-1}function xn(s,r){const{payload:n,prevKey:a,key:d}=r,p=cd(s,d),y=function kf(s,r){if(nt(r))return 0;{const n=cd(s,r);return-1===n?s.length:n+1}}(s,a);switch(r.type){case"value":if(r.payload&&r.payload.exists()){let C=null;r.payload.forEach(M=>{const N={payload:M,type:"value",prevKey:C,key:M.key};return C=M.key,s=[...s,N],!1})}return s;case"child_added":if(p>-1){const C=s[p-1];(C&&C.key||null)!==a&&(s=s.filter(M=>M.payload.key!==n.key)).splice(y,0,r)}else{if(null==a)return[r,...s];(s=s.slice()).splice(y,0,r)}return s;case"child_removed":return s.filter(C=>C.payload.key!==n.key);case"child_changed":return s.map(C=>C.payload.key===d?r:C);case"child_moved":if(p>-1){const C=s.splice(p,1)[0];return(s=s.slice()).splice(y,0,C),s}return s;default:return s}}function Ty(s){return(nt(s)||0===s.length)&&(s=["child_added","child_removed","child_changed","child_moved"]),s}function Mp(s,r,n){return function by(s,r,n){return Ba(s,"value","once",n).pipe(Or(a=>{const d=[Kn(a)];return r.forEach(p=>d.push(Ba(s,p,"on",n))),(0,as.T)(...d).pipe(hi(xn,[]))}),function St(s,r=sa.y){return s=null!=s?s:lu,(0,di.e)((n,a)=>{let d,p=!0;n.subscribe(new Xn.Q(a,y=>{const C=r(y);(p||!s(d,C))&&(p=!1,d=C,a.next(y))}))})}())}(s,r=Ty(r),n)}function Pm(s,r,n){const a=(r=Ty(r)).map(d=>Ba(s,d,"on",n));return(0,as.T)(...a)}function Rp(s,r){return function(a,d){return Rm(a,{stringCase:()=>s.child(a)[r](d),firebaseCase:()=>a[r](d),snapshotCase:()=>a.ref[r](d)})}}function Om(s){return function(n){return n?Rm(n,{stringCase:()=>s.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):s.remove()}}function km(s,r){return function(){return Ba(s,"value","on",r)}}const dd=new v.OlP("angularfire2.realtimeDatabaseURL"),Ry=new v.OlP("angularfire2.database.use-emulator");let Fm=(()=>{class s{constructor(n,a,d,p,y,C,M,N,z,G,se,Te,Ve,vt,$t){this.schedulers=C;const Ln=M,Cn=(0,tn.on)(n,y,a);N&&Of(Cn,y,z,se,Te,Ve,G,vt),this.database=(0,tn.cc)(`${Cn.name}.database.${d}`,"AngularFireDatabase",Cn.name,()=>{const Ii=y.runOutsideAngular(()=>Cn.database(d||void 0));return Ln&&Ii.useEmulator(...Ln),Ii},[Ln])}list(n,a){const d=this.schedulers.ngZone.runOutsideAngular(()=>Mm(this.database,n));let p=d;return a&&(p=a(d)),function Sy(s,r){const n=r.schedulers.outsideAngular,a=r.schedulers.ngZone.run(()=>s.ref);return{query:s,update:Rp(a,"update"),set:Rp(a,"set"),push:d=>a.push(d),remove:Om(a),snapshotChanges:d=>Mp(s,d,n).pipe(Rn.iC),stateChanges:d=>Pm(s,d,n).pipe(Rn.iC),auditTrail:d=>function Ay(s,r,n){return function xm(s,r,n){return function Nm(s,r){return Ba(s,"value","on",r).pipe((0,Jr.U)(n=>{let a;return n.payload.forEach(d=>(a=d.key,!1)),{data:n,lastKeyToLoad:a}}))}(s,n).pipe(function Hs(...s){const r=(0,Us.jO)(s);return(0,di.e)((n,a)=>{const d=s.length,p=new Array(d);let y=s.map(()=>!1),C=!1;for(let M=0;M<d;M++)(0,Ja.Xf)(s[M]).subscribe(new Xn.Q(a,N=>{p[M]=N,!C&&!y[M]&&(y[M]=!0,(C=y.every(sa.y))&&(y=null))},js.Z));n.subscribe(new Xn.Q(a,M=>{if(C){const N=[M,...p];a.next(r?r(...N):N)}}))})}(r),(0,Jr.U)(([d,p])=>{const y=d.lastKeyToLoad,C=p.map(M=>M.key);return{actions:p,lastKeyToLoad:y,loadedKeys:C}}),function pi(s){return(0,di.e)((r,n)=>{let a=!1,d=0;r.subscribe(new Xn.Q(n,p=>(a||(a=!s(p,d++)))&&n.next(p)))})}(d=>-1===d.loadedKeys.indexOf(d.lastKeyToLoad)),(0,Jr.U)(d=>d.actions))}(s,Pm(s,r).pipe(hi((d,p)=>[...d,p],[])),n)}(s,d,n).pipe(Rn.iC),valueChanges:(d,p)=>Mp(s,d,n).pipe((0,Jr.U)(C=>C.map(M=>p&&p.idField?Object.assign(Object.assign({},M.payload.val()),{[p.idField]:M.key}):M.payload.val())),Rn.iC)}}(p,this)}object(n){return function My(s,r){return{query:s,snapshotChanges:()=>km(s,r.schedulers.outsideAngular)().pipe(Rn.iC),update:n=>s.ref.update(n),set:n=>s.ref.set(n),remove:()=>s.ref.remove(),valueChanges:()=>km(s,r.schedulers.outsideAngular)().pipe(Rn.iC,(0,Jr.U)(a=>a.payload.exists()?a.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Mm(this.database,n)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return s.\u0275fac=function(n){return new(n||s)(v.LFG(tn.Dh),v.LFG(tn.xv,8),v.LFG(dd,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(Rn.HU),v.LFG(Ry,8),v.LFG(wy,8),v.LFG(Sp,8),v.LFG(La,8),v.LFG(bm,8),v.LFG(Tm,8),v.LFG(Ol,8),v.LFG(Dy,8),v.LFG(Tp,8))},s.\u0275prov=v.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),Py=(()=>{class s{constructor(){wm.Z.registerVersion("angularfire",Rn.q4.full,"rtdb-compat")}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=v.oAB({type:s}),s.\u0275inj=v.cJS({providers:[Fm]}),s})(),fd=(()=>{class s{constructor(n){this.database=n,this.paymentID=""}ngOnInit(){console.log("============= akouendy paymentID ======",this.paymentID),""!==this.paymentID&&this.database.object(this.paymentID).valueChanges().subscribe(n=>{console.log("============= akouendy notification ======",JSON.stringify(n)),null!=n&&void 0!==n.RedirectUrl&&(window.location.href=n.RedirectUrl)})}}return s.\u0275fac=function(n){return new(n||s)(v.Y36(Fm))},s.\u0275cmp=v.Xpm({type:s,selectors:[["app-notification"]],inputs:{paymentID:["payment-id","paymentID"]},decls:0,vars:0,template:function(n,a){},styles:[""]}),s})(),Lm=(()=>{class s{constructor(){this.title="akouendy-pay-webcomponent"}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=v.Xpm({type:s,selectors:[["app-root"]],decls:1,vars:0,consts:[["payment-id","hello"]],template:function(n,a){1&n&&v._UZ(0,"app-notification",0)},directives:[fd],styles:[""]}),s})();const Pp_firebase={projectId:"akouendypay",appId:"1:916117347968:web:b844a70b4a8e45b2b5d065",databaseURL:"https://akouendypay-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"akouendypay.appspot.com",apiKey:"AIzaSyBf5FAj5eZDGnn1VPa33_PBacVZzSMakgg",authDomain:"akouendypay.firebaseapp.com",messagingSenderId:"916117347968",measurementId:"G-HYHT5PY7Q8"};let Bm=(()=>{class s{constructor(n){this.injector=n;const a=function ra(s,r){const n=function gc(s,r){return r.get(v._Vd).resolveComponentFactory(s).inputs}(s,r.injector),a=r.strategyFactory||new na(s,r.injector),d=function el(s){const r={};return s.forEach(({propName:n,templateName:a})=>{r[function Id(s){return s.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`)}(a)]=n}),r}(n);class p extends au{constructor(C){super(),this.injector=C}get ngElementStrategy(){if(!this._ngElementStrategy){const C=this._ngElementStrategy=a.create(this.injector||r.injector);n.forEach(({propName:M})=>{if(!this.hasOwnProperty(M))return;const N=this[M];delete this[M],C.setInputValue(M,N)})}return this._ngElementStrategy}attributeChangedCallback(C,M,N,z){this.ngElementStrategy.setInputValue(d[C],N)}connectedCallback(){let C=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),C=!0),this.ngElementStrategy.connect(this),C||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(C=>{const M=new CustomEvent(C.name,{detail:C.value});this.dispatchEvent(M)})}}return p.observedAttributes=Object.keys(d),n.forEach(({propName:y})=>{Object.defineProperty(p.prototype,y,{get(){return this.ngElementStrategy.getInputValue(y)},set(C){this.ngElementStrategy.setInputValue(y,C)},configurable:!0,enumerable:!0})}),p}(fd,{injector:n});customElements.define("akd-notif-widget",a)}ngDoBootstrap(n){document.querySelector("app-root")&&n.bootstrap(Lm)}}return s.\u0275fac=function(n){return new(n||s)(v.LFG(v.zs3))},s.\u0275mod=v.oAB({type:s}),s.\u0275inj=v.cJS({providers:[],imports:[[wo,tn.hO.initializeApp(Pp_firebase),Py]]}),s})();(0,v.G48)(),Do().bootstrapModule(Bm).catch(s=>console.error(s))},8306:(Ge,he,P)=>{P.d(he,{y:()=>j});var v=P(930),q=P(727),x=P(8822),re=P(4671);var ue=P(2416),ae=P(576),me=P(2806);let j=(()=>{class Me{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const le=new Me;return le.source=this,le.operator=Ne,le}subscribe(Ne,le,ie){const we=function $e(Me){return Me&&Me instanceof v.Lv||function ee(Me){return Me&&(0,ae.m)(Me.next)&&(0,ae.m)(Me.error)&&(0,ae.m)(Me.complete)}(Me)&&(0,q.Nn)(Me)}(Ne)?Ne:new v.Hp(Ne,le,ie);return(0,me.x)(()=>{const{operator:Pe,source:Se}=this;we.add(Pe?Pe.call(we,Se):Se?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(le){Ne.error(le)}}forEach(Ne,le){return new(le=H(le))((ie,we)=>{let Pe;Pe=this.subscribe(Se=>{try{Ne(Se)}catch(Ue){we(Ue),null==Pe||Pe.unsubscribe()}},we,ie)})}_subscribe(Ne){var le;return null===(le=this.source)||void 0===le?void 0:le.subscribe(Ne)}[x.L](){return this}pipe(...Ne){return function ce(Me){return 0===Me.length?re.y:1===Me.length?Me[0]:function(Ne){return Me.reduce((le,ie)=>ie(le),Ne)}}(Ne)(this)}toPromise(Ne){return new(Ne=H(Ne))((le,ie)=>{let we;this.subscribe(Pe=>we=Pe,Pe=>ie(Pe),()=>le(we))})}}return Me.create=Ae=>new Me(Ae),Me})();function H(Me){var Ae;return null!==(Ae=null!=Me?Me:ue.v.Promise)&&void 0!==Ae?Ae:Promise}},7579:(Ge,he,P)=>{P.d(he,{x:()=>ue});var v=P(8306),q=P(727);const re=(0,P(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=P(8737),ce=P(2806);let ue=(()=>{class me extends v.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const ee=new ae(this,this);return ee.operator=H,ee}_throwIfClosed(){if(this.closed)throw new re}next(H){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const ee=this.observers.slice();for(const $e of ee)$e.next(H)}})}error(H){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:ee}=this;for(;ee.length;)ee.shift().error(H)}})}complete(){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:ee,isStopped:$e,observers:Me}=this;return ee||$e?q.Lc:(Me.push(H),new q.w0(()=>(0,ne.P)(Me,H)))}_checkFinalizedStatuses(H){const{hasError:ee,thrownError:$e,isStopped:Me}=this;ee?H.error($e):Me&&H.complete()}asObservable(){const H=new v.y;return H.source=this,H}}return me.create=(j,H)=>new ae(j,H),me})();class ae extends ue{constructor(j,H){super(),this.destination=j,this.source=H}next(j){var H,ee;null===(ee=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===ee||ee.call(H,j)}error(j){var H,ee;null===(ee=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===ee||ee.call(H,j)}complete(){var j,H;null===(H=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===H||H.call(j)}_subscribe(j){var H,ee;return null!==(ee=null===(H=this.source)||void 0===H?void 0:H.subscribe(j))&&void 0!==ee?ee:q.Lc}}},930:(Ge,he,P)=>{P.d(he,{Hp:()=>$e,Lv:()=>ee});var v=P(576),q=P(727),x=P(2416),re=P(7849),ne=P(5032);const ce=me("C",void 0,void 0);function me(ie,we,Pe){return{kind:ie,value:we,error:Pe}}var j=P(3410),H=P(2806);class ee extends q.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,q.Nn)(we)&&we.add(this)):this.destination=le}static create(we,Pe,Se){return new $e(we,Pe,Se)}next(we){this.isStopped?Ne(function ae(ie){return me("N",ie,void 0)}(we),this):this._next(we)}error(we){this.isStopped?Ne(function ue(ie){return me("E",void 0,ie)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?Ne(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class $e extends ee{constructor(we,Pe,Se){let Ue;if(super(),(0,v.m)(we))Ue=we;else if(we){let Ie;({next:Ue,error:Pe,complete:Se}=we),this&&x.v.useDeprecatedNextContext?(Ie=Object.create(we),Ie.unsubscribe=()=>this.unsubscribe()):Ie=we,Ue=null==Ue?void 0:Ue.bind(Ie),Pe=null==Pe?void 0:Pe.bind(Ie),Se=null==Se?void 0:Se.bind(Ie)}this.destination={next:Ue?Me(Ue):ne.Z,error:Me(null!=Pe?Pe:Ae),complete:Se?Me(Se):ne.Z}}}function Me(ie,we){return(...Pe)=>{try{ie(...Pe)}catch(Se){x.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Se):(0,re.h)(Se)}}}function Ae(ie){throw ie}function Ne(ie,we){const{onStoppedNotification:Pe}=x.v;Pe&&j.z.setTimeout(()=>Pe(ie,we))}const le={closed:!0,next:ne.Z,error:Ae,complete:ne.Z}},727:(Ge,he,P)=>{P.d(he,{Lc:()=>ce,w0:()=>ne,Nn:()=>ue});var v=P(576);const x=(0,P(3888).d)(me=>function(H){me(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((ee,$e)=>`${$e+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var re=P(8737);class ne{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Me of H)Me.remove(this);else H.remove(this);const{initialTeardown:ee}=this;if((0,v.m)(ee))try{ee()}catch(Me){j=Me instanceof x?Me.errors:[Me]}const{_teardowns:$e}=this;if($e){this._teardowns=null;for(const Me of $e)try{ae(Me)}catch(Ae){j=null!=j?j:[],Ae instanceof x?j=[...j,...Ae.errors]:j.push(Ae)}}if(j)throw new x(j)}}add(j){var H;if(j&&j!==this)if(this.closed)ae(j);else{if(j instanceof ne){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._teardowns=null!==(H=this._teardowns)&&void 0!==H?H:[]).push(j)}}_hasParent(j){const{_parentage:H}=this;return H===j||Array.isArray(H)&&H.includes(j)}_addParent(j){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(j),H):H?[H,j]:j}_removeParent(j){const{_parentage:H}=this;H===j?this._parentage=null:Array.isArray(H)&&(0,re.P)(H,j)}remove(j){const{_teardowns:H}=this;H&&(0,re.P)(H,j),j instanceof ne&&j._removeParent(this)}}ne.EMPTY=(()=>{const me=new ne;return me.closed=!0,me})();const ce=ne.EMPTY;function ue(me){return me instanceof ne||me&&"closed"in me&&(0,v.m)(me.remove)&&(0,v.m)(me.add)&&(0,v.m)(me.unsubscribe)}function ae(me){(0,v.m)(me)?me():me.unsubscribe()}},2416:(Ge,he,P)=>{P.d(he,{v:()=>v});const v={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ge,he,P)=>{P.d(he,{E:()=>q});const q=new(P(8306).y)(ne=>ne.complete())},8996:(Ge,he,P)=>{P.d(he,{D:()=>Ue});var v=P(8421),q=P(5363),x=P(9468),ce=P(8306),ae=P(2202),me=P(576),j=P(9672);function ee(Ie,Ze){if(!Ie)throw new Error("Iterable cannot be null");return new ce.y(je=>{(0,j.f)(je,Ze,()=>{const ge=Ie[Symbol.asyncIterator]();(0,j.f)(je,Ze,()=>{ge.next().then(V=>{V.done?je.complete():je.next(V.value)})},0,!0)})})}var $e=P(3670),Me=P(8239),Ae=P(1144),Ne=P(6495),le=P(2206),ie=P(4532),we=P(3260);function Ue(Ie,Ze){return Ze?function Se(Ie,Ze){if(null!=Ie){if((0,$e.c)(Ie))return function re(Ie,Ze){return(0,v.Xf)(Ie).pipe((0,x.R)(Ze),(0,q.Q)(Ze))}(Ie,Ze);if((0,Ae.z)(Ie))return function ue(Ie,Ze){return new ce.y(je=>{let ge=0;return Ze.schedule(function(){ge===Ie.length?je.complete():(je.next(Ie[ge++]),je.closed||this.schedule())})})}(Ie,Ze);if((0,Me.t)(Ie))return function ne(Ie,Ze){return(0,v.Xf)(Ie).pipe((0,x.R)(Ze),(0,q.Q)(Ze))}(Ie,Ze);if((0,le.D)(Ie))return ee(Ie,Ze);if((0,Ne.T)(Ie))return function H(Ie,Ze){return new ce.y(je=>{let ge;return(0,j.f)(je,Ze,()=>{ge=Ie[ae.h](),(0,j.f)(je,Ze,()=>{let V,K;try{({value:V,done:K}=ge.next())}catch(te){return void je.error(te)}K?je.complete():je.next(V)},0,!0)}),()=>(0,me.m)(null==ge?void 0:ge.return)&&ge.return()})}(Ie,Ze);if((0,we.L)(Ie))return function Pe(Ie,Ze){return ee((0,we.Q)(Ie),Ze)}(Ie,Ze)}throw(0,ie.z)(Ie)}(Ie,Ze):(0,v.Xf)(Ie)}},8421:(Ge,he,P)=>{P.d(he,{Xf:()=>$e});var v=P(5987),q=P(1144),x=P(8239),re=P(8306),ne=P(3670),ce=P(2206),ue=P(4532),ae=P(6495),me=P(3260),j=P(576),H=P(7849),ee=P(8822);function $e(Se){if(Se instanceof re.y)return Se;if(null!=Se){if((0,ne.c)(Se))return function Me(Se){return new re.y(Ue=>{const Ie=Se[ee.L]();if((0,j.m)(Ie.subscribe))return Ie.subscribe(Ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,q.z)(Se))return function Ae(Se){return new re.y(Ue=>{for(let Ie=0;Ie<Se.length&&!Ue.closed;Ie++)Ue.next(Se[Ie]);Ue.complete()})}(Se);if((0,x.t)(Se))return function Ne(Se){return new re.y(Ue=>{Se.then(Ie=>{Ue.closed||(Ue.next(Ie),Ue.complete())},Ie=>Ue.error(Ie)).then(null,H.h)})}(Se);if((0,ce.D)(Se))return ie(Se);if((0,ae.T)(Se))return function le(Se){return new re.y(Ue=>{for(const Ie of Se)if(Ue.next(Ie),Ue.closed)return;Ue.complete()})}(Se);if((0,me.L)(Se))return function we(Se){return ie((0,me.Q)(Se))}(Se)}throw(0,ue.z)(Se)}function ie(Se){return new re.y(Ue=>{(function Pe(Se,Ue){var Ie,Ze,je,ge;return(0,v.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,v.KL)(Se);!(Ze=yield Ie.next()).done;)if(Ue.next(Ze.value),Ue.closed)return}catch(V){je={error:V}}finally{try{Ze&&!Ze.done&&(ge=Ie.return)&&(yield ge.call(Ie))}finally{if(je)throw je.error}}Ue.complete()})})(Se,Ue).catch(Ie=>Ue.error(Ie))})}},831:(Ge,he,P)=>{P.d(he,{T:()=>Me});var v=P(4004),q=P(8421),x=P(4482),re=P(9672),ne=P(5403),ue=P(576);function ae(Ae,Ne,le=1/0){return(0,ue.m)(Ne)?ae((ie,we)=>(0,v.U)((Pe,Se)=>Ne(ie,Pe,we,Se))((0,q.Xf)(Ae(ie,we))),le):("number"==typeof Ne&&(le=Ne),(0,x.e)((ie,we)=>function ce(Ae,Ne,le,ie,we,Pe,Se,Ue){const Ie=[];let Ze=0,je=0,ge=!1;const V=()=>{ge&&!Ie.length&&!Ze&&Ne.complete()},K=oe=>Ze<ie?te(oe):Ie.push(oe),te=oe=>{Pe&&Ne.next(oe),Ze++;let De=!1;(0,q.Xf)(le(oe,je++)).subscribe(new ne.Q(Ne,J=>{null==we||we(J),Pe?K(J):Ne.next(J)},()=>{De=!0},void 0,()=>{if(De)try{for(Ze--;Ie.length&&Ze<ie;){const J=Ie.shift();Se?(0,re.f)(Ne,Se,()=>te(J)):te(J)}V()}catch(J){Ne.error(J)}}))};return Ae.subscribe(new ne.Q(Ne,K,()=>{ge=!0,V()})),()=>{null==Ue||Ue()}}(ie,we,Ae,le)))}var me=P(4671),H=P(515),ee=P(7669),$e=P(8996);function Me(...Ae){const Ne=(0,ee.yG)(Ae),le=(0,ee._6)(Ae,1/0),ie=Ae;return ie.length?1===ie.length?(0,q.Xf)(ie[0]):function j(Ae=1/0){return ae(me.y,Ae)}(le)((0,$e.D)(ie,Ne)):H.E}},5403:(Ge,he,P)=>{P.d(he,{Q:()=>q});var v=P(930);class q extends v.Lv{constructor(re,ne,ce,ue,ae){super(re),this.onFinalize=ae,this._next=ne?function(me){try{ne(me)}catch(j){re.error(j)}}:super._next,this._error=ue?function(me){try{ue(me)}catch(j){re.error(j)}finally{this.unsubscribe()}}:super._error,this._complete=ce?function(){try{ce()}catch(me){re.error(me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;const{closed:ne}=this;super.unsubscribe(),!ne&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}},4004:(Ge,he,P)=>{P.d(he,{U:()=>x});var v=P(4482),q=P(5403);function x(re,ne){return(0,v.e)((ce,ue)=>{let ae=0;ce.subscribe(new q.Q(ue,me=>{ue.next(re.call(ne,me,ae++))}))})}},5363:(Ge,he,P)=>{P.d(he,{Q:()=>re});var v=P(9672),q=P(4482),x=P(5403);function re(ne,ce=0){return(0,q.e)((ue,ae)=>{ue.subscribe(new x.Q(ae,me=>(0,v.f)(ae,ne,()=>ae.next(me),ce),()=>(0,v.f)(ae,ne,()=>ae.complete(),ce),me=>(0,v.f)(ae,ne,()=>ae.error(me),ce)))})}},3099:(Ge,he,P)=>{P.d(he,{B:()=>ce});var v=P(8996),q=P(5698),x=P(7579),re=P(930),ne=P(4482);function ce(ae={}){const{connector:me=(()=>new x.x),resetOnError:j=!0,resetOnComplete:H=!0,resetOnRefCountZero:ee=!0}=ae;return $e=>{let Me=null,Ae=null,Ne=null,le=0,ie=!1,we=!1;const Pe=()=>{null==Ae||Ae.unsubscribe(),Ae=null},Se=()=>{Pe(),Me=Ne=null,ie=we=!1},Ue=()=>{const Ie=Me;Se(),null==Ie||Ie.unsubscribe()};return(0,ne.e)((Ie,Ze)=>{le++,!we&&!ie&&Pe();const je=Ne=null!=Ne?Ne:me();Ze.add(()=>{le--,0===le&&!we&&!ie&&(Ae=ue(Ue,ee))}),je.subscribe(Ze),Me||(Me=new re.Hp({next:ge=>je.next(ge),error:ge=>{we=!0,Pe(),Ae=ue(Se,j,ge),je.error(ge)},complete:()=>{ie=!0,Pe(),Ae=ue(Se,H),je.complete()}}),(0,v.D)(Ie).subscribe(Me))})($e)}}function ue(ae,me,...j){return!0===me?(ae(),null):!1===me?null:me(...j).pipe((0,q.q)(1)).subscribe(()=>ae())}},9468:(Ge,he,P)=>{P.d(he,{R:()=>q});var v=P(4482);function q(x,re=0){return(0,v.e)((ne,ce)=>{ce.add(x.schedule(()=>ne.subscribe(ce),re))})}},5698:(Ge,he,P)=>{P.d(he,{q:()=>re});var v=P(515),q=P(4482),x=P(5403);function re(ne){return ne<=0?()=>v.E:(0,q.e)((ce,ue)=>{let ae=0;ce.subscribe(new x.Q(ue,me=>{++ae<=ne&&(ue.next(me),ne<=ae&&ue.complete())}))})}},4408:(Ge,he,P)=>{P.d(he,{o:()=>ne});var v=P(727);class q extends v.w0{constructor(ue,ae){super()}schedule(ue,ae=0){return this}}const x={setInterval(...ce){const{delegate:ue}=x;return((null==ue?void 0:ue.setInterval)||setInterval)(...ce)},clearInterval(ce){const{delegate:ue}=x;return((null==ue?void 0:ue.clearInterval)||clearInterval)(ce)},delegate:void 0};var re=P(8737);class ne extends q{constructor(ue,ae){super(ue,ae),this.scheduler=ue,this.work=ae,this.pending=!1}schedule(ue,ae=0){if(this.closed)return this;this.state=ue;const me=this.id,j=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(j,me,ae)),this.pending=!0,this.delay=ae,this.id=this.id||this.requestAsyncId(j,this.id,ae),this}requestAsyncId(ue,ae,me=0){return x.setInterval(ue.flush.bind(ue,this),me)}recycleAsyncId(ue,ae,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return ae;x.clearInterval(ae)}execute(ue,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(ue,ae);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,ae){let j,me=!1;try{this.work(ue)}catch(H){me=!0,j=H||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:ue,scheduler:ae}=this,{actions:me}=ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(me,this),null!=ue&&(this.id=this.recycleAsyncId(ae,ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ge,he,P)=>{P.d(he,{v:()=>x});var v=P(6063);class q{constructor(ne,ce=q.now){this.schedulerActionCtor=ne,this.now=ce}schedule(ne,ce=0,ue){return new this.schedulerActionCtor(this,ne).schedule(ue,ce)}}q.now=v.l.now;class x extends q{constructor(ne,ce=q.now){super(ne,ce),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ne){const{actions:ce}=this;if(this._active)return void ce.push(ne);let ue;this._active=!0;do{if(ue=ne.execute(ne.state,ne.delay))break}while(ne=ce.shift());if(this._active=!1,ue){for(;ne=ce.shift();)ne.unsubscribe();throw ue}}}},4986:(Ge,he,P)=>{P.d(he,{z:()=>x});var v=P(4408);const x=new(P(7565).v)(v.o)},6063:(Ge,he,P)=>{P.d(he,{l:()=>v});const v={now:()=>(v.delegate||Date).now(),delegate:void 0}},3410:(Ge,he,P)=>{P.d(he,{z:()=>v});const v={setTimeout(...q){const{delegate:x}=v;return((null==x?void 0:x.setTimeout)||setTimeout)(...q)},clearTimeout(q){const{delegate:x}=v;return((null==x?void 0:x.clearTimeout)||clearTimeout)(q)},delegate:void 0}},2202:(Ge,he,P)=>{P.d(he,{h:()=>q});const q=function v(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ge,he,P)=>{P.d(he,{L:()=>v});const v="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Ge,he,P)=>{P.d(he,{_6:()=>ce,jO:()=>re,yG:()=>ne});var v=P(576);function x(ue){return ue[ue.length-1]}function re(ue){return(0,v.m)(x(ue))?ue.pop():void 0}function ne(ue){return function q(ue){return ue&&(0,v.m)(ue.schedule)}(x(ue))?ue.pop():void 0}function ce(ue,ae){return"number"==typeof x(ue)?ue.pop():ae}},8737:(Ge,he,P)=>{function v(q,x){if(q){const re=q.indexOf(x);0<=re&&q.splice(re,1)}}P.d(he,{P:()=>v})},3888:(Ge,he,P)=>{function v(q){const re=q(ne=>{Error.call(ne),ne.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}P.d(he,{d:()=>v})},2806:(Ge,he,P)=>{P.d(he,{O:()=>re,x:()=>x});var v=P(2416);let q=null;function x(ne){if(v.v.useDeprecatedSynchronousErrorHandling){const ce=!q;if(ce&&(q={errorThrown:!1,error:null}),ne(),ce){const{errorThrown:ue,error:ae}=q;if(q=null,ue)throw ae}}else ne()}function re(ne){v.v.useDeprecatedSynchronousErrorHandling&&q&&(q.errorThrown=!0,q.error=ne)}},9672:(Ge,he,P)=>{function v(q,x,re,ne=0,ce=!1){const ue=x.schedule(function(){re(),ce?q.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(q.add(ue),!ce)return ue}P.d(he,{f:()=>v})},4671:(Ge,he,P)=>{function v(q){return q}P.d(he,{y:()=>v})},1144:(Ge,he,P)=>{P.d(he,{z:()=>v});const v=q=>q&&"number"==typeof q.length&&"function"!=typeof q},2206:(Ge,he,P)=>{P.d(he,{D:()=>q});var v=P(576);function q(x){return Symbol.asyncIterator&&(0,v.m)(null==x?void 0:x[Symbol.asyncIterator])}},576:(Ge,he,P)=>{function v(q){return"function"==typeof q}P.d(he,{m:()=>v})},3670:(Ge,he,P)=>{P.d(he,{c:()=>x});var v=P(8822),q=P(576);function x(re){return(0,q.m)(re[v.L])}},6495:(Ge,he,P)=>{P.d(he,{T:()=>x});var v=P(2202),q=P(576);function x(re){return(0,q.m)(null==re?void 0:re[v.h])}},8239:(Ge,he,P)=>{P.d(he,{t:()=>q});var v=P(576);function q(x){return(0,v.m)(null==x?void 0:x.then)}},3260:(Ge,he,P)=>{P.d(he,{L:()=>re,Q:()=>x});var v=P(5987),q=P(576);function x(ne){return(0,v.FC)(this,arguments,function*(){const ue=ne.getReader();try{for(;;){const{value:ae,done:me}=yield(0,v.qq)(ue.read());if(me)return yield(0,v.qq)(void 0);yield yield(0,v.qq)(ae)}}finally{ue.releaseLock()}})}function re(ne){return(0,q.m)(null==ne?void 0:ne.getReader)}},4482:(Ge,he,P)=>{P.d(he,{e:()=>x});var v=P(576);function x(re){return ne=>{if(function q(re){return(0,v.m)(null==re?void 0:re.lift)}(ne))return ne.lift(function(ce){try{return re(ce,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Ge,he,P)=>{function v(){}P.d(he,{Z:()=>v})},7849:(Ge,he,P)=>{P.d(he,{h:()=>x});var v=P(2416),q=P(3410);function x(re){q.z.setTimeout(()=>{const{onUnhandledError:ne}=v.v;if(!ne)throw re;ne(re)})}},4532:(Ge,he,P)=>{function v(q){return new TypeError(`You provided ${null!==q&&"object"==typeof q?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(he,{z:()=>v})},5987:(Ge,he,P)=>{function ae(V,K,te,oe){return new(te||(te=Promise))(function(J,it){function It(at){try{ze(oe.next(at))}catch(rn){it(rn)}}function hn(at){try{ze(oe.throw(at))}catch(rn){it(rn)}}function ze(at){at.done?J(at.value):function De(J){return J instanceof te?J:new te(function(it){it(J)})}(at.value).then(It,hn)}ze((oe=oe.apply(V,K||[])).next())})}function le(V){return this instanceof le?(this.v=V,this):new le(V)}function ie(V,K,te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,oe=te.apply(V,K||[]),J=[];return De={},it("next"),it("throw"),it("return"),De[Symbol.asyncIterator]=function(){return this},De;function it(At){oe[At]&&(De[At]=function(bn){return new Promise(function(Ut,pr){J.push([At,bn,Ut,pr])>1||It(At,bn)})})}function It(At,bn){try{!function hn(At){At.value instanceof le?Promise.resolve(At.value.v).then(ze,at):rn(J[0][2],At)}(oe[At](bn))}catch(Ut){rn(J[0][3],Ut)}}function ze(At){It("next",At)}function at(At){It("throw",At)}function rn(At,bn){At(bn),J.shift(),J.length&&It(J[0][0],J[0][1])}}function Pe(V){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,K=V[Symbol.asyncIterator];return K?K.call(V):(V=function ee(V){var K="function"==typeof Symbol&&Symbol.iterator,te=K&&V[K],oe=0;if(te)return te.call(V);if(V&&"number"==typeof V.length)return{next:function(){return V&&oe>=V.length&&(V=void 0),{value:V&&V[oe++],done:!V}}};throw new TypeError(K?"Object is not iterable.":"Symbol.iterator is not defined.")}(V),te={},oe("next"),oe("throw"),oe("return"),te[Symbol.asyncIterator]=function(){return this},te);function oe(J){te[J]=V[J]&&function(it){return new Promise(function(It,hn){!function De(J,it,It,hn){Promise.resolve(hn).then(function(ze){J({value:ze,done:It})},it)}(It,hn,(it=V[J](it)).done,it.value)})}}}P.d(he,{FC:()=>ie,KL:()=>Pe,mG:()=>ae,qq:()=>le})},5e3:(Ge,he,P)=>{P.d(he,{$8M:()=>Hs,AFp:()=>JE,AaK:()=>ae,CZH:()=>ev,EJc:()=>bD,F4k:()=>wf,FYo:()=>pE,FiY:()=>Oe,G48:()=>zD,GfV:()=>gE,JOm:()=>Ui,LFG:()=>Pn,Lbi:()=>DD,OlP:()=>R,QGY:()=>Yu,Qsj:()=>dI,R0b:()=>zo,RDi:()=>Yl,Rgc:()=>Fp,SBq:()=>Np,TTD:()=>_o,VLi:()=>FD,WD2:()=>mo,X6Q:()=>GD,Xpm:()=>yt,Y36:()=>ld,Yjl:()=>Bt,Yz7:()=>Ut,ZZ4:()=>pv,_UZ:()=>Zg,_Vd:()=>Vm,_c5:()=>lw,aQg:()=>gv,cJS:()=>Gn,cg1:()=>Of,dDg:()=>r0,dqk:()=>Ct,eFA:()=>a0,g9A:()=>e0,h0i:()=>Bf,hGG:()=>uw,ifc:()=>xt,ip1:()=>QE,kL8:()=>Cy,lG2:()=>ut,oAB:()=>fe,q4F:()=>mE,qLn:()=>Js,sBO:()=>ZD,sIi:()=>od,s_b:()=>Hm,soG:()=>nv,vHH:()=>Ae,wAp:()=>nt,z2F:()=>lv,zSh:()=>uf,zs3:()=>so});var v=P(7579),q=P(727),x=P(8306),re=P(831),ne=P(3099);function ce(e){for(let t in e)if(e[t]===ce)return t;throw Error("Could not find renamed property on target object.")}function ae(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ae).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const i=t.indexOf("\n");return-1===i?t:t.substring(0,i)}function me(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const j=ce({__forward_ref__:ce});function H(e){return e.__forward_ref__=H,e.toString=function(){return ae(this())},e}function ee(e){return function $e(e){return"function"==typeof e&&e.hasOwnProperty(j)&&e.__forward_ref__===H}(e)?e():e}class Ae extends Error{constructor(t,i){super(function Ne(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,i)),this.code=t}}function ie(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function le(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function Ue(e,t){const i=t?` in ${t}`:"";throw new Ae(-201,`No provider for ${ie(e)} found${i}`)}function ze(e,t){null==e&&function at(e,t,i,o){throw new Error(`ASSERTION ERROR: ${e}`+(null==o?"":` [Expected=> ${i} ${o} ${t} <=Actual]`))}(t,e,null,"!=")}function Ut(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Gn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Tn(e){return gr(e,ri)||gr(e,zn)}function gr(e,t){return e.hasOwnProperty(t)?e[t]:null}function ln(e){return e&&(e.hasOwnProperty(rr)||e.hasOwnProperty(Ce))?e[rr]:null}const ri=ce({\u0275prov:ce}),rr=ce({\u0275inj:ce}),zn=ce({ngInjectableDef:ce}),Ce=ce({ngInjectorDef:ce});var Xe=(()=>((Xe=Xe||{})[Xe.Default=0]="Default",Xe[Xe.Host=1]="Host",Xe[Xe.Self=2]="Self",Xe[Xe.SkipSelf=4]="SkipSelf",Xe[Xe.Optional=8]="Optional",Xe))();let un;function jt(e){const t=un;return un=e,t}function Ci(e,t,i){const o=Tn(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:i&Xe.Optional?null:void 0!==t?t:void Ue(ae(e),"Injector")}function An(e){return{toString:e}.toString()}var on=(()=>((on=on||{})[on.OnPush=0]="OnPush",on[on.Default=1]="Default",on))(),xt=(()=>{return(e=xt||(xt={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",xt;var e})();const Qe="undefined"!=typeof globalThis&&globalThis,tt="undefined"!=typeof window&&window,Ti="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ct=Qe||"undefined"!=typeof global&&global||tt||Ti,or={},et=[],ii=ce({\u0275cmp:ce}),lt=ce({\u0275dir:ce}),Ar=ce({\u0275pipe:ce}),He=ce({\u0275mod:ce}),pe=ce({\u0275fac:ce}),xe=ce({__NG_ELEMENT_ID__:ce});let _t=0;function yt(e){return An(()=>{const i={},o={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===on.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||et,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||xt.Emulated,id:"c",styles:e.styles||et,_:null,setInput:null,schemas:e.schemas||null,tView:null},l=e.directives,f=e.features,m=e.pipes;return o.id+=_t++,o.inputs=Ke(e.inputs,i),o.outputs=Ke(e.outputs),f&&f.forEach(_=>_(o)),o.directiveDefs=l?()=>("function"==typeof l?l():l).map(B):null,o.pipeDefs=m?()=>("function"==typeof m?m():m).map(L):null,o})}function B(e){return Tt(e)||function Jt(e){return e[lt]||null}(e)}function L(e){return function Kt(e){return e[Ar]||null}(e)}const $={};function fe(e){return An(()=>{const t={type:e.type,bootstrap:e.bootstrap||et,declarations:e.declarations||et,imports:e.imports||et,exports:e.exports||et,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&($[e.id]=e.type),t})}function Ke(e,t){if(null==e)return or;const i={};for(const o in e)if(e.hasOwnProperty(o)){let l=e[o],f=l;Array.isArray(l)&&(f=l[1],l=l[0]),i[l]=o,t&&(t[l]=f)}return i}const ut=yt;function Bt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Tt(e){return e[ii]||null}function st(e,t){const i=e[He]||null;if(!i&&!0===t)throw new Error(`Type ${ae(e)} does not have '\u0275mod' property.`);return i}function yr(e){return Array.isArray(e)&&"object"==typeof e[1]}function Zr(e){return Array.isArray(e)&&!0===e[1]}function Va(e){return 0!=(8&e.flags)}function Ll(e){return 2==(2&e.flags)}function Ht(e){return null!==e.template}function Bl(e){return 0!=(512&e[2])}function ns(e,t){return e.hasOwnProperty(pe)?e[pe]:null}class mo{constructor(t,i,o){this.previousValue=t,this.currentValue=i,this.firstChange=o}isFirstChange(){return this.firstChange}}function _o(){return rs}function rs(e){return e.type.prototype.ngOnChanges&&(e.setInput=Gl),oc}function oc(){const e=Kr(this),t=null==e?void 0:e.current;if(t){const i=e.previous;if(i===or)e.previous=t;else for(let o in t)i[o]=t[o];e.current=null,this.ngOnChanges(t)}}function Gl(e,t,i,o){const l=Kr(e)||function Ri(e,t){return e[Ms]=t}(e,{previous:or,current:null}),f=l.current||(l.current={}),m=l.previous,_=this.declaredInputs[i],E=m[_];f[_]=new mo(E&&E.currentValue,t,m===or),e[o]=t}_o.ngInherit=!0;const Ms="__ngSimpleChanges__";function Kr(e){return e[Ms]||null}let Kl;function Yl(e){Kl=e}function en(e){return!!e.listen}const $a={createRenderer:(e,t)=>function Rr(){return void 0!==Kl?Kl:"undefined"!=typeof document?document:void 0}()};function qt(e){for(;Array.isArray(e);)e=e[0];return e}function gn(e,t){return qt(t[e.index])}function Zn(e,t){const i=t[e];return yr(i)?i:i[0]}function Pi(e){return 128==(128&e[2])}function vr(e,t){return null==t?null:e[t]}function ui(e){e[18]=0}function Ni(e,t){e[5]+=t;let i=e,o=e[3];for(;null!==o&&(1===t&&1===i[5]||-1===t&&0===i[5]);)o[5]+=t,i=o,o=o[3]}const Je={lFrame:Ya(null),bindingsEnabled:!0};function Eo(){return Je.bindingsEnabled}function ve(){return Je.lFrame.lView}function Dt(){return Je.lFrame.tView}function Qt(){let e=Ga();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ga(){return Je.lFrame.currentTNode}function xr(e,t){const i=Je.lFrame;i.currentTNode=e,i.isParent=t}function Io(){return Je.lFrame.isParent}function Do(e,t){const i=Je.lFrame;i.bindingIndex=i.bindingRootIndex=e,wo(t)}function wo(e){Je.lFrame.currentDirectiveIndex=e}function Jl(e){Je.lFrame.currentQueryIndex=e}function Jo(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Xo(e,t,i){if(i&Xe.SkipSelf){let l=t,f=e;for(;!(l=l.parent,null!==l||i&Xe.Host||(l=Jo(f),null===l||(f=f[15],10&l.type))););if(null===l)return!1;t=l,e=f}const o=Je.lFrame=Xl();return o.currentTNode=t,o.lView=e,!0}function ss(e){const t=Xl(),i=e[1];Je.lFrame=t,t.currentTNode=i.firstChild,t.lView=e,t.tView=i,t.contextLView=e,t.bindingIndex=i.bindingStartIndex,t.inI18n=!1}function Xl(){const e=Je.lFrame,t=null===e?null:e.child;return null===t?Ya(e):t}function Ya(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function cc(){const e=Je.lFrame;return Je.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Bs=cc;function cr(){const e=cc();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ki(e){Je.lFrame.selectedIndex=e}function qa(e,t){for(let i=t.directiveStart,o=t.directiveEnd;i<o;i++){const f=e.data[i].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:_,ngAfterViewInit:E,ngAfterViewChecked:b,ngOnDestroy:S}=f;m&&(e.contentHooks||(e.contentHooks=[])).push(-i,m),_&&((e.contentHooks||(e.contentHooks=[])).push(i,_),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(i,_)),E&&(e.viewHooks||(e.viewHooks=[])).push(-i,E),b&&((e.viewHooks||(e.viewHooks=[])).push(i,b),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(i,b)),null!=S&&(e.destroyHooks||(e.destroyHooks=[])).push(i,S)}}function To(e,t,i){nu(e,t,3,i)}function Ao(e,t,i,o){(3&e[2])===i&&nu(e,t,i,o)}function vn(e,t){let i=e[2];(3&i)===t&&(i&=2047,i+=1,e[2]=i)}function nu(e,t,i,o){const f=null!=o?o:-1,m=t.length-1;let _=0;for(let E=void 0!==o?65535&e[18]:0;E<m;E++)if("number"==typeof t[E+1]){if(_=t[E],null!=o&&_>=o)break}else t[E]<0&&(e[18]+=65536),(_<f||-1==f)&&(ru(e,i,t,E),e[18]=(4294901760&e[18])+E+2),E++}function ru(e,t,i,o){const l=i[o]<0,f=i[o+1],_=e[l?-i[o]:i[o]];if(l){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{f.call(_)}finally{}}}else try{f.call(_)}finally{}}class ea{constructor(t,i,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=o}}function as(e,t,i){const o=en(e);let l=0;for(;l<i.length;){const f=i[l];if("number"==typeof f){if(0!==f)break;l++;const m=i[l++],_=i[l++],E=i[l++];o?e.setAttribute(t,_,E,m):t.setAttributeNS(m,_,E)}else{const m=f,_=i[++l];di(m)?o&&e.setProperty(t,m,_):o?e.setAttribute(t,m,_):t.setAttribute(m,_),l++}}return l}function Ja(e){return 3===e||4===e||6===e}function di(e){return 64===e.charCodeAt(0)}function Xn(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let i=-1;for(let o=0;o<t.length;o++){const l=t[o];"number"==typeof l?i=l:0===i||Or(e,i,l,null,-1===i||2===i?t[++o]:null)}}return e}function Or(e,t,i,o,l){let f=0,m=e.length;if(-1===t)m=-1;else for(;f<e.length;){const _=e[f++];if("number"==typeof _){if(_===t){m=-1;break}if(_>t){m=f-1;break}}}for(;f<e.length;){const _=e[f];if("number"==typeof _)break;if(_===i){if(null===o)return void(null!==l&&(e[f+1]=l));if(o===e[f+1])return void(e[f+2]=l)}f++,null!==o&&f++,null!==l&&f++}-1!==m&&(e.splice(m,0,t),f=m+1),e.splice(f++,0,i),null!==o&&e.splice(f++,0,o),null!==l&&e.splice(f++,0,l)}function Jr(e){return-1!==e}function Xr(e){return 32767&e}function ls(e,t){let i=function Id(e){return e>>16}(e),o=t;for(;i>0;)o=o[15],i--;return o}let Xa=!0;function us(e){const t=Xa;return Xa=e,t}let el=0;function cs(e,t){const i=ds(e,t);if(-1!==i)return i;const o=t[1];o.firstCreatePass&&(e.injectorIndex=t.length,So(o.data,e),So(t,null),So(o.blueprint,null));const l=na(e,t),f=e.injectorIndex;if(Jr(l)){const m=Xr(l),_=ls(l,t),E=_[1].data;for(let b=0;b<8;b++)t[f+b]=_[m+b]|E[m+b]}return t[f+8]=l,f}function So(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ds(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function na(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,o=null,l=t;for(;null!==l;){const f=l[1],m=f.type;if(o=2===m?f.declTNode:1===m?l[6]:null,null===o)return-1;if(i++,l=l[15],-1!==o.injectorIndex)return o.injectorIndex|i<<16}return-1}function fi(e,t,i){!function gc(e,t,i){let o;"string"==typeof i?o=i.charCodeAt(0)||0:i.hasOwnProperty(xe)&&(o=i[xe]),null==o&&(o=i[xe]=el++);const l=255&o;t.data[e+(l>>5)]|=1<<l}(e,t,i)}function ra(e,t,i){if(i&Xe.Optional)return e;Ue(t,"NodeInjector")}function mc(e,t,i,o){if(i&Xe.Optional&&void 0===o&&(o=null),0==(i&(Xe.Self|Xe.Host))){const l=e[9],f=jt(void 0);try{return l?l.get(t,o,i&Xe.Optional):Ci(t,o,i&Xe.Optional)}finally{jt(f)}}return ra(o,t,i)}function ia(e,t,i,o=Xe.Default,l){if(null!==e){const f=function _c(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(xe)?e[xe]:void 0;return"number"==typeof t?t>=0?255&t:Us:t}(i);if("function"==typeof f){if(!Xo(t,e,o))return o&Xe.Host?ra(l,i,o):mc(t,i,o,l);try{const m=f(o);if(null!=m||o&Xe.Optional)return m;Ue(i)}finally{Bs()}}else if("number"==typeof f){let m=null,_=ds(e,t),E=-1,b=o&Xe.Host?t[16][6]:null;for((-1===_||o&Xe.SkipSelf)&&(E=-1===_?na(e,t):t[_+8],-1!==E&&sa(o,!1)?(m=t[1],_=Xr(E),t=ls(E,t)):_=-1);-1!==_;){const S=t[1];if(hi(f,_,S.data)){const O=tl(_,t,i,m,o,b);if(O!==Mo)return O}E=t[_+8],-1!==E&&sa(o,t[1].data[_+8]===b)&&hi(f,_,t)?(m=S,_=Xr(E),t=ls(E,t)):_=-1}}}return mc(t,i,o,l)}const Mo={};function Us(){return new St(Qt(),ve())}function tl(e,t,i,o,l,f){const m=t[1],_=m.data[e+8],S=function Kn(e,t,i,o,l){const f=e.providerIndexes,m=t.data,_=1048575&f,E=e.directiveStart,S=f>>20,U=l?_+S:e.directiveEnd;for(let Z=o?_:_+S;Z<U;Z++){const de=m[Z];if(Z<E&&i===de||Z>=E&&de.type===i)return Z}if(l){const Z=m[E];if(Z&&Ht(Z)&&Z.type===i)return E}return null}(_,m,i,null==o?Ll(_)&&Xa:o!=m&&0!=(3&_.type),l&Xe.Host&&f===_);return null!==S?Bi(t,m,S,_):Mo}function Bi(e,t,i,o){let l=e[i];const f=t.data;if(function Qa(e){return e instanceof ea}(l)){const m=l;m.resolving&&function we(e,t){const i=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${e}${i}`)}(ie(f[i]));const _=us(m.canSeeViewProviders);m.resolving=!0;const E=m.injectImpl?jt(m.injectImpl):null;Xo(e,o,Xe.Default);try{l=e[i]=m.factory(void 0,f,e,o),t.firstCreatePass&&i>=o.directiveStart&&function tu(e,t,i){const{ngOnChanges:o,ngOnInit:l,ngDoCheck:f}=t.type.prototype;if(o){const m=rs(t);(i.preOrderHooks||(i.preOrderHooks=[])).push(e,m),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e,m)}l&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-e,l),f&&((i.preOrderHooks||(i.preOrderHooks=[])).push(e,f),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e,f))}(i,f[i],t)}finally{null!==E&&jt(E),us(_),m.resolving=!1,Bs()}}return l}function hi(e,t,i){return!!(i[t+(e>>5)]&1<<e)}function sa(e,t){return!(e&Xe.Self||e&Xe.Host&&t)}class St{constructor(t,i){this._tNode=t,this._lView=i}get(t,i,o){return ia(this._tNode,this._lView,t,o,i)}}function Hs(e){return function au(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const i=e.attrs;if(i){const o=i.length;let l=0;for(;l<o;){const f=i[l];if(Ja(f))break;if(0===f)l+=2;else if("number"==typeof f)for(l++;l<o&&"string"==typeof i[l];)l++;else{if(f===t)return i[l+1];l+=2}}}return null}(Qt(),e)}const Rn="__parameters__";function Yn(e,t,i){return An(()=>{const o=function uu(e){return function(...i){if(e){const o=e(...i);for(const l in o)this[l]=o[l]}}}(t);function l(...f){if(this instanceof l)return o.apply(this,f),this;const m=new l(...f);return _.annotation=m,_;function _(E,b,S){const O=E.hasOwnProperty(Rn)?E[Rn]:Object.defineProperty(E,Rn,{value:[]})[Rn];for(;O.length<=S;)O.push(null);return(O[S]=O[S]||[]).push(m),E}}return i&&(l.prototype=Object.create(i.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l})}class R{constructor(t,i){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Ut({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}toString(){return`InjectionToken ${this._desc}`}}function kr(e,t){e.forEach(i=>Array.isArray(i)?kr(i,t):t(i))}function aa(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function _n(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const ti={},hs="__NG_DI_FLAG__",Er="ngTempTokenPath",Lr=/\n/gm,Ir="__source",ni=ce({provide:String,useValue:ce});let mi;function pa(e){const t=mi;return mi=e,t}function hu(e,t=Xe.Default){if(void 0===mi)throw new Ae(203,"");return null===mi?Ci(e,void 0,t):mi.get(e,t&Xe.Optional?null:void 0,t)}function Pn(e,t=Xe.Default){return(function sn(){return un}()||hu)(ee(e),t)}const I=Pn;function w(e){const t=[];for(let i=0;i<e.length;i++){const o=ee(e[i]);if(Array.isArray(o)){if(0===o.length)throw new Ae(900,"");let l,f=Xe.Default;for(let m=0;m<o.length;m++){const _=o[m],E=k(_);"number"==typeof E?-1===E?l=_.token:f|=E:l=_}t.push(Pn(l,f))}else t.push(Pn(o))}return t}function A(e,t){return e[hs]=t,e.prototype[hs]=t,e}function k(e){return e[hs]}const Oe=A(Yn("Optional"),8),We=A(Yn("SkipSelf"),4);var Ui=(()=>((Ui=Ui||{})[Ui.Important=1]="Important",Ui[Ui.DashCase=2]="DashCase",Ui))();const Zs="__ngContext__";function Hn(e,t){e[Zs]=t}function gu(e){const t=function ll(e){return e[Zs]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function yu(e,t){return undefined(e,t)}function ya(e){const t=e[3];return Zr(t)?t[3]:t}function vu(e){return Pt(e[13])}function Eu(e){return Pt(e[4])}function Pt(e){for(;null!==e&&!Zr(e);)e=e[4];return e}function pt(e,t,i,o,l){if(null!=o){let f,m=!1;Zr(o)?f=o:yr(o)&&(m=!0,o=o[0]);const _=qt(o);0===e&&null!==i?null==l?Nd(t,i,_):_i(t,i,_,l||null,!0):1===e&&null!==i?_i(t,i,_,l||null,!0):2===e?function Bc(e,t,i){const o=Du(e,t);o&&function Zf(e,t,i,o){en(e)?e.removeChild(t,i,o):t.removeChild(i)}(e,o,t,i)}(t,_,m):3===e&&t.destroyNode(_),null!=f&&function Kf(e,t,i,o,l){const f=i[7];f!==qt(i)&&pt(t,e,o,f,l);for(let _=10;_<i.length;_++){const E=i[_];hl(E[1],E,e,t,o,f)}}(t,e,f,i,l)}}function Iu(e,t,i){if(en(e))return e.createElement(t,i);{const o=null!==i?function Zl(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(i):null;return null===o?e.createElement(t):e.createElementNS(o,t)}}function va(e,t){const i=e[9],o=i.indexOf(t),l=t[3];1024&t[2]&&(t[2]&=-1025,Ni(l,-1)),i.splice(o,1)}function Dr(e,t){if(e.length<=10)return;const i=10+t,o=e[i];if(o){const l=o[17];null!==l&&l!==e&&va(l,o),t>0&&(e[i-1][4]=o[4]);const f=_n(e,10+t);!function cl(e,t){hl(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(o[1],o);const m=f[19];null!==m&&m.detachView(f[1]),o[3]=null,o[4]=null,o[2]&=-129}return o}function xc(e,t){if(!(256&t[2])){const i=t[11];en(i)&&i.destroyNode&&hl(e,t,i,3,null,null),function wt(e){let t=e[13];if(!t)return Oc(e[1],e);for(;t;){let i=null;if(yr(t))i=t[13];else{const o=t[10];o&&(i=o)}if(!i){for(;t&&!t[4]&&t!==e;)yr(t)&&Oc(t[1],t),t=t[3];null===t&&(t=e),yr(t)&&Oc(t[1],t),i=t&&t[4]}t=i}}(t)}}function Oc(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function Pd(e,t){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let o=0;o<i.length;o+=2){const l=t[i[o]];if(!(l instanceof ea)){const f=i[o+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const _=l[f[m]],E=f[m+1];try{E.call(_)}finally{}}else try{f.call(l)}finally{}}}}(e,t),function kc(e,t){const i=e.cleanup,o=t[7];let l=-1;if(null!==i)for(let f=0;f<i.length-1;f+=2)if("string"==typeof i[f]){const m=i[f+1],_="function"==typeof m?m(t):qt(t[m]),E=o[l=i[f+2]],b=i[f+3];"boolean"==typeof b?_.removeEventListener(i[f],E,b):b>=0?o[l=b]():o[l=-b].unsubscribe(),f+=2}else{const m=o[l=i[f+1]];i[f].call(m)}if(null!==o){for(let f=l+1;f<o.length;f++)o[f]();t[7]=null}}(e,t),1===t[1].type&&en(t[11])&&t[11].destroy();const i=t[17];if(null!==i&&Zr(t[3])){i!==t[3]&&va(i,t);const o=t[19];null!==o&&o.detachView(e)}}}function gs(e,t,i){return function dl(e,t,i){let o=t;for(;null!==o&&40&o.type;)o=(t=o).parent;if(null===o)return i[0];if(2&o.flags){const l=e.data[o.directiveStart].encapsulation;if(l===xt.None||l===xt.Emulated)return null}return gn(o,i)}(e,t.parent,i)}function _i(e,t,i,o,l){en(e)?e.insertBefore(t,i,o,l):t.insertBefore(i,o,l)}function Nd(e,t,i){en(e)?e.appendChild(t,i):t.appendChild(i)}function Fc(e,t,i,o,l){null!==o?_i(e,t,i,o,l):Nd(e,t,i)}function Du(e,t){return en(e)?e.parentNode(t):t.parentNode}let ct=function ko(e,t,i){return 40&e.type?gn(e,i):null};function Fo(e,t,i,o){const l=gs(e,o,t),f=t[11],_=function Lc(e,t,i){return ct(e,t,i)}(o.parent||t[6],o,t);if(null!=l)if(Array.isArray(i))for(let E=0;E<i.length;E++)Fc(f,l,i[E],_,!1);else Fc(f,l,i,_,!1)}function Br(e,t){if(null!==t){const i=t.type;if(3&i)return gn(t,e);if(4&i)return Vr(-1,e[t.index]);if(8&i){const o=t.child;if(null!==o)return Br(e,o);{const l=e[t.index];return Zr(l)?Vr(-1,l):qt(l)}}if(32&i)return yu(t,e)()||qt(e[t.index]);{const o=Lo(e,t);return null!==o?Array.isArray(o)?o[0]:Br(ya(e[16]),o):Br(e,t.next)}}return null}function Lo(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Vr(e,t){const i=10+e+1;if(i<t.length){const o=t[i],l=o[1].firstChild;if(null!==l)return Br(o,l)}return t[7]}function $n(e,t,i,o,l,f,m){for(;null!=i;){const _=o[i.index],E=i.type;if(m&&0===t&&(_&&Hn(qt(_),o),i.flags|=4),64!=(64&i.flags))if(8&E)$n(e,t,i.child,o,l,f,!1),pt(t,e,l,_,f);else if(32&E){const b=yu(i,o);let S;for(;S=b();)pt(t,e,l,S,f);pt(t,e,l,_,f)}else 16&E?Ia(e,t,o,i,l,f):pt(t,e,l,_,f);i=m?i.projectionNext:i.next}}function hl(e,t,i,o,l,f){$n(i,o,e.firstChild,t,l,f,!1)}function Ia(e,t,i,o,l,f){const m=i[16],E=m[6].projection[o.projection];if(Array.isArray(E))for(let b=0;b<E.length;b++)pt(t,e,l,E[b],f);else $n(e,t,E,m[3],l,f,!0)}function Uc(e,t,i){en(e)?e.setAttribute(t,"style",i):t.style.cssText=i}function wu(e,t,i){en(e)?""===i?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i):t.className=i}function dt(e){return e.ngOriginalError}function Qs(e,...t){e.error(...t)}class Js{constructor(){this._console=console}handleError(t){const i=this._findOriginalError(t),o=function Wn(e){return e&&e.ngErrorLogger||Qs}(t);o(this._console,"ERROR",t),i&&o(this._console,"ORIGINAL ERROR",i)}_findOriginalError(t){let i=t&&dt(t);for(;i&&dt(i);)i=dt(i);return i||null}}const $o=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ct))();function Xs(e){return e instanceof Function?e():e}function sh(e,t,i){let o=e.length;for(;;){const l=e.indexOf(t,i);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const f=t.length;if(l+f===o||e.charCodeAt(l+f)<=32)return l}i=l+1}}const jp="ng-template";function Ym(e,t,i){let o=0;for(;o<e.length;){let l=e[o++];if(i&&"class"===l){if(l=e[o],-1!==sh(l.toLowerCase(),t,0))return!0}else if(1===l){for(;o<e.length&&"string"==typeof(l=e[o++]);)if(l.toLowerCase()===t)return!0;return!1}}return!1}function Hp(e){return 4===e.type&&e.value!==jp}function qm(e,t,i){return t===(4!==e.type||i?e.value:jp)}function Qm(e,t,i){let o=4;const l=e.attrs||[],f=function jd(e){for(let t=0;t<e.length;t++)if(Ja(e[t]))return t;return e.length}(l);let m=!1;for(let _=0;_<t.length;_++){const E=t[_];if("number"!=typeof E){if(!m)if(4&o){if(o=2|1&o,""!==E&&!qm(e,E,i)||""===E&&1===t.length){if(Is(o))return!1;m=!0}}else{const b=8&o?E:t[++_];if(8&o&&null!==e.attrs){if(!Ym(e.attrs,b,i)){if(Is(o))return!1;m=!0}continue}const O=Vd(8&o?"class":E,l,Hp(e),i);if(-1===O){if(Is(o))return!1;m=!0;continue}if(""!==b){let U;U=O>f?"":l[O+1].toLowerCase();const Z=8&o?U:null;if(Z&&-1!==sh(Z,b,0)||2&o&&b!==U){if(Is(o))return!1;m=!0}}}}else{if(!m&&!Is(o)&&!Is(E))return!1;if(m&&Is(E))continue;m=!1,o=E|1&o}}return Is(o)||m}function Is(e){return 0==(1&e)}function Vd(e,t,i,o){if(null===t)return-1;let l=0;if(o||!i){let f=!1;for(;l<t.length;){const m=t[l];if(m===e)return l;if(3===m||6===m)f=!0;else{if(1===m||2===m){let _=t[++l];for(;"string"==typeof _;)_=t[++l];continue}if(4===m)break;if(0===m){l+=4;continue}}l+=f?1:2}return-1}return function Jm(e,t){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const o=e[i];if("number"==typeof o)return-1;if(o===t)return i;i++}return-1}(t,e)}function Ud(e,t,i=!1){for(let o=0;o<t.length;o++)if(Qm(e,t[o],i))return!0;return!1}function ah(e,t){return e?":not("+t.trim()+")":t}function Wp(e){let t=e[0],i=1,o=2,l="",f=!1;for(;i<e.length;){let m=e[i];if("string"==typeof m)if(2&o){const _=e[++i];l+="["+m+(_.length>0?'="'+_+'"':"")+"]"}else 8&o?l+="."+m:4&o&&(l+=" "+m);else""!==l&&!Is(m)&&(t+=ah(f,l),l=""),o=m,f=f||!Is(o);i++}return""!==l&&(t+=ah(f,l)),t}const mt={};function qc(e,t){const i=e.contentQueries;if(null!==i)for(let o=0;o<i.length;o+=2){const l=i[o],f=i[o+1];if(-1!==f){const m=e.data[f];Jl(l),m.contentQueries(2,t[f],f)}}}function Lu(e,t,i,o,l,f,m,_,E,b){const S=t.blueprint.slice();return S[0]=l,S[2]=140|o,ui(S),S[3]=S[15]=e,S[8]=i,S[10]=m||e&&e[10],S[11]=_||e&&e[11],S[12]=E||e&&e[12]||null,S[9]=b||e&&e[9]||null,S[6]=f,S[16]=2==t.type?e[16]:S,S}function Tl(e,t,i,o,l){let f=e.data[t];if(null===f)f=function Yd(e,t,i,o,l){const f=Ga(),m=Io(),E=e.data[t]=function u_(e,t,i,o,l,f){return{type:i,index:o,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,i,t,o,l);return null===e.firstChild&&(e.firstChild=E),null!==f&&(m?null==f.child&&null!==E.parent&&(f.child=E):null===f.next&&(f.next=E)),E}(e,t,i,o,l),function Yo(){return Je.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=i,f.value=o,f.attrs=l;const m=function ci(){const e=Je.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();f.injectorIndex=null===m?-1:m.injectorIndex}return xr(f,!0),f}function no(e,t,i,o){if(0===i)return-1;const l=t.length;for(let f=0;f<i;f++)t.push(o),e.blueprint.push(o),e.data.push(null);return l}function Ra(e,t,i){ss(t);try{const o=e.viewQuery;null!==o&&rf(1,o,i);const l=e.template;null!==l&&qd(e,t,l,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&qc(e,t),e.staticViewQueries&&rf(2,e.viewQuery,i);const f=e.components;null!==f&&function Fu(e,t){for(let i=0;i<t.length;i++)dg(e,t[i])}(t,f)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[2]&=-5,cr()}}function Pa(e,t,i,o){const l=t[2];if(256!=(256&l)){ss(t);try{ui(t),function ks(e){return Je.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&qd(e,t,i,2,o);const m=3==(3&l);if(m){const b=e.preOrderCheckHooks;null!==b&&To(t,b,null)}else{const b=e.preOrderHooks;null!==b&&Ao(t,b,0,null),vn(t,0)}if(function cg(e){for(let t=vu(e);null!==t;t=Eu(t)){if(!t[2])continue;const i=t[9];for(let o=0;o<i.length;o++){const l=i[o],f=l[3];0==(1024&l[2])&&Ni(f,1),l[2]|=1024}}}(t),function Zi(e){for(let t=vu(e);null!==t;t=Eu(t))for(let i=10;i<t.length;i++){const o=t[i],l=o[1];Pi(o)&&Pa(l,o,l.template,o[8])}}(t),null!==e.contentQueries&&qc(e,t),m){const b=e.contentCheckHooks;null!==b&&To(t,b)}else{const b=e.contentHooks;null!==b&&Ao(t,b,1),vn(t,1)}!function Eh(e,t){const i=e.hostBindingOpCodes;if(null!==i)try{for(let o=0;o<i.length;o++){const l=i[o];if(l<0)ki(~l);else{const f=l,m=i[++o],_=i[++o];Do(m,f),_(2,t[f])}}}finally{ki(-1)}}(e,t);const _=e.components;null!==_&&function l_(e,t){for(let i=0;i<t.length;i++)p_(e,t[i])}(t,_);const E=e.viewQuery;if(null!==E&&rf(2,E,o),m){const b=e.viewCheckHooks;null!==b&&To(t,b)}else{const b=e.viewHooks;null!==b&&Ao(t,b,2),vn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-73,1024&t[2]&&(t[2]&=-1025,Ni(t[3],-1))}finally{cr()}}}function Ih(e,t,i,o){const l=t[10],m=function qr(e){return 4==(4&e[2])}(t);try{!m&&l.begin&&l.begin(),m&&Ra(e,t,o),Pa(e,t,i,o)}finally{!m&&l.end&&l.end()}}function qd(e,t,i,o,l){const f=function Fn(){return Je.lFrame.selectedIndex}(),m=2&o;try{ki(-1),m&&t.length>20&&function Gp(e,t,i,o){if(!o)if(3==(3&t[2])){const f=e.preOrderCheckHooks;null!==f&&To(t,f,i)}else{const f=e.preOrderHooks;null!==f&&Ao(t,f,0,i)}ki(i)}(e,t,20,!1),i(o,l)}finally{ki(f)}}function ng(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Qd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Qd(e,t,i,o,l,f,m,_,E,b){const S=20+o,O=S+l,U=function wh(e,t){const i=[];for(let o=0;o<t;o++)i.push(o<e?null:mt);return i}(S,O),Z="function"==typeof b?b():b;return U[1]={type:e,blueprint:U,template:i,queries:null,viewQuery:_,declTNode:t,data:U.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:E,consts:Z,incompleteFirstPass:!1}}function bh(e,t,i){for(let o in e)if(e.hasOwnProperty(o)){const l=e[o];(i=null===i?{}:i).hasOwnProperty(o)?i[o].push(t,l):i[o]=[t,l]}return i}function Bu(e,t,i,o,l,f){const m=f.hostBindings;if(m){let _=e.hostBindingOpCodes;null===_&&(_=e.hostBindingOpCodes=[]);const E=~t.index;(function Rh(e){let t=e.length;for(;t>0;){const i=e[--t];if("number"==typeof i&&i<0)return i}return 0})(_)!=E&&_.push(E),_.push(o,l,m)}}function ag(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Qc(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function h_(e,t,i){if(i){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)i[t.exportAs[o]]=e;Ht(t)&&(i[""]=e)}}function Vu(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}function ws(e,t,i,o,l){e.data[o]=l;const f=l.factory||(l.factory=ns(l.type)),m=new ea(f,Ht(l),null);e.blueprint[o]=m,i[o]=m,Bu(e,t,0,o,no(e,i,l.hostVars,mt),l)}function Jc(e,t,i){const o=gn(t,e),l=ng(i),f=e[10],m=ed(e,Lu(e,l,null,i.onPush?64:16,o,t,f,f.createRenderer(o,i),null,null));e[t.index]=m}function Nh(e,t,i,o,l,f){const m=f[t];if(null!==m){const _=o.setInput;for(let E=0;E<m.length;){const b=m[E++],S=m[E++],O=m[E++];null!==_?o.setInput(i,O,b,S):i[S]=O}}}function Xc(e,t){let i=null,o=0;for(;o<t.length;){const l=t[o];if(0!==l)if(5!==l){if("number"==typeof l)break;e.hasOwnProperty(l)&&(null===i&&(i=[]),i.push(l,e[l],t[o+1])),o+=2}else o+=2;else o+=4}return i}function p_(e,t){const i=Zn(t,e);if(Pi(i)){const o=i[1];80&i[2]?Pa(o,i,o.template,i[8]):i[5]>0&&Uu(i)}}function Uu(e){for(let o=vu(e);null!==o;o=Eu(o))for(let l=10;l<o.length;l++){const f=o[l];if(1024&f[2]){const m=f[1];Pa(m,f,m.template,f[8])}else f[5]>0&&Uu(f)}const i=e[1].components;if(null!==i)for(let o=0;o<i.length;o++){const l=Zn(i[o],e);Pi(l)&&l[5]>0&&Uu(l)}}function dg(e,t){const i=Zn(t,e),o=i[1];(function yi(e,t){for(let i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])})(o,i),Ra(o,i,i[8])}function ed(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function kh(e,t,i){const o=t[10];o.begin&&o.begin();try{Pa(e,t,e.template,i)}catch(l){throw function of(e,t){const i=e[9],o=i?i.get(Js,null):null;o&&o.handleError(t)}(t,l),l}finally{o.end&&o.end()}}function hg(e){!function Oh(e){for(let t=0;t<e.components.length;t++){const i=e.components[t],o=gu(i),l=o[1];Ih(l,o,l.template,i)}}(e[8])}function rf(e,t,i){Jl(0),t(e,i)}const __=(()=>Promise.resolve(null))();function af(e,t,i){let o=i?e.styles:null,l=i?e.classes:null,f=0;if(null!==t)for(let m=0;m<t.length;m++){const _=t[m];"number"==typeof _?f=_:1==f?l=me(l,_):2==f&&(o=me(o,_+": "+t[++m]+";"))}i?e.styles=o:e.stylesWithoutHost=o,i?e.classes=l:e.classesWithoutHost=l}const Fh=new R("INJECTOR",-1);class lf{get(t,i=ti){if(i===ti){const o=new Error(`NullInjectorError: No provider for ${ae(t)}!`);throw o.name="NullInjectorError",o}return i}}const uf=new R("Set Injector scope."),nd={},ju={};let io;function _g(){return void 0===io&&(io=new lf),io}function cf(e,t=null,i=null,o){const l=rd(e,t,i,o);return l._resolveInjectorDefTypes(),l}function rd(e,t=null,i=null,o){return new v_(e,i,t||_g(),o)}class v_{constructor(t,i,o,l=null){this.parent=o,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];i&&kr(i,_=>this.processProvider(_,t,i)),kr([t],_=>this.processInjectorType(_,[],f)),this.records.set(Fh,Ml(void 0,this));const m=this.records.get(uf);this.scope=null!=m?m.value:null,this.source=l||("object"==typeof t?null:ae(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,i=ti,o=Xe.Default){this.assertNotDestroyed();const l=pa(this),f=jt(void 0);try{if(!(o&Xe.SkipSelf)){let _=this.records.get(t);if(void 0===_){const E=function vg(e){return"function"==typeof e||"object"==typeof e&&e instanceof R}(t)&&Tn(t);_=E&&this.injectableDefInScope(E)?Ml(Na(t),nd):null,this.records.set(t,_)}if(null!=_)return this.hydrate(t,_)}return(o&Xe.Self?_g():this.parent).get(t,i=o&Xe.Optional&&i===ti?null:i)}catch(m){if("NullInjectorError"===m.name){if((m[Er]=m[Er]||[]).unshift(ae(t)),l)throw m;return function W(e,t,i,o){const l=e[Er];throw t[Ir]&&l.unshift(t[Ir]),e.message=function Y(e,t,i,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let l=ae(t);if(Array.isArray(t))l=t.map(ae).join(" -> ");else if("object"==typeof t){let f=[];for(let m in t)if(t.hasOwnProperty(m)){let _=t[m];f.push(m+":"+("string"==typeof _?JSON.stringify(_):ae(_)))}l=`{${f.join(", ")}}`}return`${i}${o?"("+o+")":""}[${l}]: ${e.replace(Lr,"\n  ")}`}("\n"+e.message,l,i,o),e.ngTokenPath=l,e[Er]=null,e}(m,t,"R3InjectorError",this.source)}throw m}finally{jt(f),pa(l)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((o,l)=>t.push(ae(l))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processInjectorType(t,i,o){if(!(t=ee(t)))return!1;let l=ln(t);const f=null==l&&t.ngModule||void 0,m=void 0===f?t:f,_=-1!==o.indexOf(m);if(void 0!==f&&(l=ln(f)),null==l)return!1;if(null!=l.imports&&!_){let S;o.push(m);try{kr(l.imports,O=>{this.processInjectorType(O,i,o)&&(void 0===S&&(S=[]),S.push(O))})}finally{}if(void 0!==S)for(let O=0;O<S.length;O++){const{ngModule:U,providers:Z}=S[O];kr(Z,de=>this.processProvider(de,U,Z||et))}}this.injectorDefTypes.add(m);const E=ns(m)||(()=>new m);this.records.set(m,Ml(E,nd));const b=l.providers;if(null!=b&&!_){const S=t;kr(b,O=>this.processProvider(O,S,b))}return void 0!==f&&void 0!==t.providers}processProvider(t,i,o){let l=Hu(t=ee(t))?t:ee(t&&t.provide);const f=function yg(e,t,i){return id(e)?Ml(void 0,e.useValue):Ml(function Lh(e,t,i){let o;if(Hu(e)){const l=ee(e);return ns(l)||Na(l)}if(id(e))o=()=>ee(e.useValue);else if(function Vh(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...w(e.deps||[]));else if(function Bh(e){return!(!e||!e.useExisting)}(e))o=()=>Pn(ee(e.useExisting));else{const l=ee(e&&(e.useClass||e.provide));if(!function Uh(e){return!!e.deps}(e))return ns(l)||Na(l);o=()=>new l(...w(e.deps))}return o}(e),nd)}(t);if(Hu(t)||!0!==t.multi)this.records.get(l);else{let m=this.records.get(l);m||(m=Ml(void 0,nd,!0),m.factory=()=>w(m.multi),this.records.set(l,m)),l=t,m.multi.push(t)}this.records.set(l,f)}hydrate(t,i){return i.value===nd&&(i.value=ju,i.value=i.factory()),"object"==typeof i.value&&i.value&&function D_(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(i.value)&&this.onDestroy.add(i.value),i.value}injectableDefInScope(t){if(!t.providedIn)return!1;const i=ee(t.providedIn);return"string"==typeof i?"any"===i||i===this.scope:this.injectorDefTypes.has(i)}}function Na(e){const t=Tn(e),i=null!==t?t.factory:ns(e);if(null!==i)return i;if(e instanceof R)throw new Ae(204,!1);if(e instanceof Function)return function E_(e){const t=e.length;if(t>0)throw function gi(e,t){const i=[];for(let o=0;o<e;o++)i.push(t);return i}(t,"?"),new Ae(204,!1);const i=function mr(e){const t=e&&(e[ri]||e[zn]);if(t){const i=function Ft(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),t}return null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new Ae(204,!1)}function Ml(e,t,i=!1){return{factory:e,value:t,multi:i?[]:void 0}}function id(e){return null!==e&&"object"==typeof e&&ni in e}function Hu(e){return"function"==typeof e}let so=(()=>{class e{static create(i,o){var l;if(Array.isArray(i))return cf({name:""},o,i,"");{const f=null!==(l=i.name)&&void 0!==l?l:"";return cf({name:f},i.parent,i.providers,f)}}}return e.THROW_IF_NOT_FOUND=ti,e.NULL=new lf,e.\u0275prov=Ut({token:e,providedIn:"any",factory:()=>Pn(Fh)}),e.__NG_ELEMENT_ID__=-1,e})();function Dg(e,t){qa(gu(e)[1],Qt())}let _f=null;function $u(){if(!_f){const e=Ct.Symbol;if(e&&e.iterator)_f=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<t.length;++i){const o=t[i];"entries"!==o&&"size"!==o&&Map.prototype[o]===Map.prototype.entries&&(_f=o)}}}return _f}function od(e){return!!Yh(e)&&(Array.isArray(e)||!(e instanceof Map)&&$u()in e)}function Yh(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ld(e,t=Xe.Default){const i=ve();return null===i?Pn(e,t):ia(Qt(),i,ee(e),t)}function Wg(e,t,i,o,l){const m=l?"class":"style";!function gg(e,t,i,o,l){for(let f=0;f<i.length;){const m=i[f++],_=i[f++],E=t[m],b=e.data[m];null!==b.setInput?b.setInput(E,l,o,_):E[_]=l}}(e,i,t.inputs[m],m,o)}function Gg(e,t,i,o){const l=ve(),f=Dt(),m=20+e,_=l[11],E=l[m]=Iu(_,t,function hc(){return Je.lFrame.currentNamespace}()),b=f.firstCreatePass?function Zv(e,t,i,o,l,f,m){const _=t.consts,b=Tl(t,e,2,l,vr(_,f));return function Mh(e,t,i,o){let l=!1;if(Eo()){const f=function Ph(e,t,i){const o=e.directiveRegistry;let l=null;if(o)for(let f=0;f<o.length;f++){const m=o[f];Ud(i,m.selectors,!1)&&(l||(l=[]),fi(cs(i,t),e,m.type),Ht(m)?(Qc(e,i),l.unshift(m)):l.push(m))}return l}(e,t,i),m=null===o?null:{"":-1};if(null!==f){l=!0,Vu(i,e.data.length,f.length);for(let S=0;S<f.length;S++){const O=f[S];O.providersResolver&&O.providersResolver(O)}let _=!1,E=!1,b=no(e,t,f.length,null);for(let S=0;S<f.length;S++){const O=f[S];i.mergedAttrs=Xn(i.mergedAttrs,O.hostAttrs),ws(e,i,t,b,O),h_(b,O,m),null!==O.contentQueries&&(i.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(i.flags|=128);const U=O.type.prototype;!_&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(i.index),_=!0),!E&&(U.ngOnChanges||U.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i.index),E=!0),b++}!function Th(e,t){const o=t.directiveEnd,l=e.data,f=t.attrs,m=[];let _=null,E=null;for(let b=t.directiveStart;b<o;b++){const S=l[b],O=S.inputs,U=null===f||Hp(t)?null:Xc(O,f);m.push(U),_=bh(O,b,_),E=bh(S.outputs,b,E)}null!==_&&(_.hasOwnProperty("class")&&(t.flags|=16),_.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=m,t.inputs=_,t.outputs=E}(e,i)}m&&function lg(e,t,i){if(t){const o=e.localNames=[];for(let l=0;l<t.length;l+=2){const f=i[t[l+1]];if(null==f)throw new Ae(-301,!1);o.push(t[l],f)}}}(i,o,m)}return i.mergedAttrs=Xn(i.mergedAttrs,i.attrs),l}(t,i,b,vr(_,m)),null!==b.attrs&&af(b,b.attrs,!1),null!==b.mergedAttrs&&af(b,b.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,b),b}(m,f,l,0,t,i,o):f.data[m];xr(b,!0);const S=b.mergedAttrs;null!==S&&as(_,E,S);const O=b.classes;null!==O&&wu(_,E,O);const U=b.styles;return null!==U&&Uc(_,E,U),64!=(64&b.flags)&&Fo(f,l,E,b),0===function Ko(){return Je.lFrame.elementDepthCount}()&&Hn(E,l),function Ns(){Je.lFrame.elementDepthCount++}(),function Mi(e){return 1==(1&e.flags)}(b)&&(function Al(e,t,i){!Eo()||(function d_(e,t,i,o){const l=i.directiveStart,f=i.directiveEnd;e.firstCreatePass||cs(i,t),Hn(o,t);const m=i.initialInputs;for(let _=l;_<f;_++){const E=e.data[_],b=Ht(E);b&&Jc(t,i,E);const S=Bi(t,e,_,i);Hn(S,t),null!==m&&Nh(0,_-l,S,E,0,m),b&&(Zn(i.index,t)[8]=S)}}(e,t,i,gn(i,t)),128==(128&i.flags)&&function f_(e,t,i){const o=i.directiveStart,l=i.directiveEnd,m=i.index,_=function Ka(){return Je.lFrame.currentDirectiveIndex}();try{ki(m);for(let E=o;E<l;E++){const b=e.data[E],S=t[E];wo(E),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&ag(b,S)}}finally{ki(-1),wo(_)}}(e,t,i))}(f,l,b),function tg(e,t,i){if(Va(t)){const l=t.directiveEnd;for(let f=t.directiveStart;f<l;f++){const m=e.data[f];m.contentQueries&&m.contentQueries(1,i[f],f)}}}(f,b,l)),null!==o&&function Dh(e,t,i=gn){const o=t.localNames;if(null!==o){let l=t.index+1;for(let f=0;f<o.length;f+=2){const m=o[f+1],_=-1===m?i(t,e):e[m];e[l++]=_}}}(l,b),Gg}function zg(){let e=Qt();Io()?function Os(){Je.lFrame.isParent=!1}():(e=e.parent,xr(e,!1));const t=e;!function Wa(){Je.lFrame.elementDepthCount--}();const i=Dt();return i.firstCreatePass&&(qa(i,e),Va(e)&&i.queries.elementEnd(e)),null!=t.classesWithoutHost&&function pc(e){return 0!=(16&e.flags)}(t)&&Wg(i,t,ve(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function su(e){return 0!=(32&e.flags)}(t)&&Wg(i,t,ve(),t.stylesWithoutHost,!1),zg}function Zg(e,t,i,o){return Gg(e,t,i,o),zg(),Zg}function Yu(e){return!!e&&"function"==typeof e.then}function wf(e){return!!e&&"function"==typeof e.subscribe}const X_=wf,La=void 0;var Tm=["en",[["a","p"],["AM","PM"],La],[["AM","PM"],La,La],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],La,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],La,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",La,"{1} 'at' {0}",La],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bm(e){const i=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let Ol={};function Of(e){const t=function Sm(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=Am(t);if(i)return i;const o=t.split("-")[0];if(i=Am(o),i)return i;if("en"===o)return Tm;throw new Error(`Missing locale data for the locale "${e}".`)}function Cy(e){return Of(e)[nt.PluralCase]}function Am(e){return e in Ol||(Ol[e]=Ct.ng&&Ct.ng.common&&Ct.ng.common.locales&&Ct.ng.common.locales[e]),Ol[e]}var nt=(()=>((nt=nt||{})[nt.LocaleId=0]="LocaleId",nt[nt.DayPeriodsFormat=1]="DayPeriodsFormat",nt[nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",nt[nt.DaysFormat=3]="DaysFormat",nt[nt.DaysStandalone=4]="DaysStandalone",nt[nt.MonthsFormat=5]="MonthsFormat",nt[nt.MonthsStandalone=6]="MonthsStandalone",nt[nt.Eras=7]="Eras",nt[nt.FirstDayOfWeek=8]="FirstDayOfWeek",nt[nt.WeekendRange=9]="WeekendRange",nt[nt.DateFormat=10]="DateFormat",nt[nt.TimeFormat=11]="TimeFormat",nt[nt.DateTimeFormat=12]="DateTimeFormat",nt[nt.NumberSymbols=13]="NumberSymbols",nt[nt.NumberFormats=14]="NumberFormats",nt[nt.CurrencyCode=15]="CurrencyCode",nt[nt.CurrencySymbol=16]="CurrencySymbol",nt[nt.CurrencyName=17]="CurrencyName",nt[nt.Currencies=18]="Currencies",nt[nt.Directionality=19]="Directionality",nt[nt.PluralCase=20]="PluralCase",nt[nt.ExtraData=21]="ExtraData",nt))();const Ba="en-US";let Mp=Ba;class fE{}class lI{resolveComponentFactory(t){throw function aI(e){const t=Error(`No component factory found for ${ae(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Vm=(()=>{class e{}return e.NULL=new lI,e})();function uI(){return Lf(Qt(),ve())}function Lf(e,t){return new Np(gn(e,t))}let Np=(()=>{class e{constructor(i){this.nativeElement=i}}return e.__NG_ELEMENT_ID__=uI,e})();class pE{}let dI=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function hI(){const e=ve(),i=Zn(Qt().index,e);return function fI(e){return e[11]}(yr(i)?i:e)}(),e})(),pI=(()=>{class e{}return e.\u0275prov=Ut({token:e,providedIn:"root",factory:()=>null}),e})();class gE{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const mE=new gE("13.3.12"),By={};function Um(e,t,i,o,l=!1){for(;null!==i;){const f=t[i.index];if(null!==f&&o.push(qt(f)),Zr(f))for(let _=10;_<f.length;_++){const E=f[_],b=E[1].firstChild;null!==b&&Um(E[1],E,b,o)}const m=i.type;if(8&m)Um(e,t,i.child,o);else if(32&m){const _=yu(i,t);let E;for(;E=_();)o.push(E)}else if(16&m){const _=Lo(t,i);if(Array.isArray(_))o.push(..._);else{const E=ya(t[16]);Um(E[1],E,_,o,!0)}}i=l?i.projectionNext:i.next}return o}class xp{constructor(t,i){this._lView=t,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,i=t[1];return Um(i,t,i.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Zr(t)){const i=t[8],o=i?i.indexOf(this):-1;o>-1&&(Dr(t,o),_n(i,o))}this._attachedToViewContainer=!1}xc(this._lView[1],this._lView)}onDestroy(t){!function rg(e,t,i,o){const l=function sf(e){return e[7]||(e[7]=[])}(t);null===i?l.push(o):(l.push(i),e.firstCreatePass&&function td(e){return e.cleanup||(e.cleanup=[])}(e).push(o,l.length-1))}(this._lView[1],this._lView,null,t)}markForCheck(){!function xh(e){for(;e;){e[2]|=64;const t=ya(e);if(Bl(e)&&!t)return e;e=t}return null}(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){kh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dn(e,t){hl(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ae(902,"");this._appRef=t}}class gI extends xp{constructor(t){super(t),this._view=t}detectChanges(){hg(this._view)}checkNoChanges(){}get context(){return null}}class _E extends Vm{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const i=Tt(t);return new Vy(i,this.ngModule)}}function yE(e){const t=[];for(let i in e)e.hasOwnProperty(i)&&t.push({propName:e[i],templateName:i});return t}class Vy extends fE{constructor(t,i){super(),this.componentDef=t,this.ngModule=i,this.componentType=t.type,this.selector=function Xm(e){return e.map(Wp).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!i}get inputs(){return yE(this.componentDef.inputs)}get outputs(){return yE(this.componentDef.outputs)}create(t,i,o,l){const f=(l=l||this.ngModule)?function _I(e,t){return{get:(i,o,l)=>{const f=e.get(i,By,l);return f!==By||o===By?f:t.get(i,o,l)}}}(t,l.injector):t,m=f.get(pE,$a),_=f.get(pI,null),E=m.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",S=o?function Ch(e,t,i){if(en(e))return e.selectRootElement(t,i===xt.ShadowDom);let o="string"==typeof t?e.querySelector(t):t;return o.textContent="",o}(E,o,this.componentDef.encapsulation):Iu(m.createRenderer(null,this.componentDef),b,function mI(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(b)),O=this.componentDef.onPush?576:528,U=function zh(e,t){return{components:[],scheduler:e||$o,clean:__,playerHandler:t||null,flags:0}}(),Z=Qd(0,null,null,1,0,null,null,null,null,null),de=Lu(null,Z,U,O,null,null,m,E,_,f);let Re,Fe;ss(de);try{const qe=function mf(e,t,i,o,l,f){const m=i[1];i[20]=e;const E=Tl(m,20,2,"#host",null),b=E.mergedAttrs=t.hostAttrs;null!==b&&(af(E,b,!0),null!==e&&(as(l,e,b),null!==E.classes&&wu(l,e,E.classes),null!==E.styles&&Uc(l,e,E.styles)));const S=o.createRenderer(e,t),O=Lu(i,ng(t),null,t.onPush?64:16,i[20],E,o,S,f||null,null);return m.firstCreatePass&&(fi(cs(E,i),m,t.type),Qc(m,E),Vu(E,i.length,1)),ed(i,O),i[20]=O}(S,this.componentDef,de,m,E);if(S)if(o)as(E,S,["ng-version",mE.full]);else{const{attrs:Ee,classes:rt}=function e_(e){const t=[],i=[];let o=1,l=2;for(;o<e.length;){let f=e[o];if("string"==typeof f)2===l?""!==f&&t.push(f,e[++o]):8===l&&i.push(f);else{if(!Is(l))break;l=f}o++}return{attrs:t,classes:i}}(this.componentDef.selectors[0]);Ee&&as(E,S,Ee),rt&&rt.length>0&&wu(E,S,rt.join(" "))}if(Fe=function yn(e,t){return e.data[t]}(Z,20),void 0!==i){const Ee=Fe.projection=[];for(let rt=0;rt<this.ngContentSelectors.length;rt++){const Nt=i[rt];Ee.push(null!=Nt?Array.from(Nt):null)}}Re=function Gh(e,t,i,o,l){const f=i[1],m=function og(e,t,i){const o=Qt();e.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),ws(e,o,t,no(e,t,1,null),i));const l=Bi(t,e,o.directiveStart,o);Hn(l,t);const f=gn(o,t);return f&&Hn(f,t),l}(f,i,t);if(o.components.push(m),e[8]=m,l&&l.forEach(E=>E(m,t)),t.contentQueries){const E=Qt();t.contentQueries(1,m,E.directiveStart)}const _=Qt();return!f.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(ki(_.index),Bu(i[1],_,0,_.directiveStart,_.directiveEnd,t),ag(t,m)),m}(qe,this.componentDef,de,U,[Dg]),Ra(Z,de,null)}finally{cr()}return new vI(this.componentType,Re,Lf(Fe,de),de,Fe)}}class vI extends class oI{}{constructor(t,i,o,l,f){super(),this.location=o,this._rootLView=l,this._tNode=f,this.instance=i,this.hostView=this.changeDetectorRef=new gI(l),this.componentType=t}get injector(){return new St(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Bf{}const Vf=new Map;class IE extends Bf{constructor(t,i){super(),this._parent=i,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new _E(this);const o=st(t);this._bootstrapComponents=Xs(o.bootstrap),this._r3Injector=rd(t,i,[{provide:Bf,useValue:this},{provide:Vm,useValue:this.componentFactoryResolver}],ae(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,i=so.THROW_IF_NOT_FOUND,o=Xe.Default){return t===so||t===Bf||t===Fh?this:this._r3Injector.get(t,i,o)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Uy extends class II{}{constructor(t){super(),this.moduleType=t,null!==st(t)&&function DI(e){const t=new Set;!function i(o){const l=st(o,!0),f=l.id;null!==f&&(function vE(e,t,i){if(t&&t!==i)throw new Error(`Duplicate module registered for ${e} - ${ae(t)} vs ${ae(t.name)}`)}(f,Vf.get(f),o),Vf.set(f,o));const m=Xs(l.imports);for(const _ of m)t.has(_)||(t.add(_),i(_))}(e)}(t)}create(t){return new IE(this.moduleType,t)}}function jy(e){return t=>{setTimeout(e,void 0,t)}}const kl=class UI extends v.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,i,o){var l,f,m;let _=t,E=i||(()=>null),b=o;if(t&&"object"==typeof t){const O=t;_=null===(l=O.next)||void 0===l?void 0:l.bind(O),E=null===(f=O.error)||void 0===f?void 0:f.bind(O),b=null===(m=O.complete)||void 0===m?void 0:m.bind(O)}this.__isAsync&&(E=jy(E),_&&(_=jy(_)),b&&(b=jy(b)));const S=super.subscribe({next:_,error:E,complete:b});return t instanceof q.w0&&t.add(S),S}};Symbol;let Fp=(()=>{class e{}return e.__NG_ELEMENT_ID__=WI,e})();const HI=Fp,$I=class extends HI{constructor(t,i,o){super(),this._declarationLView=t,this._declarationTContainer=i,this.elementRef=o}createEmbeddedView(t){const i=this._declarationTContainer.tViews,o=Lu(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null);o[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(o[19]=f.createEmbeddedView(i)),Ra(i,o,t),new xp(o)}};function WI(){return function jm(e,t){return 4&e.type?new $I(t,e,Lf(e,t)):null}(Qt(),ve())}let Hm=(()=>{class e{}return e.__NG_ELEMENT_ID__=GI,e})();function GI(){return function ME(e,t){let i;const o=t[e.index];if(Zr(o))i=o;else{let l;if(8&e.type)l=qt(o);else{const f=t[11];l=f.createComment("");const m=gn(e,t);_i(f,Du(f,m),l,function xd(e,t){return en(e)?e.nextSibling(t):t.nextSibling}(f,m),!1)}t[e.index]=i=function ug(e,t,i,o){return new Array(e,!0,!1,t,null,0,o,i,null,null)}(o,t,l,e),ed(t,i)}return new AE(i,e,t)}(Qt(),ve())}const zI=Hm,AE=class extends zI{constructor(t,i,o){super(),this._lContainer=t,this._hostTNode=i,this._hostLView=o}get element(){return Lf(this._hostTNode,this._hostLView)}get injector(){return new St(this._hostTNode,this._hostLView)}get parentInjector(){const t=na(this._hostTNode,this._hostLView);if(Jr(t)){const i=ls(t,this._hostLView),o=Xr(t);return new St(i[1].data[o+8],i)}return new St(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const i=SE(this._lContainer);return null!==i&&i[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,i,o){const l=t.createEmbeddedView(i||{});return this.insert(l,o),l}createComponent(t,i,o,l,f){const m=t&&!function Ws(e){return"function"==typeof e}(t);let _;if(m)_=i;else{const O=i||{};_=O.index,o=O.injector,l=O.projectableNodes,f=O.ngModuleRef}const E=m?t:new Vy(Tt(t)),b=o||this.parentInjector;if(!f&&null==E.ngModule){const U=(m?b:this.parentInjector).get(Bf,null);U&&(f=U)}const S=E.create(b,l,void 0,f);return this.insert(S.hostView,_),S}insert(t,i){const o=t._lView,l=o[1];if(function Rs(e){return Zr(e[3])}(o)){const S=this.indexOf(t);if(-1!==S)this.detach(S);else{const O=o[3],U=new AE(O,O[6],O[3]);U.detach(U.indexOf(t))}}const f=this._adjustIndex(i),m=this._lContainer;!function Qn(e,t,i,o){const l=10+o,f=i.length;o>0&&(i[l-1][4]=t),o<f-10?(t[4]=i[l],aa(i,10+o,t)):(i.push(t),t[4]=null),t[3]=i;const m=t[17];null!==m&&i!==m&&function zf(e,t){const i=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===i?e[9]=[t]:i.push(t)}(m,t);const _=t[19];null!==_&&_.insertView(e),t[2]|=128}(l,o,m,f);const _=Vr(f,m),E=o[11],b=Du(E,m[7]);return null!==b&&function Rd(e,t,i,o,l,f){o[0]=l,o[6]=t,hl(e,o,i,1,l,f)}(l,m[6],E,o,b,_),t.attachToViewContainerRef(),aa($y(m),f,t),t}move(t,i){return this.insert(t,i)}indexOf(t){const i=SE(this._lContainer);return null!==i?i.indexOf(t):-1}remove(t){const i=this._adjustIndex(t,-1),o=Dr(this._lContainer,i);o&&(_n($y(this._lContainer),i),xc(o[1],o))}detach(t){const i=this._adjustIndex(t,-1),o=Dr(this._lContainer,i);return o&&null!=_n($y(this._lContainer),i)?new xp(o):null}_adjustIndex(t,i=0){return null==t?this.length+i:t}};function SE(e){return e[8]}function $y(e){return e[8]||(e[8]=[])}function Gm(...e){}const QE=new R("Application Initializer");let ev=(()=>{class e{constructor(i){this.appInits=i,this.resolve=Gm,this.reject=Gm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,l)=>{this.resolve=o,this.reject=l})}runInitializers(){if(this.initialized)return;const i=[],o=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const f=this.appInits[l]();if(Yu(f))i.push(f);else if(X_(f)){const m=new Promise((_,E)=>{f.subscribe({complete:_,error:E})});i.push(m)}}Promise.all(i).then(()=>{o()}).catch(l=>{this.reject(l)}),0===i.length&&o(),this.initialized=!0}}return e.\u0275fac=function(i){return new(i||e)(Pn(QE,8))},e.\u0275prov=Ut({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const JE=new R("AppId",{providedIn:"root",factory:function XE(){return`${tv()}${tv()}${tv()}`}});function tv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const e0=new R("Platform Initializer"),DD=new R("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),wD=new R("appBootstrapListener"),nv=new R("LocaleId",{providedIn:"root",factory:()=>I(nv,Xe.Optional|Xe.SkipSelf)||function CD(){return"undefined"!=typeof $localize&&$localize.locale||Ba}()}),bD=new R("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),SD=(()=>Promise.resolve(0))();function rv(e){"undefined"==typeof Zone?SD.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class zo{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kl(!1),this.onMicrotaskEmpty=new kl(!1),this.onStable=new kl(!1),this.onError=new kl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!o&&i,l.shouldCoalesceRunChangeDetection=o,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function MD(){let e=Ct.requestAnimationFrame,t=Ct.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function ND(e){const t=()=>{!function PD(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ct,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,sv(e),e.isCheckStableRunning=!0,iv(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),sv(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,o,l,f,m,_)=>{try{return t0(e),i.invokeTask(l,f,m,_)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||e.shouldCoalesceRunChangeDetection)&&t(),n0(e)}},onInvoke:(i,o,l,f,m,_,E)=>{try{return t0(e),i.invoke(l,f,m,_,E)}finally{e.shouldCoalesceRunChangeDetection&&t(),n0(e)}},onHasTask:(i,o,l,f)=>{i.hasTask(l,f),o===l&&("microTask"==f.change?(e._hasPendingMicrotasks=f.microTask,sv(e),iv(e)):"macroTask"==f.change&&(e.hasPendingMacrotasks=f.macroTask))},onHandleError:(i,o,l,f)=>(i.handleError(l,f),e.runOutsideAngular(()=>e.onError.emit(f)),!1)})}(l)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(zo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,i,o){return this._inner.run(t,i,o)}runTask(t,i,o,l){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+l,t,RD,Gm,Gm);try{return f.runTask(m,i,o)}finally{f.cancelTask(m)}}runGuarded(t,i,o){return this._inner.runGuarded(t,i,o)}runOutsideAngular(t){return this._outer.run(t)}}const RD={};function iv(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function sv(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function t0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function n0(e){e._nesting--,iv(e)}class xD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kl,this.onMicrotaskEmpty=new kl,this.onStable=new kl,this.onError=new kl}run(t,i,o){return t.apply(i,o)}runGuarded(t,i,o){return t.apply(i,o)}runOutsideAngular(t){return t()}runTask(t,i,o,l){return t.apply(i,o)}}let r0=(()=>{class e{constructor(i){this._ngZone=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zo.assertNotInAngularZone(),rv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())rv(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(i)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,o,l){let f=-1;o&&o>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==f),i(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:i,timeoutId:f,updateCb:l})}whenStable(i,o,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,o,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(i,o,l){return[]}}return e.\u0275fac=function(i){return new(i||e)(Pn(zo))},e.\u0275prov=Ut({token:e,factory:e.\u0275fac}),e})(),OD=(()=>{class e{constructor(){this._applications=new Map,ov.addToWindow(this)}registerApplication(i,o){this._applications.set(i,o)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,o=!0){return ov.findTestabilityInTree(this,i,o)}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Ut({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();class kD{addToWindow(t){}findTestabilityInTree(t,i,o){return null}}function FD(e){ov=e}let ov=new kD,hd=null;const s0=new R("AllowMultipleToken"),o0=new R("PlatformOnDestroy");function a0(e,t,i=[]){const o=`Platform: ${t}`,l=new R(o);return(f=[])=>{let m=av();if(!m||m.injector.get(s0,!1)){const _=[...i,...f,{provide:l,useValue:!0}];e?e(_):function VD(e){if(hd&&!hd.get(s0,!1))throw new Ae(400,"");hd=e;const t=e.get(l0),i=e.get(e0,null);i&&i.forEach(o=>o())}(function jD(e=[],t){return so.create({name:t,providers:[{provide:uf,useValue:"platform"},{provide:o0,useValue:()=>hd=null},...e]})}(_,o))}return function UD(e){const t=av();if(!t)throw new Ae(401,"");return t}()}}function av(){var e;return null!==(e=null==hd?void 0:hd.get(l0))&&void 0!==e?e:null}let l0=(()=>{class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,o){const _=function HD(e,t){let i;return i="noop"===e?new xD:("zone.js"===e?void 0:e)||new zo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),i}(o?o.ngZone:void 0,{ngZoneEventCoalescing:o&&o.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:o&&o.ngZoneRunCoalescing||!1}),E=[{provide:zo,useValue:_}];return _.run(()=>{const b=so.create({providers:E,parent:this.injector,name:i.moduleType.name}),S=i.create(b),O=S.injector.get(Js,null);if(!O)throw new Ae(402,"");return _.runOutsideAngular(()=>{const U=_.onError.subscribe({next:Z=>{O.handleError(Z)}});S.onDestroy(()=>{uv(this._modules,S),U.unsubscribe()})}),function $D(e,t,i){try{const o=i();return Yu(o)?o.catch(l=>{throw t.runOutsideAngular(()=>e.handleError(l)),l}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(O,_,()=>{const U=S.injector.get(ev);return U.runInitializers(),U.donePromise.then(()=>(function Pm(e){ze(e,"Expected localeId to be defined"),"string"==typeof e&&(Mp=e.toLowerCase().replace(/_/g,"-"))}(S.injector.get(nv,Ba)||Ba),this._moduleDoBootstrap(S),S))})})}bootstrapModule(i,o=[]){const l=u0({},o);return function LD(e,t,i){const o=new Uy(i);return Promise.resolve(o)}(0,0,i).then(f=>this.bootstrapModuleFactory(f,l))}_moduleDoBootstrap(i){const o=i.injector.get(lv);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(l=>o.bootstrap(l));else{if(!i.instance.ngDoBootstrap)throw new Ae(403,"");i.instance.ngDoBootstrap(o)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const i=this._injector.get(o0,null);null==i||i(),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(i){return new(i||e)(Pn(so))},e.\u0275prov=Ut({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function u0(e,t){return Array.isArray(t)?t.reduce(u0,e):Object.assign(Object.assign({},e),t)}let lv=(()=>{class e{constructor(i,o,l,f){this._zone=i,this._injector=o,this._exceptionHandler=l,this._initStatus=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new x.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),_=new x.y(E=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{zo.assertNotInAngularZone(),rv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{zo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{b.unsubscribe(),S.unsubscribe()}});this.isStable=(0,re.T)(m,_.pipe((0,ne.B)()))}bootstrap(i,o){if(!this._initStatus.done)throw new Ae(405,"");let l;l=i instanceof fE?i:this._injector.get(Vm).resolveComponentFactory(i),this.componentTypes.push(l.componentType);const f=function BD(e){return e.isBoundToModule}(l)?void 0:this._injector.get(Bf),_=l.create(so.NULL,[],o||l.selector,f),E=_.location.nativeElement,b=_.injector.get(r0,null),S=b&&_.injector.get(OD);return b&&S&&S.registerApplication(E,b),_.onDestroy(()=>{this.detachView(_.hostView),uv(this.components,_),S&&S.unregisterApplication(E)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new Ae(101,"");try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(i))}finally{this._runningTick=!1}}attachView(i){const o=i;this._views.push(o),o.attachToAppRef(this)}detachView(i){const o=i;uv(this._views,o),o.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(wD,[]).concat(this._bootstrapListeners).forEach(l=>l(i))}ngOnDestroy(){this._views.slice().forEach(i=>i.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(i){return new(i||e)(Pn(zo),Pn(so),Pn(Js),Pn(ev))},e.\u0275prov=Ut({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function uv(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}let d0=!0,f0=!1;function GD(){return f0=!0,d0}function zD(){if(f0)throw new Error("Cannot enable prod mode after platform setup.");d0=!1}let ZD=(()=>{class e{}return e.__NG_ELEMENT_ID__=KD,e})();function KD(e){return function YD(e,t,i){if(Ll(e)&&!i){const o=Zn(e.index,t);return new xp(o,o)}return 47&e.type?new xp(t[16],t):null}(Qt(),ve(),16==(16&e))}class m0{constructor(){}supports(t){return od(t)}create(t){return new tw(t)}}const ew=(e,t)=>t;class tw{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ew}forEachItem(t){let i;for(i=this._itHead;null!==i;i=i._next)t(i)}forEachOperation(t){let i=this._itHead,o=this._removalsHead,l=0,f=null;for(;i||o;){const m=!o||i&&i.currentIndex<y0(o,l,f)?i:o,_=y0(m,l,f),E=m.currentIndex;if(m===o)l--,o=o._nextRemoved;else if(i=i._next,null==m.previousIndex)l++;else{f||(f=[]);const b=_-l,S=E-l;if(b!=S){for(let U=0;U<b;U++){const Z=U<f.length?f[U]:f[U]=0,de=Z+U;S<=de&&de<b&&(f[U]=Z+1)}f[m.previousIndex]=S-b}}_!==E&&t(m,_,E)}}forEachPreviousItem(t){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)t(i)}forEachMovedItem(t){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)t(i)}forEachIdentityChange(t){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)t(i)}diff(t){if(null==t&&(t=[]),!od(t))throw new Ae(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let l,f,m,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let _=0;_<this.length;_++)f=t[_],m=this._trackByFn(_,f),null!==i&&Object.is(i.trackById,m)?(o&&(i=this._verifyReinsertion(i,f,m,_)),Object.is(i.item,f)||this._addIdentityChange(i,f)):(i=this._mismatch(i,f,m,_),o=!0),i=i._next}else l=0,function x_(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{const i=e[$u()]();let o;for(;!(o=i.next()).done;)t(o.value)}}(t,_=>{m=this._trackByFn(l,_),null!==i&&Object.is(i.trackById,m)?(o&&(i=this._verifyReinsertion(i,_,m,l)),Object.is(i.item,_)||this._addIdentityChange(i,_)):(i=this._mismatch(i,_,m,l),o=!0),i=i._next,l++}),this.length=l;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,i,o,l){let f;return null===t?f=this._itTail:(f=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._reinsertAfter(t,f,l)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,l))?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._moveAfter(t,f,l)):t=this._addAfter(new nw(i,o),f,l),t}_verifyReinsertion(t,i,o,l){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==f?t=this._reinsertAfter(f,t._prev,l):t.currentIndex!=l&&(t.currentIndex=l,this._addToMoves(t,l)),t}_truncate(t){for(;null!==t;){const i=t._next;this._addToRemovals(this._unlink(t)),t=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,i,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const l=t._prevRemoved,f=t._nextRemoved;return null===l?this._removalsHead=f:l._nextRemoved=f,null===f?this._removalsTail=l:f._prevRemoved=l,this._insertAfter(t,i,o),this._addToMoves(t,o),t}_moveAfter(t,i,o){return this._unlink(t),this._insertAfter(t,i,o),this._addToMoves(t,o),t}_addAfter(t,i,o){return this._insertAfter(t,i,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,i,o){const l=null===i?this._itHead:i._next;return t._next=l,t._prev=i,null===l?this._itTail=t:l._prev=t,null===i?this._itHead=t:i._next=t,null===this._linkedRecords&&(this._linkedRecords=new _0),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const i=t._prev,o=t._next;return null===i?this._itHead=o:i._next=o,null===o?this._itTail=i:o._prev=i,t}_addToMoves(t,i){return t.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _0),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,i){return t.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class nw{constructor(t,i){this.item=t,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rw{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,i){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===i||i<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const i=t._prevDup,o=t._nextDup;return null===i?this._head=o:i._nextDup=o,null===o?this._tail=i:o._prevDup=i,null===this._head}}class _0{constructor(){this.map=new Map}put(t){const i=t.trackById;let o=this.map.get(i);o||(o=new rw,this.map.set(i,o)),o.add(t)}get(t,i){const l=this.map.get(t);return l?l.get(t,i):null}remove(t){const i=t.trackById;return this.map.get(i).remove(t)&&this.map.delete(i),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function y0(e,t,i){const o=e.previousIndex;if(null===o)return o;let l=0;return i&&o<i.length&&(l=i[o]),o+t+l}class v0{constructor(){}supports(t){return t instanceof Map||Yh(t)}create(){return new iw}}class iw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let i;for(i=this._mapHead;null!==i;i=i._next)t(i)}forEachPreviousItem(t){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)t(i)}forEachChangedItem(t){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)t(i)}diff(t){if(t){if(!(t instanceof Map||Yh(t)))throw new Ae(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,l)=>{if(i&&i.key===l)this._maybeAddToChanges(i,o),this._appendAfter=i,i=i._next;else{const f=this._getOrCreateRecordForKey(l,o);i=this._insertBeforeOrAppend(i,f)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let o=i;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,i){if(t){const o=t._prev;return i._next=t,i._prev=o,t._prev=i,o&&(o._next=i),t===this._mapHead&&(this._mapHead=i),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(t,i){if(this._records.has(t)){const l=this._records.get(t);this._maybeAddToChanges(l,i);const f=l._prev,m=l._next;return f&&(f._next=m),m&&(m._prev=f),l._next=null,l._prev=null,l}const o=new sw(t);return this._records.set(t,o),o.currentValue=i,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,i){Object.is(i,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=i,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,i){t instanceof Map?t.forEach(i):Object.keys(t).forEach(o=>i(t[o],o))}}class sw{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function E0(){return new pv([new m0])}let pv=(()=>{class e{constructor(i){this.factories=i}static create(i,o){if(null!=o){const l=o.factories.slice();i=i.concat(l)}return new e(i)}static extend(i){return{provide:e,useFactory:o=>e.create(i,o||E0()),deps:[[e,new We,new Oe]]}}find(i){const o=this.factories.find(l=>l.supports(i));if(null!=o)return o;throw new Ae(901,"")}}return e.\u0275prov=Ut({token:e,providedIn:"root",factory:E0}),e})();function I0(){return new gv([new v0])}let gv=(()=>{class e{constructor(i){this.factories=i}static create(i,o){if(o){const l=o.factories.slice();i=i.concat(l)}return new e(i)}static extend(i){return{provide:e,useFactory:o=>e.create(i,o||I0()),deps:[[e,new We,new Oe]]}}find(i){const o=this.factories.find(f=>f.supports(i));if(o)return o;throw new Ae(901,"")}}return e.\u0275prov=Ut({token:e,providedIn:"root",factory:I0}),e})();const lw=a0(null,"core",[]);let uw=(()=>{class e{constructor(i){}}return e.\u0275fac=function(i){return new(i||e)(Pn(lv))},e.\u0275mod=fe({type:e}),e.\u0275inj=Gn({}),e})()},3942:(Ge,he,P)=>{P.d(he,{Z:()=>Ae});var v=P(2090),q=P(4859),x=P(9681),re=P(1877);class ne{constructor(le,ie){this._delegate=le,this.firebase=ie,(0,x._addComponent)(le,new q.wA("app-compat",()=>this,"PUBLIC")),this.container=le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this._delegate.automaticDataCollectionEnabled=le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(le=>{this._delegate.checkDestroyed(),le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(le,ie=x._DEFAULT_ENTRY_NAME){var we;this._delegate.checkDestroyed();const Pe=this._delegate.container.getProvider(le);return!Pe.isInitialized()&&"EXPLICIT"===(null===(we=Pe.getComponent())||void 0===we?void 0:we.instantiationMode)&&Pe.initialize(),Pe.getImmediate({identifier:ie})}_removeServiceInstance(le,ie=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(le).clearInstance(ie)}_addComponent(le){(0,x._addComponent)(this._delegate,le)}_addOrOverwriteComponent(le){(0,x._addOrOverwriteComponent)(this._delegate,le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new v.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function me(){const Ne=function ae(Ne){const le={},ie={__esModule:!0,initializeApp:function Se(je,ge={}){const V=x.initializeApp(je,ge);if((0,v.r3)(le,V.name))return le[V.name];const K=new Ne(V,ie);return le[V.name]=K,K},app:Pe,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function Ie(je){const ge=je.name,V=ge.replace("-compat","");if(x._registerComponent(je)&&"PUBLIC"===je.type){const K=(te=Pe())=>{if("function"!=typeof te[V])throw ue.create("invalid-app-argument",{appName:ge});return te[V]()};void 0!==je.serviceProps&&(0,v.ZB)(K,je.serviceProps),ie[V]=K,Ne.prototype[V]=function(...te){return this._getService.bind(this,ge).apply(this,je.multipleInstances?te:[])}}return"PUBLIC"===je.type?ie[V]:null},removeApp:function we(je){delete le[je]},useAsService:function Ze(je,ge){return"serverAuth"===ge?null:ge},modularAPIs:x}};function Pe(je){if(!(0,v.r3)(le,je=je||x._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:je});return le[je]}return ie.default=ie,Object.defineProperty(ie,"apps",{get:function Ue(){return Object.keys(le).map(je=>le[je])}}),Pe.App=Ne,ie}(ne);return Ne.INTERNAL=Object.assign(Object.assign({},Ne.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function le(ie){(0,v.ZB)(Ne,ie)},createSubscribe:v.ne,ErrorFactory:v.LL,deepExtend:v.ZB}),Ne}(),H=new re.Yd("@firebase/app-compat");if((0,v.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ne=self.firebase.SDK_VERSION;Ne&&Ne.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=j;!function Me(Ne){(0,x.registerVersion)("@firebase/app-compat","0.2.0",Ne)}()},9681:(Ge,he,P)=>{P.r(he),P.d(he,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>ri,_DEFAULT_ENTRY_NAME:()=>ze,_addComponent:()=>bn,_addOrOverwriteComponent:()=>Ut,_apps:()=>rn,_clearComponents:()=>gr,_components:()=>At,_getProvider:()=>Gn,_registerComponent:()=>pr,_removeServiceInstance:()=>Tn,deleteApp:()=>Xe,getApp:()=>zn,getApps:()=>Ce,initializeApp:()=>rr,onLog:()=>jt,registerVersion:()=>sn,setLogLevel:()=>Ci});var v=P(5861),q=P(4859),x=P(1877),re=P(2090),ne=P(8766);class ce{constructor(pe){this.container=pe}getPlatformInfoString(){return this.container.getProviders().map(xe=>{if(function ue(He){const pe=He.getComponent();return"VERSION"===(null==pe?void 0:pe.type)}(xe)){const _t=xe.getImmediate();return`${_t.library}/${_t.version}`}return null}).filter(xe=>xe).join(" ")}}const ae="@firebase/app",j=new x.Yd("@firebase/app"),ze="[DEFAULT]",at={[ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},rn=new Map,At=new Map;function bn(He,pe){try{He.container.addComponent(pe)}catch(xe){j.debug(`Component ${pe.name} failed to register with FirebaseApp ${He.name}`,xe)}}function Ut(He,pe){He.container.addOrOverwriteComponent(pe)}function pr(He){const pe=He.name;if(At.has(pe))return j.debug(`There were multiple attempts to register component ${pe}.`),!1;At.set(pe,He);for(const xe of rn.values())bn(xe,He);return!0}function Gn(He,pe){const xe=He.container.getProvider("heartbeat").getImmediate({optional:!0});return xe&&xe.triggerHeartbeat(),He.container.getProvider(pe)}function Tn(He,pe,xe=ze){Gn(He,pe).clearInstance(xe)}function gr(){At.clear()}const Ft=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ln{constructor(pe,xe,_t){this._isDeleted=!1,this._options=Object.assign({},pe),this._config=Object.assign({},xe),this._name=xe.name,this._automaticDataCollectionEnabled=xe.automaticDataCollectionEnabled,this._container=_t,this.container.addComponent(new q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(pe){this._isDeleted=pe}checkDestroyed(){if(this.isDeleted)throw Ft.create("app-deleted",{appName:this._name})}}const ri="9.15.0";function rr(He,pe={}){let xe=He;"object"!=typeof pe&&(pe={name:pe});const _t=Object.assign({name:ze,automaticDataCollectionEnabled:!1},pe),yt=_t.name;if("string"!=typeof yt||!yt)throw Ft.create("bad-app-name",{appName:String(yt)});if(xe||(xe=(0,re.aH)()),!xe)throw Ft.create("no-options");const Ot=rn.get(yt);if(Ot){if((0,re.vZ)(xe,Ot.options)&&(0,re.vZ)(_t,Ot.config))return Ot;throw Ft.create("duplicate-app",{appName:yt})}const B=new q.H0(yt);for(const $ of At.values())B.addComponent($);const L=new ln(xe,_t,B);return rn.set(yt,L),L}function zn(He=ze){const pe=rn.get(He);if(!pe&&He===ze)return rr();if(!pe)throw Ft.create("no-app",{appName:He});return pe}function Ce(){return Array.from(rn.values())}function Xe(He){return un.apply(this,arguments)}function un(){return(un=(0,v.Z)(function*(He){const pe=He.name;rn.has(pe)&&(rn.delete(pe),yield Promise.all(He.container.getProviders().map(xe=>xe.delete())),He.isDeleted=!0)})).apply(this,arguments)}function sn(He,pe,xe){var _t;let yt=null!==(_t=at[He])&&void 0!==_t?_t:He;xe&&(yt+=`-${xe}`);const Ot=yt.match(/\s|\//),B=pe.match(/\s|\//);if(Ot||B){const L=[`Unable to register library "${yt}" with version "${pe}":`];return Ot&&L.push(`library name "${yt}" contains illegal characters (whitespace or "/")`),Ot&&B&&L.push("and"),B&&L.push(`version name "${pe}" contains illegal characters (whitespace or "/")`),void j.warn(L.join(" "))}pr(new q.wA(`${yt}-version`,()=>({library:yt,version:pe}),"VERSION"))}function jt(He,pe){if(null!==He&&"function"!=typeof He)throw Ft.create("invalid-log-argument");(0,x.Am)(He,pe)}function Ci(He){(0,x.Ub)(He)}const on="firebase-heartbeat-store";let ir=null;function lo(){return ir||(ir=(0,ne.X3)("firebase-heartbeat-database",1,{upgrade:(He,pe)=>{0===pe&&He.createObjectStore(on)}}).catch(He=>{throw Ft.create("idb-open",{originalErrorMessage:He.message})})),ir}function Qe(){return(Qe=(0,v.Z)(function*(He){try{return(yield lo()).transaction(on).objectStore(on).get(sr(He))}catch(pe){if(pe instanceof re.ZR)j.warn(pe.message);else{const xe=Ft.create("idb-get",{originalErrorMessage:null==pe?void 0:pe.message});j.warn(xe.message)}}})).apply(this,arguments)}function tt(He,pe){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,v.Z)(function*(He,pe){try{const _t=(yield lo()).transaction(on,"readwrite");return yield _t.objectStore(on).put(pe,sr(He)),_t.done}catch(xe){if(xe instanceof re.ZR)j.warn(xe.message);else{const _t=Ft.create("idb-set",{originalErrorMessage:null==xe?void 0:xe.message});j.warn(_t.message)}}})).apply(this,arguments)}function sr(He){return`${He.name}!${He.options.appId}`}class Rt{constructor(pe){this.container=pe,this._heartbeatsCache=null;const xe=this.container.getProvider("app").getImmediate();this._storage=new ii(xe),this._heartbeatsCachePromise=this._storage.read().then(_t=>(this._heartbeatsCache=_t,_t))}triggerHeartbeat(){var pe=this;return(0,v.Z)(function*(){const _t=pe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),yt=or();if(null===pe._heartbeatsCache&&(pe._heartbeatsCache=yield pe._heartbeatsCachePromise),pe._heartbeatsCache.lastSentHeartbeatDate!==yt&&!pe._heartbeatsCache.heartbeats.some(Ot=>Ot.date===yt))return pe._heartbeatsCache.heartbeats.push({date:yt,agent:_t}),pe._heartbeatsCache.heartbeats=pe._heartbeatsCache.heartbeats.filter(Ot=>{const B=new Date(Ot.date).valueOf();return Date.now()-B<=2592e6}),pe._storage.overwrite(pe._heartbeatsCache)})()}getHeartbeatsHeader(){var pe=this;return(0,v.Z)(function*(){if(null===pe._heartbeatsCache&&(yield pe._heartbeatsCachePromise),null===pe._heartbeatsCache||0===pe._heartbeatsCache.heartbeats.length)return"";const xe=or(),{heartbeatsToSend:_t,unsentEntries:yt}=function et(He,pe=1024){const xe=[];let _t=He.slice();for(const yt of He){const Ot=xe.find(B=>B.agent===yt.agent);if(Ot){if(Ot.dates.push(yt.date),lt(xe)>pe){Ot.dates.pop();break}}else if(xe.push({agent:yt.agent,dates:[yt.date]}),lt(xe)>pe){xe.pop();break}_t=_t.slice(1)}return{heartbeatsToSend:xe,unsentEntries:_t}}(pe._heartbeatsCache.heartbeats),Ot=(0,re.L)(JSON.stringify({version:2,heartbeats:_t}));return pe._heartbeatsCache.lastSentHeartbeatDate=xe,yt.length>0?(pe._heartbeatsCache.heartbeats=yt,yield pe._storage.overwrite(pe._heartbeatsCache)):(pe._heartbeatsCache.heartbeats=[],pe._storage.overwrite(pe._heartbeatsCache)),Ot})()}}function or(){return(new Date).toISOString().substring(0,10)}class ii{constructor(pe){this.app=pe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,v.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var pe=this;return(0,v.Z)(function*(){return(yield pe._canUseIndexedDBPromise)&&(yield function xt(He){return Qe.apply(this,arguments)}(pe.app))||{heartbeats:[]}})()}overwrite(pe){var xe=this;return(0,v.Z)(function*(){var _t;if(yield xe._canUseIndexedDBPromise){const Ot=yield xe.read();return tt(xe.app,{lastSentHeartbeatDate:null!==(_t=pe.lastSentHeartbeatDate)&&void 0!==_t?_t:Ot.lastSentHeartbeatDate,heartbeats:pe.heartbeats})}})()}add(pe){var xe=this;return(0,v.Z)(function*(){var _t;if(yield xe._canUseIndexedDBPromise){const Ot=yield xe.read();return tt(xe.app,{lastSentHeartbeatDate:null!==(_t=pe.lastSentHeartbeatDate)&&void 0!==_t?_t:Ot.lastSentHeartbeatDate,heartbeats:[...Ot.heartbeats,...pe.heartbeats]})}})()}}function lt(He){return(0,re.L)(JSON.stringify({version:2,heartbeats:He})).length}!function Ar(He){pr(new q.wA("platform-logger",pe=>new ce(pe),"PRIVATE")),pr(new q.wA("heartbeat",pe=>new Rt(pe),"PRIVATE")),sn(ae,"0.9.0",He),sn(ae,"0.9.0","esm2017"),sn("fire-js","")}("")},4859:(Ge,he,P)=>{P.d(he,{H0:()=>ae,wA:()=>x,zt:()=>ne});var v=P(5861),q=P(2090);class x{constructor(j,H,ee){this.name=j,this.instanceFactory=H,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const re="[DEFAULT]";class ne{constructor(j,H){this.name=j,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const H=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(H)){const ee=new q.BH;if(this.instancesDeferred.set(H,ee),this.isInitialized(H)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:H});$e&&ee.resolve($e)}catch($e){}}return this.instancesDeferred.get(H).promise}getImmediate(j){var H;const ee=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),$e=null!==(H=null==j?void 0:j.optional)&&void 0!==H&&H;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Me){if($e)return null;throw Me}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function ue(me){return"EAGER"===me.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:re})}catch(H){}for(const[H,ee]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(H);try{const Me=this.getOrInitializeService({instanceIdentifier:$e});ee.resolve(Me)}catch(Me){}}}}clearInstance(j=re){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,v.Z)(function*(){const H=Array.from(j.instances.values());yield Promise.all([...H.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...H.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=re){return this.instances.has(j)}getOptions(j=re){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:H={}}=j,ee=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:ee,options:H});for(const[Me,Ae]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Me)&&Ae.resolve($e);return $e}onInit(j,H){var ee;const $e=this.normalizeInstanceIdentifier(H),Me=null!==(ee=this.onInitCallbacks.get($e))&&void 0!==ee?ee:new Set;Me.add(j),this.onInitCallbacks.set($e,Me);const Ae=this.instances.get($e);return Ae&&j(Ae,$e),()=>{Me.delete(j)}}invokeOnInitCallbacks(j,H){const ee=this.onInitCallbacks.get(H);if(ee)for(const $e of ee)try{$e(j,H)}catch(Me){}}getOrInitializeService({instanceIdentifier:j,options:H={}}){let ee=this.instances.get(j);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(me=j,me===re?void 0:me),options:H}),this.instances.set(j,ee),this.instancesOptions.set(j,H),this.invokeOnInitCallbacks(ee,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,ee)}catch($e){}var me;return ee||null}normalizeInstanceIdentifier(j=re){return this.component?this.component.multipleInstances?j:re:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ae{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const H=this.getProvider(j.name);if(H.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);H.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const H=new ne(j,this);return this.providers.set(j,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(Ge,he,P)=>{P.d(he,{Am:()=>me,Ub:()=>ae,Yd:()=>ue,in:()=>q});const v=[];var q=(()=>{return(j=q||(q={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",q;var j})();const x={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},re=q.INFO,ne={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},ce=(j,H,...ee)=>{if(H<j.logLevel)return;const $e=(new Date).toISOString(),Me=ne[H];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Me](`[${$e}]  ${j.name}:`,...ee)};class ue{constructor(H){this.name=H,this._logLevel=re,this._logHandler=ce,this._userLogHandler=null,v.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in q))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?x[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...H),this._logHandler(this,q.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...H),this._logHandler(this,q.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,q.INFO,...H),this._logHandler(this,q.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,q.WARN,...H),this._logHandler(this,q.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...H),this._logHandler(this,q.ERROR,...H)}}function ae(j){v.forEach(H=>{H.setLogLevel(j)})}function me(j,H){for(const ee of v){let $e=null;H&&H.level&&($e=x[H.level]),ee.userLogHandler=null===j?null:(Me,Ae,...Ne)=>{const le=Ne.map(ie=>{if(null==ie)return null;if("string"==typeof ie)return ie;if("number"==typeof ie||"boolean"==typeof ie)return ie.toString();if(ie instanceof Error)return ie.message;try{return JSON.stringify(ie)}catch(we){return null}}).filter(ie=>ie).join(" ");Ae>=(null!=$e?$e:Me.logLevel)&&j({level:q[Ae].toLowerCase(),message:le,args:Ne,type:Me.name})}}}},259:(Ge,he,P)=>{P.d(he,{C6:()=>v.getApps,Mq:()=>v.getApp});var v=P(9681);(0,v.registerVersion)("firebase","9.15.0","app")},9260:(Ge,he,P)=>{P.d(he,{Z:()=>v.Z});var v=P(3942);v.Z.registerVersion("firebase","9.15.0","app-compat")},8852:(Ge,he,P)=>{P.r(he);var v=P(5861),q=P(3942),x=P(2090),re=P(9681),ne=P(1877);function me(h,u){var c={};for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&u.indexOf(g)<0&&(c[g]=h[g]);if(null!=h&&"function"==typeof Object.getOwnPropertySymbols){var D=0;for(g=Object.getOwnPropertySymbols(h);D<g.length;D++)u.indexOf(g[D])<0&&Object.prototype.propertyIsEnumerable.call(h,g[D])&&(c[g[D]]=h[g[D]])}return c}var it=P(4859);const Ut=function At(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},pr=function bn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Gn=new x.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),gr=new ne.Yd("@firebase/auth");function mr(h,...u){gr.logLevel<=ne.in.ERROR&&gr.error(`Auth (${re.SDK_VERSION}): ${h}`,...u)}function Ft(h,...u){throw zn(h,...u)}function ln(h,...u){return zn(h,...u)}function ri(h,u,c){const g=Object.assign(Object.assign({},pr()),{[u]:c});return new x.LL("auth","Firebase",g).create(u,{appName:h.name})}function rr(h,u,c){if(!(u instanceof c))throw c.name!==u.constructor.name&&Ft(h,"argument-error"),ri(h,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zn(h,...u){if("string"!=typeof h){const c=u[0],g=[...u.slice(1)];return g[0]&&(g[0].appName=h.name),h._errorFactory.create(c,...g)}return Gn.create(h,...u)}function Ce(h,u,...c){if(!h)throw zn(u,...c)}function Xe(h){const u="INTERNAL ASSERTION FAILED: "+h;throw mr(u),new Error(u)}function un(h,u){h||Xe(u)}const sn=new Map;function jt(h){un(h instanceof Function,"Expected a class definition");let u=sn.get(h);return u?(un(u instanceof h,"Instance stored in cache mismatched with class"),u):(u=new h,sn.set(h,u),u)}function An(){var h;return"undefined"!=typeof self&&(null===(h=self.location)||void 0===h?void 0:h.href)||""}function on(){return"http:"===ir()||"https:"===ir()}function ir(){var h;return"undefined"!=typeof self&&(null===(h=self.location)||void 0===h?void 0:h.protocol)||null}class Qe{constructor(u,c){this.shortDelay=u,this.longDelay=c,un(c>u,"Short delay should be less than long delay!"),this.isMobile=(0,x.uI)()||(0,x.b$)()}get(){return function lo(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(on()||(0,x.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tt(h,u){un(h.emulator,"Emulator should always be set here");const{url:c}=h.emulator;return u?`${c}${u.startsWith("/")?u.slice(1):u}`:c}class Ti{static initialize(u,c,g){this.fetchImpl=u,c&&(this.headersImpl=c),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Xe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Xe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Xe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ct=new Qe(3e4,6e4);function Wt(h,u){return h.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:h.tenantId}):u}function Rt(h,u,c,g){return or.apply(this,arguments)}function or(){return(or=(0,v.Z)(function*(h,u,c,g,D={}){return et(h,D,(0,v.Z)(function*(){let T={},F={};g&&("GET"===u?F=g:T={body:JSON.stringify(g)});const Q=(0,x.xO)(Object.assign({key:h.config.apiKey},F)).slice(1),be=yield h._getAdditionalHeaders();return be["Content-Type"]="application/json",h.languageCode&&(be["X-Firebase-Locale"]=h.languageCode),Ti.fetch()(He(h,h.config.apiHost,c,Q),Object.assign({method:u,headers:be,referrerPolicy:"no-referrer"},T))}))})).apply(this,arguments)}function et(h,u,c){return ii.apply(this,arguments)}function ii(){return(ii=(0,v.Z)(function*(h,u,c){h._canInitEmulator=!1;const g=Object.assign(Object.assign({},sr),u);try{const D=new pe(h),T=yield Promise.race([c(),D.promise]);D.clearNetworkTimeout();const F=yield T.json();if("needConfirmation"in F)throw xe(h,"account-exists-with-different-credential",F);if(T.ok&&!("errorMessage"in F))return F;{const Q=T.ok?F.errorMessage:F.error.message,[be,_e]=Q.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===be)throw xe(h,"credential-already-in-use",F);if("EMAIL_EXISTS"===be)throw xe(h,"email-already-in-use",F);if("USER_DISABLED"===be)throw xe(h,"user-disabled",F);const Be=g[be]||be.toLowerCase().replace(/[_\s]+/g,"-");if(_e)throw ri(h,Be,_e);Ft(h,Be)}}catch(D){if(D instanceof x.ZR)throw D;Ft(h,"network-request-failed")}})).apply(this,arguments)}function lt(h,u,c,g){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,v.Z)(function*(h,u,c,g,D={}){const T=yield Rt(h,u,c,g,D);return"mfaPendingCredential"in T&&Ft(h,"multi-factor-auth-required",{_serverResponse:T}),T})).apply(this,arguments)}function He(h,u,c,g){const D=`${u}${c}?${g}`;return h.config.emulator?tt(h.config,D):`${h.config.apiScheme}://${D}`}class pe{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((c,g)=>{this.timer=setTimeout(()=>g(ln(this.auth,"network-request-failed")),Ct.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xe(h,u,c){const g={appName:h.name};c.email&&(g.email=c.email),c.phoneNumber&&(g.phoneNumber=c.phoneNumber);const D=ln(h,u,g);return D.customData._tokenResponse=c,D}function yt(){return(yt=(0,v.Z)(function*(h,u){return Rt(h,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function Ot(h,u){return B.apply(this,arguments)}function B(){return(B=(0,v.Z)(function*(h,u){return Rt(h,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function L(h,u){return $.apply(this,arguments)}function $(){return($=(0,v.Z)(function*(h,u){return Rt(h,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function fe(h){if(h)try{const u=new Date(Number(h));if(!isNaN(u.getTime()))return u.toUTCString()}catch(u){}}function ut(){return(ut=(0,v.Z)(function*(h,u=!1){const c=(0,x.m9)(h),g=yield c.getIdToken(u),D=Tt(g);Ce(D&&D.exp&&D.auth_time&&D.iat,c.auth,"internal-error");const T="object"==typeof D.firebase?D.firebase:void 0,F=null==T?void 0:T.sign_in_provider;return{claims:D,token:g,authTime:fe(Bt(D.auth_time)),issuedAtTime:fe(Bt(D.iat)),expirationTime:fe(Bt(D.exp)),signInProvider:F||null,signInSecondFactor:(null==T?void 0:T.sign_in_second_factor)||null}})).apply(this,arguments)}function Bt(h){return 1e3*Number(h)}function Tt(h){const[u,c,g]=h.split(".");if(void 0===u||void 0===c||void 0===g)return mr("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,x.tV)(c);return D?JSON.parse(D):(mr("Failed to decode base64 JWT payload"),null)}catch(D){return mr("Caught error parsing JWT payload as JSON",null==D?void 0:D.toString()),null}}function Kt(h,u){return st.apply(this,arguments)}function st(){return(st=(0,v.Z)(function*(h,u,c=!1){if(c)return u;try{return yield u}catch(g){throw g instanceof x.ZR&&Sn(g)&&h.auth.currentUser===h&&(yield h.auth.signOut()),g}})).apply(this,arguments)}function Sn({code:h}){return"auth/user-disabled"===h||"auth/user-token-expired"===h}class Xi{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var c;if(u){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const D=(null!==(c=this.user.stsTokenManager.expirationTime)&&void 0!==c?c:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(u=!1){var c=this;if(!this.isRunning)return;const g=this.getInterval(u);this.timerId=setTimeout((0,v.Z)(function*(){yield c.iteration()}),g)}iteration(){var u=this;return(0,v.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(c){return void("auth/network-request-failed"===(null==c?void 0:c.code)&&u.schedule(!0))}u.schedule()})()}}class zr{constructor(u,c){this.createdAt=u,this.lastLoginAt=c,this._initializeTime()}_initializeTime(){this.lastSignInTime=fe(this.lastLoginAt),this.creationTime=fe(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function si(h){return oi.apply(this,arguments)}function oi(){return(oi=(0,v.Z)(function*(h){var u;const c=h.auth,g=yield h.getIdToken(),D=yield Kt(h,L(c,{idToken:g}));Ce(null==D?void 0:D.users.length,c,"internal-error");const T=D.users[0];h._notifyReloadListener(T);const F=(null===(u=T.providerUserInfo)||void 0===u?void 0:u.length)?Le(T.providerUserInfo):[],Q=ar(h.providerData,F),Be=!!h.isAnonymous&&!(h.email&&T.passwordHash||(null==Q?void 0:Q.length)),Ye={uid:T.localId,displayName:T.displayName||null,photoURL:T.photoUrl||null,email:T.email||null,emailVerified:T.emailVerified||!1,phoneNumber:T.phoneNumber||null,tenantId:T.tenantId||null,providerData:Q,metadata:new zr(T.createdAt,T.lastLoginAt),isAnonymous:Be};Object.assign(h,Ye)})).apply(this,arguments)}function es(){return(es=(0,v.Z)(function*(h){const u=(0,x.m9)(h);yield si(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function ar(h,u){return[...h.filter(g=>!u.some(D=>D.providerId===g.providerId)),...u]}function Le(h){return h.map(u=>{var{providerId:c}=u,g=me(u,["providerId"]);return{providerId:c,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}function Vt(){return(Vt=(0,v.Z)(function*(h,u){const c=yield et(h,{},(0,v.Z)(function*(){const g=(0,x.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:D,apiKey:T}=h.config,F=He(h,D,"/v1/token",`key=${T}`),Q=yield h._getAdditionalHeaders();return Q["Content-Type"]="application/x-www-form-urlencoded",Ti.fetch()(F,{method:"POST",headers:Q,body:g})}));return{accessToken:c.access_token,expiresIn:c.expires_in,refreshToken:c.refresh_token}})).apply(this,arguments)}class On{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){Ce(u.idToken,"internal-error"),Ce(void 0!==u.idToken,"internal-error"),Ce(void 0!==u.refreshToken,"internal-error");const c="expiresIn"in u&&void 0!==u.expiresIn?Number(u.expiresIn):function Jt(h){const u=Tt(h);return Ce(u,"internal-error"),Ce(void 0!==u.exp,"internal-error"),Ce(void 0!==u.iat,"internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,c)}getToken(u,c=!1){var g=this;return(0,v.Z)(function*(){return Ce(!g.accessToken||g.refreshToken,u,"user-token-expired"),c||!g.accessToken||g.isExpired?g.refreshToken?(yield g.refresh(u,g.refreshToken),g.accessToken):null:g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,c){var g=this;return(0,v.Z)(function*(){const{accessToken:D,refreshToken:T,expiresIn:F}=yield function Et(h,u){return Vt.apply(this,arguments)}(u,c);g.updateTokensAndExpiration(D,T,Number(F))})()}updateTokensAndExpiration(u,c,g){this.refreshToken=c||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(u,c){const{refreshToken:g,accessToken:D,expirationTime:T}=c,F=new On;return g&&(Ce("string"==typeof g,"internal-error",{appName:u}),F.refreshToken=g),D&&(Ce("string"==typeof D,"internal-error",{appName:u}),F.accessToken=D),T&&(Ce("number"==typeof T,"internal-error",{appName:u}),F.expirationTime=T),F}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new On,this.toJSON())}_performRefresh(){return Xe("not implemented")}}function Vn(h,u){Ce("string"==typeof h||void 0===h,"internal-error",{appName:u})}class Yt{constructor(u){var{uid:c,auth:g,stsTokenManager:D}=u,T=me(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=c,this.auth=g,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=T.displayName||null,this.email=T.email||null,this.emailVerified=T.emailVerified||!1,this.phoneNumber=T.phoneNumber||null,this.photoURL=T.photoURL||null,this.isAnonymous=T.isAnonymous||!1,this.tenantId=T.tenantId||null,this.providerData=T.providerData?[...T.providerData]:[],this.metadata=new zr(T.createdAt||void 0,T.lastLoginAt||void 0)}getIdToken(u){var c=this;return(0,v.Z)(function*(){const g=yield Kt(c,c.stsTokenManager.getToken(c.auth,u));return Ce(g,c.auth,"internal-error"),c.accessToken!==g&&(c.accessToken=g,yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)),g})()}getIdTokenResult(u){return function Ke(h){return ut.apply(this,arguments)}(this,u)}reload(){return function Bn(h){return es.apply(this,arguments)}(this)}_assign(u){this!==u&&(Ce(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(c=>Object.assign({},c)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){return new Yt(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(u){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,c=!1){var g=this;return(0,v.Z)(function*(){let D=!1;u.idToken&&u.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(u),D=!0),c&&(yield si(g)),yield g.auth._persistUserIfCurrent(g),D&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var u=this;return(0,v.Z)(function*(){const c=yield u.getIdToken();return yield Kt(u,function _t(h,u){return yt.apply(this,arguments)}(u.auth,{idToken:c})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,c){var g,D,T,F,Q,be,_e,Be;const Ye=null!==(g=c.displayName)&&void 0!==g?g:void 0,bt=null!==(D=c.email)&&void 0!==D?D:void 0,dt=null!==(T=c.phoneNumber)&&void 0!==T?T:void 0,Wn=null!==(F=c.photoURL)&&void 0!==F?F:void 0,Qs=null!==(Q=c.tenantId)&&void 0!==Q?Q:void 0,Js=null!==(be=c._redirectEventId)&&void 0!==be?be:void 0,Wc=null!==(_e=c.createdAt)&&void 0!==_e?_e:void 0,xu=null!==(Be=c.lastLoginAt)&&void 0!==Be?Be:void 0,{uid:vs,emailVerified:Gc,isAnonymous:Es,providerData:wl,stsTokenManager:$o}=c;Ce(vs&&$o,u,"internal-error");const Bd=On.fromJSON(this.name,$o);Ce("string"==typeof vs,u,"internal-error"),Vn(Ye,u.name),Vn(bt,u.name),Ce("boolean"==typeof Gc,u,"internal-error"),Ce("boolean"==typeof Es,u,"internal-error"),Vn(dt,u.name),Vn(Wn,u.name),Vn(Qs,u.name),Vn(Js,u.name),Vn(Wc,u.name),Vn(xu,u.name);const Aa=new Yt({uid:vs,auth:u,email:bt,emailVerified:Gc,displayName:Ye,isAnonymous:Es,photoURL:Wn,phoneNumber:dt,tenantId:Qs,stsTokenManager:Bd,createdAt:Wc,lastLoginAt:xu});return wl&&Array.isArray(wl)&&(Aa.providerData=wl.map(ih=>Object.assign({},ih))),Js&&(Aa._redirectEventId=Js),Aa}static _fromIdTokenResponse(u,c,g=!1){return(0,v.Z)(function*(){const D=new On;D.updateFromServerResponse(c);const T=new Yt({uid:c.localId,auth:u,stsTokenManager:D,isAnonymous:g});return yield si(T),T})()}}const kt=(()=>{class h{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,v.Z)(function*(){return!0})()}_set(c,g){var D=this;return(0,v.Z)(function*(){D.storage[c]=g})()}_get(c){var g=this;return(0,v.Z)(function*(){const D=g.storage[c];return void 0===D?null:D})()}_remove(c){var g=this;return(0,v.Z)(function*(){delete g.storage[c]})()}_addListener(c,g){}_removeListener(c,g){}}return h.type="NONE",h})();function _r(h,u,c){return`firebase:${h}:${u}:${c}`}class Xt{constructor(u,c,g){this.persistence=u,this.auth=c,this.userKey=g;const{config:D,name:T}=this.auth;this.fullUserKey=_r(this.userKey,D.apiKey,T),this.fullPersistenceKey=_r("persistence",D.apiKey,T),this.boundEventHandler=c._onStorageEvent.bind(c),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,v.Z)(function*(){const c=yield u.persistence._get(u.fullUserKey);return c?Yt._fromJSON(u.auth,c):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var c=this;return(0,v.Z)(function*(){if(c.persistence===u)return;const g=yield c.getCurrentUser();return yield c.removeCurrentUser(),c.persistence=u,g?c.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,c,g="authUser"){return(0,v.Z)(function*(){if(!c.length)return new Xt(jt(kt),u,g);const D=(yield Promise.all(c.map(function(){var _e=(0,v.Z)(function*(Be){if(yield Be._isAvailable())return Be});return function(Be){return _e.apply(this,arguments)}}()))).filter(_e=>_e);let T=D[0]||jt(kt);const F=_r(g,u.config.apiKey,u.name);let Q=null;for(const _e of c)try{const Be=yield _e._get(F);if(Be){const Ye=Yt._fromJSON(u,Be);_e!==T&&(Q=Ye),T=_e;break}}catch(Be){}const be=D.filter(_e=>_e._shouldAllowMigration);return T._shouldAllowMigration&&be.length?(T=be[0],Q&&(yield T._set(F,Q.toJSON())),yield Promise.all(c.map(function(){var _e=(0,v.Z)(function*(Be){if(Be!==T)try{yield Be._remove(F)}catch(Ye){}});return function(Be){return _e.apply(this,arguments)}}())),new Xt(T,u,g)):new Xt(T,u,g)})()}}function ft(h){const u=h.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(ts(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(uo(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(Ts(u))return"Blackberry";if(As(u))return"Webos";if(Si(u))return"Safari";if((u.includes("chrome/")||co(u))&&!u.includes("edge/"))return"Chrome";if(pn(u))return"Android";{const g=h.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==g?void 0:g.length))return g[1]}return"Other"}function uo(h=(0,x.z$)()){return/firefox\//i.test(h)}function Si(h=(0,x.z$)()){const u=h.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function co(h=(0,x.z$)()){return/crios\//i.test(h)}function ts(h=(0,x.z$)()){return/iemobile/i.test(h)}function pn(h=(0,x.z$)()){return/android/i.test(h)}function Ts(h=(0,x.z$)()){return/blackberry/i.test(h)}function As(h=(0,x.z$)()){return/webos/i.test(h)}function Mn(h=(0,x.z$)()){return/iphone|ipad|ipod/i.test(h)||/macintosh/i.test(h)&&/mobile/i.test(h)}function yr(h=(0,x.z$)()){return Mn(h)||pn(h)||As(h)||Ts(h)||/windows phone/i.test(h)||ts(h)}function Va(h,u=[]){let c;switch(h){case"Browser":c=ft((0,x.z$)());break;case"Worker":c=`${ft((0,x.z$)())}-${h}`;break;default:c=h}const g=u.length?u.join(","):"FirebaseCore-web";return`${c}/JsCore/${re.SDK_VERSION}/${g}`}class Ll{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,c){const g=T=>new Promise((F,Q)=>{try{F(u(T))}catch(be){Q(be)}});g.onAbort=c,this.queue.push(g);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(u){var c=this;return(0,v.Z)(function*(){if(c.auth.currentUser===u)return;const g=[];try{for(const D of c.queue)yield D(u),D.onAbort&&g.push(D.onAbort)}catch(D){g.reverse();for(const T of g)try{T()}catch(F){}throw c.auth._errorFactory.create("login-blocked",{originalMessage:null==D?void 0:D.message})}})()}}class Mi{constructor(u,c,g){this.app=u,this.heartbeatServiceProvider=c,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bl(this),this.idTokenSubscription=new Bl(this),this.beforeStateQueue=new Ll(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(u,c){var g=this;return c&&(this._popupRedirectResolver=jt(c)),this._initializationPromise=this.queue((0,v.Z)(function*(){var D,T;if(!g._deleted&&(g.persistenceManager=yield Xt.create(g,u),!g._deleted)){if(null===(D=g._popupRedirectResolver)||void 0===D?void 0:D._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch(F){}yield g.initializeCurrentUser(c),g.lastNotifiedUid=(null===(T=g.currentUser)||void 0===T?void 0:T.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,v.Z)(function*(){if(u._deleted)return;const c=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||c){if(u.currentUser&&c&&u.currentUser.uid===c.uid)return u._currentUser._assign(c),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(c,!0)}})()}initializeCurrentUser(u){var c=this;return(0,v.Z)(function*(){var g;const D=yield c.assertedPersistence.getCurrentUser();let T=D,F=!1;if(u&&c.config.authDomain){yield c.getOrInitRedirectPersistenceManager();const Q=null===(g=c.redirectUser)||void 0===g?void 0:g._redirectEventId,be=null==T?void 0:T._redirectEventId,_e=yield c.tryRedirectSignIn(u);(!Q||Q===be)&&(null==_e?void 0:_e.user)&&(T=_e.user,F=!0)}if(!T)return c.directlySetCurrentUser(null);if(!T._redirectEventId){if(F)try{yield c.beforeStateQueue.runMiddleware(T)}catch(Q){T=D,c._popupRedirectResolver._overrideRedirectResult(c,()=>Promise.reject(Q))}return T?c.reloadAndSetCurrentUserOrClear(T):c.directlySetCurrentUser(null)}return Ce(c._popupRedirectResolver,c,"argument-error"),yield c.getOrInitRedirectPersistenceManager(),c.redirectUser&&c.redirectUser._redirectEventId===T._redirectEventId?c.directlySetCurrentUser(T):c.reloadAndSetCurrentUserOrClear(T)})()}tryRedirectSignIn(u){var c=this;return(0,v.Z)(function*(){let g=null;try{g=yield c._popupRedirectResolver._completeRedirectFn(c,u,!0)}catch(D){yield c._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(u){var c=this;return(0,v.Z)(function*(){try{yield si(u)}catch(g){if("auth/network-request-failed"!==(null==g?void 0:g.code))return c.directlySetCurrentUser(null)}return c.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function xt(){if("undefined"==typeof navigator)return null;const h=navigator;return h.languages&&h.languages[0]||h.language||null}()}_delete(){var u=this;return(0,v.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var c=this;return(0,v.Z)(function*(){const g=u?(0,x.m9)(u):null;return g&&Ce(g.auth.config.apiKey===c.config.apiKey,c,"invalid-user-token"),c._updateCurrentUser(g&&g._clone(c))})()}_updateCurrentUser(u,c=!1){var g=this;return(0,v.Z)(function*(){if(!g._deleted)return u&&Ce(g.tenantId===u.tenantId,g,"tenant-id-mismatch"),c||(yield g.beforeStateQueue.runMiddleware(u)),g.queue((0,v.Z)(function*(){yield g.directlySetCurrentUser(u),g.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,v.Z)(function*(){return yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0)})()}setPersistence(u){var c=this;return this.queue((0,v.Z)(function*(){yield c.assertedPersistence.setPersistence(jt(u))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new x.LL("auth","Firebase",u())}onAuthStateChanged(u,c,g){return this.registerStateListener(this.authStateSubscription,u,c,g)}beforeAuthStateChanged(u,c){return this.beforeStateQueue.pushCallback(u,c)}onIdTokenChanged(u,c,g){return this.registerStateListener(this.idTokenSubscription,u,c,g)}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,c){var g=this;return(0,v.Z)(function*(){const D=yield g.getOrInitRedirectPersistenceManager(c);return null===u?D.removeCurrentUser():D.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var c=this;return(0,v.Z)(function*(){if(!c.redirectPersistenceManager){const g=u&&jt(u)||c._popupRedirectResolver;Ce(g,c,"argument-error"),c.redirectPersistenceManager=yield Xt.create(c,[jt(g._redirectPersistence)],"redirectUser"),c.redirectUser=yield c.redirectPersistenceManager.getCurrentUser()}return c.redirectPersistenceManager})()}_redirectUserForId(u){var c=this;return(0,v.Z)(function*(){var g,D;return c._isInitialized&&(yield c.queue((0,v.Z)(function*(){}))),(null===(g=c._currentUser)||void 0===g?void 0:g._redirectEventId)===u?c._currentUser:(null===(D=c.redirectUser)||void 0===D?void 0:D._redirectEventId)===u?c.redirectUser:null})()}_persistUserIfCurrent(u){var c=this;return(0,v.Z)(function*(){if(u===c.currentUser)return c.queue((0,v.Z)(function*(){return c.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,c;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(c=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==c?c:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,c,g,D){if(this._deleted)return()=>{};const T="function"==typeof c?c:c.next.bind(c),F=this._isInitialized?Promise.resolve():this._initializationPromise;return Ce(F,this,"internal-error"),F.then(()=>T(this.currentUser)),"function"==typeof c?u.addObserver(c,g,D):u.addObserver(c)}directlySetCurrentUser(u){var c=this;return(0,v.Z)(function*(){c.currentUser&&c.currentUser!==u&&c._currentUser._stopProactiveRefresh(),u&&c.isProactiveRefreshEnabled&&u._startProactiveRefresh(),c.currentUser=u,u?yield c.assertedPersistence.setCurrentUser(u):yield c.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=Va(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,v.Z)(function*(){var c;const g={"X-Client-Version":u.clientVersion};u.app.options.appId&&(g["X-Firebase-gmpid"]=u.app.options.appId);const D=yield null===(c=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===c?void 0:c.getHeartbeatsHeader();return D&&(g["X-Firebase-Client"]=D),g})()}}function Ht(h){return(0,x.m9)(h)}class Bl{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,x.ne)(c=>this.observer=c)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function nc(h){const u=h.indexOf(":");return u<0?"":h.substr(0,u+1)}function rc(h){if(!h)return null;const u=Number(h);return isNaN(u)?null:u}class ho{constructor(u,c){this.providerId=u,this.signInMethod=c}toJSON(){return Xe("not implemented")}_getIdTokenResponse(u){return Xe("not implemented")}_linkToIdToken(u,c){return Xe("not implemented")}_getReauthenticationResolver(u){return Xe("not implemented")}}function ic(h,u){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,v.Z)(function*(h,u){return Rt(h,"POST","/v1/accounts:resetPassword",Wt(h,u))})).apply(this,arguments)}function sc(h,u){return po.apply(this,arguments)}function po(){return(po=(0,v.Z)(function*(h,u){return Rt(h,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Ss(h,u){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,v.Z)(function*(h,u){return Rt(h,"POST","/v1/accounts:update",Wt(h,u))})).apply(this,arguments)}function jl(){return(jl=(0,v.Z)(function*(h,u){return lt(h,"POST","/v1/accounts:signInWithPassword",Wt(h,u))})).apply(this,arguments)}function Ua(h,u){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,v.Z)(function*(h,u){return Rt(h,"POST","/v1/accounts:sendOobCode",Wt(h,u))})).apply(this,arguments)}function yd(h,u){return ja.apply(this,arguments)}function ja(){return(ja=(0,v.Z)(function*(h,u){return Ua(h,u)})).apply(this,arguments)}function go(h,u){return $l.apply(this,arguments)}function $l(){return($l=(0,v.Z)(function*(h,u){return Ua(h,u)})).apply(this,arguments)}function Ha(h,u){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,v.Z)(function*(h,u){return Ua(h,u)})).apply(this,arguments)}function ns(h,u){return mo.apply(this,arguments)}function mo(){return(mo=(0,v.Z)(function*(h,u){return Ua(h,u)})).apply(this,arguments)}function rs(){return(rs=(0,v.Z)(function*(h,u){return lt(h,"POST","/v1/accounts:signInWithEmailLink",Wt(h,u))})).apply(this,arguments)}function Gl(){return(Gl=(0,v.Z)(function*(h,u){return lt(h,"POST","/v1/accounts:signInWithEmailLink",Wt(h,u))})).apply(this,arguments)}class Ms extends ho{constructor(u,c,g,D=null){super("password",g),this._email=u,this._password=c,this._tenantId=D}static _fromEmailAndPassword(u,c){return new Ms(u,c,"password")}static _fromEmailAndCode(u,c,g=null){return new Ms(u,c,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const c="string"==typeof u?JSON.parse(u):u;if((null==c?void 0:c.email)&&(null==c?void 0:c.password)){if("password"===c.signInMethod)return this._fromEmailAndPassword(c.email,c.password);if("emailLink"===c.signInMethod)return this._fromEmailAndCode(c.email,c.password,c.tenantId)}return null}_getIdTokenResponse(u){var c=this;return(0,v.Z)(function*(){switch(c.signInMethod){case"password":return function _d(h,u){return jl.apply(this,arguments)}(u,{returnSecureToken:!0,email:c._email,password:c._password});case"emailLink":return function _o(h,u){return rs.apply(this,arguments)}(u,{email:c._email,oobCode:c._password});default:Ft(u,"internal-error")}})()}_linkToIdToken(u,c){var g=this;return(0,v.Z)(function*(){switch(g.signInMethod){case"password":return sc(u,{idToken:c,returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function oc(h,u){return Gl.apply(this,arguments)}(u,{idToken:c,email:g._email,oobCode:g._password});default:Ft(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function Kr(h,u){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,v.Z)(function*(h,u){return lt(h,"POST","/v1/accounts:signInWithIdp",Wt(h,u))})).apply(this,arguments)}class Yr extends ho{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const c=new Yr(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(c.idToken=u.idToken),u.accessToken&&(c.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(c.nonce=u.nonce),u.pendingToken&&(c.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(c.accessToken=u.oauthToken,c.secret=u.oauthTokenSecret):Ft("argument-error"),c}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const c="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:D}=c,T=me(c,["providerId","signInMethod"]);if(!g||!D)return null;const F=new Yr(g,D);return F.idToken=T.idToken||void 0,F.accessToken=T.accessToken||void 0,F.secret=T.secret,F.nonce=T.nonce,F.pendingToken=T.pendingToken||null,F}_getIdTokenResponse(u){return Kr(u,this.buildRequest())}_linkToIdToken(u,c){const g=this.buildRequest();return g.idToken=c,Kr(u,g)}_getReauthenticationResolver(u){const c=this.buildRequest();return c.autoCreate=!1,Kr(u,c)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const c={};this.idToken&&(c.id_token=this.idToken),this.accessToken&&(c.access_token=this.accessToken),this.secret&&(c.oauth_token_secret=this.secret),c.providerId=this.providerId,this.nonce&&!this.pendingToken&&(c.nonce=this.nonce),u.postBody=(0,x.xO)(c)}return u}}function lr(h,u){return yo.apply(this,arguments)}function yo(){return(yo=(0,v.Z)(function*(h,u){return Rt(h,"POST","/v1/accounts:sendVerificationCode",Wt(h,u))})).apply(this,arguments)}function Zo(){return(Zo=(0,v.Z)(function*(h,u){return lt(h,"POST","/v1/accounts:signInWithPhoneNumber",Wt(h,u))})).apply(this,arguments)}function Zl(){return(Zl=(0,v.Z)(function*(h,u){const c=yield lt(h,"POST","/v1/accounts:signInWithPhoneNumber",Wt(h,u));if(c.temporaryProof)throw xe(h,"account-exists-with-different-credential",c);return c})).apply(this,arguments)}const Kl={USER_NOT_FOUND:"user-not-found"};function Rr(){return(Rr=(0,v.Z)(function*(h,u){return lt(h,"POST","/v1/accounts:signInWithPhoneNumber",Wt(h,Object.assign(Object.assign({},u),{operation:"REAUTH"})),Kl)})).apply(this,arguments)}class is extends ho{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,c){return new is({verificationId:u,verificationCode:c})}static _fromTokenResponse(u,c){return new is({phoneNumber:u,temporaryProof:c})}_getIdTokenResponse(u){return function ac(h,u){return Zo.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,c){return function zl(h,u){return Zl.apply(this,arguments)}(u,Object.assign({idToken:c},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function Yl(h,u){return Rr.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:c,verificationId:g,verificationCode:D}=this.params;return u&&c?{temporaryProof:u,phoneNumber:c}:{sessionInfo:g,code:D}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:c,verificationCode:g,phoneNumber:D,temporaryProof:T}=u;return g||c||D||T?new is({verificationId:c,verificationCode:g,phoneNumber:D,temporaryProof:T}):null}}class ai{constructor(u){var c,g,D,T,F,Q;const be=(0,x.zd)((0,x.pd)(u)),_e=null!==(c=be.apiKey)&&void 0!==c?c:null,Be=null!==(g=be.oobCode)&&void 0!==g?g:null,Ye=function en(h){switch(h){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=be.mode)&&void 0!==D?D:null);Ce(_e&&Be&&Ye,"argument-error"),this.apiKey=_e,this.operation=Ye,this.code=Be,this.continueUrl=null!==(T=be.continueUrl)&&void 0!==T?T:null,this.languageCode=null!==(F=be.languageCode)&&void 0!==F?F:null,this.tenantId=null!==(Q=be.tenantId)&&void 0!==Q?Q:null}static parseLink(u){const c=function $a(h){const u=(0,x.zd)((0,x.pd)(h)).link,c=u?(0,x.zd)((0,x.pd)(u)).deep_link_id:null,g=(0,x.zd)((0,x.pd)(h)).deep_link_id;return(g?(0,x.zd)((0,x.pd)(g)).link:null)||g||c||u||h}(u);try{return new ai(c)}catch(g){return null}}}let vo=(()=>{class h{constructor(){this.providerId=h.PROVIDER_ID}static credential(c,g){return Ms._fromEmailAndPassword(c,g)}static credentialWithLink(c,g){const D=ai.parseLink(g);return Ce(D,"argument-error"),Ms._fromEmailAndCode(c,D.code,D.tenantId)}}return h.PROVIDER_ID="password",h.EMAIL_PASSWORD_SIGN_IN_METHOD="password",h.EMAIL_LINK_SIGN_IN_METHOD="emailLink",h})();class Pr{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class Nr extends Pr{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class gn extends Nr{static credentialFromJSON(u){const c="string"==typeof u?JSON.parse(u):u;return Ce("providerId"in c&&"signInMethod"in c,"argument-error"),Yr._fromParams(c)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return Ce(u.idToken||u.accessToken,"argument-error"),Yr._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return gn.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return gn.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:c,oauthAccessToken:g,oauthTokenSecret:D,pendingToken:T,nonce:F,providerId:Q}=u;if(!g&&!D&&!c&&!T||!Q)return null;try{return new gn(Q)._credential({idToken:c,accessToken:g,nonce:F,pendingToken:T})}catch(be){return null}}}let ql=(()=>{class h extends Nr{constructor(){super("facebook.com")}static credential(c){return Yr._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.FACEBOOK_SIGN_IN_METHOD,accessToken:c})}static credentialFromResult(c){return h.credentialFromTaggedObject(c)}static credentialFromError(c){return h.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c||!("oauthAccessToken"in c)||!c.oauthAccessToken)return null;try{return h.credential(c.oauthAccessToken)}catch(g){return null}}}return h.FACEBOOK_SIGN_IN_METHOD="facebook.com",h.PROVIDER_ID="facebook.com",h})(),yn=(()=>{class h extends Nr{constructor(){super("google.com"),this.addScope("profile")}static credential(c,g){return Yr._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.GOOGLE_SIGN_IN_METHOD,idToken:c,accessToken:g})}static credentialFromResult(c){return h.credentialFromTaggedObject(c)}static credentialFromError(c){return h.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:g,oauthAccessToken:D}=c;if(!g&&!D)return null;try{return h.credential(g,D)}catch(T){return null}}}return h.GOOGLE_SIGN_IN_METHOD="google.com",h.PROVIDER_ID="google.com",h})(),li=(()=>{class h extends Nr{constructor(){super("github.com")}static credential(c){return Yr._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.GITHUB_SIGN_IN_METHOD,accessToken:c})}static credentialFromResult(c){return h.credentialFromTaggedObject(c)}static credentialFromError(c){return h.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c||!("oauthAccessToken"in c)||!c.oauthAccessToken)return null;try{return h.credential(c.oauthAccessToken)}catch(g){return null}}}return h.GITHUB_SIGN_IN_METHOD="github.com",h.PROVIDER_ID="github.com",h})();class qr extends ho{constructor(u,c){super(u,u),this.pendingToken=c}_getIdTokenResponse(u){return Kr(u,this.buildRequest())}_linkToIdToken(u,c){const g=this.buildRequest();return g.idToken=c,Kr(u,g)}_getReauthenticationResolver(u){const c=this.buildRequest();return c.autoCreate=!1,Kr(u,c)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const c="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:D,pendingToken:T}=c;return g&&D&&T&&g===D?new qr(g,T):null}static _create(u,c){return new qr(u,c)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Rs extends Pr{constructor(u){Ce(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return Rs.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return Rs.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const c=qr.fromJSON(u);return Ce(c,"argument-error"),c}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:c,providerId:g}=u;if(!c||!g)return null;try{return qr._create(g,c)}catch(D){return null}}}let vr=(()=>{class h extends Nr{constructor(){super("twitter.com")}static credential(c,g){return Yr._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.TWITTER_SIGN_IN_METHOD,oauthToken:c,oauthTokenSecret:g})}static credentialFromResult(c){return h.credentialFromTaggedObject(c)}static credentialFromError(c){return h.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthAccessToken:g,oauthTokenSecret:D}=c;if(!g||!D)return null;try{return h.credential(g,D)}catch(T){return null}}}return h.TWITTER_SIGN_IN_METHOD="twitter.com",h.PROVIDER_ID="twitter.com",h})();function ui(h,u){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,v.Z)(function*(h,u){return lt(h,"POST","/v1/accounts:signUp",Wt(h,u))})).apply(this,arguments)}class Je{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,c,g,D=!1){return(0,v.Z)(function*(){const T=yield Yt._fromIdTokenResponse(u,g,D),F=Ps(g);return new Je({user:T,providerId:F,_tokenResponse:g,operationType:c})})()}static _forOperation(u,c,g){return(0,v.Z)(function*(){yield u._updateTokensIfNecessary(g,!0);const D=Ps(g);return new Je({user:u,providerId:D,_tokenResponse:g,operationType:c})})()}}function Ps(h){return h.providerId?h.providerId:"phoneNumber"in h?"phone":null}function Ko(){return(Ko=(0,v.Z)(function*(h){var u;const c=Ht(h);if(yield c._initializationPromise,null===(u=c.currentUser)||void 0===u?void 0:u.isAnonymous)return new Je({user:c.currentUser,providerId:null,operationType:"signIn"});const g=yield ui(c,{returnSecureToken:!0}),D=yield Je._fromIdTokenResponse(c,"signIn",g,!0);return yield c._updateCurrentUser(D.user),D})).apply(this,arguments)}class Ns extends x.ZR{constructor(u,c,g,D){var T;super(c.code,c.message),this.operationType=g,this.user=D,Object.setPrototypeOf(this,Ns.prototype),this.customData={appName:u.name,tenantId:null!==(T=u.tenantId)&&void 0!==T?T:void 0,_serverResponse:c.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(u,c,g,D){return new Ns(u,c,g,D)}}function Wa(h,u,c,g){return("reauthenticate"===u?c._getReauthenticationResolver(h):c._getIdTokenResponse(h)).catch(T=>{throw"auth/multi-factor-auth-required"===T.code?Ns._fromErrorAndOperation(h,T,u,g):T})}function Eo(h){return new Set(h.map(({providerId:u})=>u).filter(u=>!!u))}function xi(){return(xi=(0,v.Z)(function*(h,u){const c=(0,x.m9)(h);yield xs(!0,c,u);const{providerUserInfo:g}=yield Ot(c.auth,{idToken:yield c.getIdToken(),deleteProvider:[u]}),D=Eo(g||[]);return c.providerData=c.providerData.filter(T=>D.has(T.providerId)),D.has("phone")||(c.phoneNumber=null),yield c.auth._persistUserIfCurrent(c),c})).apply(this,arguments)}function ve(h,u){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,v.Z)(function*(h,u,c=!1){const g=yield Kt(h,u._linkToIdToken(h.auth,yield h.getIdToken()),c);return Je._forOperation(h,"link",g)})).apply(this,arguments)}function xs(h,u,c){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,v.Z)(function*(h,u,c){yield si(u);const D=!1===h?"provider-already-linked":"no-such-provider";Ce(Eo(u.providerData).has(c)===h,u.auth,D)})).apply(this,arguments)}function Ga(h,u){return ci.apply(this,arguments)}function ci(){return(ci=(0,v.Z)(function*(h,u,c=!1){const{auth:g}=h,D="reauthenticate";try{const T=yield Kt(h,Wa(g,D,u,h),c);Ce(T.idToken,g,"internal-error");const F=Tt(T.idToken);Ce(F,g,"internal-error");const{sub:Q}=F;return Ce(h.uid===Q,g,"user-mismatch"),Je._forOperation(h,D,T)}catch(T){throw"auth/user-not-found"===(null==T?void 0:T.code)&&Ft(g,"user-mismatch"),T}})).apply(this,arguments)}function xr(h,u){return Io.apply(this,arguments)}function Io(){return(Io=(0,v.Z)(function*(h,u,c=!1){const g="signIn",D=yield Wa(h,g,u),T=yield Je._fromIdTokenResponse(h,g,D);return c||(yield h._updateCurrentUser(T.user)),T})).apply(this,arguments)}function Os(h,u){return za.apply(this,arguments)}function za(){return(za=(0,v.Z)(function*(h,u){return xr(Ht(h),u)})).apply(this,arguments)}function Za(h,u){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,v.Z)(function*(h,u){const c=(0,x.m9)(h);return yield xs(!1,c,u.providerId),ve(c,u)})).apply(this,arguments)}function Oi(h,u){return kn.apply(this,arguments)}function kn(){return(kn=(0,v.Z)(function*(h,u){return Ga((0,x.m9)(h),u)})).apply(this,arguments)}function Qr(h,u){return ks.apply(this,arguments)}function ks(){return(ks=(0,v.Z)(function*(h,u){return lt(h,"POST","/v1/accounts:signInWithCustomToken",Wt(h,u))})).apply(this,arguments)}function ur(){return(ur=(0,v.Z)(function*(h,u){const c=Ht(h),g=yield Qr(c,{token:u,returnSecureToken:!0}),D=yield Je._fromIdTokenResponse(c,"signIn",g);return yield c._updateCurrentUser(D.user),D})).apply(this,arguments)}class Yo{constructor(u,c){this.factorId=u,this.uid=c.mfaEnrollmentId,this.enrollmentTime=new Date(c.enrolledAt).toUTCString(),this.displayName=c.displayName}static _fromServerResponse(u,c){return"phoneInfo"in c?Ls._fromServerResponse(u,c):Ft(u,"internal-error")}}class Ls extends Yo{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,c){return new Ls(c)}}function Do(h,u,c){var g;Ce((null===(g=c.url)||void 0===g?void 0:g.length)>0,h,"invalid-continue-uri"),Ce(void 0===c.dynamicLinkDomain||c.dynamicLinkDomain.length>0,h,"invalid-dynamic-link-domain"),u.continueUrl=c.url,u.dynamicLinkDomain=c.dynamicLinkDomain,u.canHandleCodeInApp=c.handleCodeInApp,c.iOS&&(Ce(c.iOS.bundleId.length>0,h,"missing-ios-bundle-id"),u.iOSBundleId=c.iOS.bundleId),c.android&&(Ce(c.android.packageName.length>0,h,"missing-android-pkg-name"),u.androidInstallApp=c.android.installApp,u.androidMinimumVersionCode=c.android.minimumVersion,u.androidPackageName=c.android.packageName)}function wo(){return(wo=(0,v.Z)(function*(h,u,c){const g=(0,x.m9)(h),D={requestType:"PASSWORD_RESET",email:u};c&&Do(g,D,c),yield go(g,D)})).apply(this,arguments)}function Qo(){return(Qo=(0,v.Z)(function*(h,u,c){yield ic((0,x.m9)(h),{oobCode:u,newPassword:c})})).apply(this,arguments)}function Jo(){return(Jo=(0,v.Z)(function*(h,u){yield Ss((0,x.m9)(h),{oobCode:u})})).apply(this,arguments)}function Xo(h,u){return ss.apply(this,arguments)}function ss(){return(ss=(0,v.Z)(function*(h,u){const c=(0,x.m9)(h),g=yield ic(c,{oobCode:u}),D=g.requestType;switch(Ce(D,c,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ce(g.newEmail,c,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ce(g.mfaInfo,c,"internal-error");default:Ce(g.email,c,"internal-error")}let T=null;return g.mfaInfo&&(T=Yo._fromServerResponse(Ht(c),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:T},operation:D}})).apply(this,arguments)}function Ya(){return(Ya=(0,v.Z)(function*(h,u){const{data:c}=yield Xo((0,x.m9)(h),u);return c.email})).apply(this,arguments)}function Bs(){return(Bs=(0,v.Z)(function*(h,u,c){const g=Ht(h),D=yield ui(g,{returnSecureToken:!0,email:u,password:c}),T=yield Je._fromIdTokenResponse(g,"signIn",D);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}function Co(){return(Co=(0,v.Z)(function*(h,u,c){const g=(0,x.m9)(h),D={requestType:"EMAIL_SIGNIN",email:u};Ce(c.handleCodeInApp,g,"argument-error"),c&&Do(g,D,c),yield Ha(g,D)})).apply(this,arguments)}function an(){return(an=(0,v.Z)(function*(h,u,c){const g=(0,x.m9)(h),D=vo.credentialWithLink(u,c||An());return Ce(D._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),Os(g,D)})).apply(this,arguments)}function eu(h,u){return fc.apply(this,arguments)}function fc(){return(fc=(0,v.Z)(function*(h,u){return Rt(h,"POST","/v1/accounts:createAuthUri",Wt(h,u))})).apply(this,arguments)}function bo(){return(bo=(0,v.Z)(function*(h,u){const g={identifier:u,continueUri:on()?An():"http://localhost"},{signinMethods:D}=yield eu((0,x.m9)(h),g);return D||[]})).apply(this,arguments)}function tu(){return(tu=(0,v.Z)(function*(h,u){const c=(0,x.m9)(h),D={requestType:"VERIFY_EMAIL",idToken:yield h.getIdToken()};u&&Do(c.auth,D,u);const{email:T}=yield yd(c.auth,D);T!==h.email&&(yield h.reload())})).apply(this,arguments)}function To(){return(To=(0,v.Z)(function*(h,u,c){const g=(0,x.m9)(h),T={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield h.getIdToken(),newEmail:u};c&&Do(g.auth,T,c);const{email:F}=yield ns(g.auth,T);F!==h.email&&(yield h.reload())})).apply(this,arguments)}function Ao(h,u){return vn.apply(this,arguments)}function vn(){return(vn=(0,v.Z)(function*(h,u){return Rt(h,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function ru(){return(ru=(0,v.Z)(function*(h,{displayName:u,photoURL:c}){if(void 0===u&&void 0===c)return;const g=(0,x.m9)(h),T={idToken:yield g.getIdToken(),displayName:u,photoUrl:c,returnSecureToken:!0},F=yield Kt(g,Ao(g.auth,T));g.displayName=F.displayName||null,g.photoURL=F.photoUrl||null;const Q=g.providerData.find(({providerId:be})=>"password"===be);Q&&(Q.displayName=g.displayName,Q.photoURL=g.photoURL),yield g._updateTokensIfNecessary(F)})).apply(this,arguments)}function Qa(h,u,c){return iu.apply(this,arguments)}function iu(){return(iu=(0,v.Z)(function*(h,u,c){const{auth:g}=h,T={idToken:yield h.getIdToken(),returnSecureToken:!0};u&&(T.email=u),c&&(T.password=c);const F=yield Kt(h,sc(g,T));yield h._updateTokensIfNecessary(F,!0)})).apply(this,arguments)}class Fi{constructor(u,c,g={}){this.isNewUser=u,this.providerId=c,this.profile=g}}class pc extends Fi{constructor(u,c,g,D){super(u,c,g),this.username=D}}class su extends Fi{constructor(u,c){super(u,"facebook.com",c)}}class Ed extends pc{constructor(u,c){super(u,"github.com",c,"string"==typeof(null==c?void 0:c.login)?null==c?void 0:c.login:null)}}class dr extends Fi{constructor(u,c){super(u,"google.com",c)}}class as extends pc{constructor(u,c,g){super(u,"twitter.com",c,g)}}function Ja(h){const{user:u,_tokenResponse:c}=h;return u.isAnonymous&&!c?{providerId:null,isNewUser:!1,profile:null}:function Vs(h){var u,c;if(!h)return null;const{providerId:g}=h,D=h.rawUserInfo?JSON.parse(h.rawUserInfo):{},T=h.isNewUser||"identitytoolkit#SignupNewUserResponse"===h.kind;if(!g&&(null==h?void 0:h.idToken)){const F=null===(c=null===(u=Tt(h.idToken))||void 0===u?void 0:u.firebase)||void 0===c?void 0:c.sign_in_provider;if(F)return new Fi(T,"anonymous"!==F&&"custom"!==F?F:null)}if(!g)return null;switch(g){case"facebook.com":return new su(T,D);case"github.com":return new Ed(T,D);case"google.com":return new dr(T,D);case"twitter.com":return new as(T,D,h.screenName||null);case"custom":case"anonymous":return new Fi(T,null);default:return new Fi(T,g,D)}}(c)}class Li{constructor(u,c,g){this.type=u,this.credential=c,this.auth=g}static _fromIdtoken(u,c){return new Li("enroll",u,c)}static _fromMfaPendingCredential(u){return new Li("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var c,g;if(null==u?void 0:u.multiFactorSession){if(null===(c=u.multiFactorSession)||void 0===c?void 0:c.pendingCredential)return Li._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null===(g=u.multiFactorSession)||void 0===g?void 0:g.idToken)return Li._fromIdtoken(u.multiFactorSession.idToken)}return null}}class ta{constructor(u,c,g){this.session=u,this.hints=c,this.signInResolver=g}static _fromError(u,c){const g=Ht(u),D=c.customData._serverResponse,T=(D.mfaInfo||[]).map(Q=>Yo._fromServerResponse(g,Q));Ce(D.mfaPendingCredential,g,"internal-error");const F=Li._fromMfaPendingCredential(D.mfaPendingCredential);return new ta(F,T,function(){var Q=(0,v.Z)(function*(be){const _e=yield be._process(g,F);delete D.mfaInfo,delete D.mfaPendingCredential;const Be=Object.assign(Object.assign({},D),{idToken:_e.idToken,refreshToken:_e.refreshToken});switch(c.operationType){case"signIn":const Ye=yield Je._fromIdTokenResponse(g,c.operationType,Be);return yield g._updateCurrentUser(Ye.user),Ye;case"reauthenticate":return Ce(c.user,g,"internal-error"),Je._forOperation(c.user,c.operationType,Be);default:Ft(g,"internal-error")}});return function(be){return Q.apply(this,arguments)}}())}resolveSignIn(u){var c=this;return(0,v.Z)(function*(){return c.signInResolver(u)})()}}function el(h,u){return Rt(h,"POST","/v2/accounts/mfaEnrollment:start",Wt(h,u))}class So{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(c=>{c.mfaInfo&&(this.enrolledFactors=c.mfaInfo.map(g=>Yo._fromServerResponse(u.auth,g)))})}static _fromUser(u){return new So(u)}getSession(){var u=this;return(0,v.Z)(function*(){return Li._fromIdtoken(yield u.user.getIdToken(),u.user.auth)})()}enroll(u,c){var g=this;return(0,v.Z)(function*(){const D=u,T=yield g.getSession(),F=yield Kt(g.user,D._process(g.user.auth,T,c));return yield g.user._updateTokensIfNecessary(F),g.user.reload()})()}unenroll(u){var c=this;return(0,v.Z)(function*(){const g="string"==typeof u?u:u.uid,D=yield c.user.getIdToken(),T=yield Kt(c.user,function cs(h,u){return Rt(h,"POST","/v2/accounts/mfaEnrollment:withdraw",Wt(h,u))}(c.user.auth,{idToken:D,mfaEnrollmentId:g}));c.enrolledFactors=c.enrolledFactors.filter(({uid:F})=>F!==g),yield c.user._updateTokensIfNecessary(T);try{yield c.user.reload()}catch(F){if("auth/user-token-expired"!==(null==F?void 0:F.code))throw F}})()}}const ds=new WeakMap,fi="__sak";class au{constructor(u,c){this.storageRetriever=u,this.type=c}_isAvailable(){try{return this.storage?(this.storage.setItem(fi,"1"),this.storage.removeItem(fi),Promise.resolve(!0)):Promise.resolve(!1)}catch(u){return Promise.resolve(!1)}}_set(u,c){return this.storage.setItem(u,JSON.stringify(c)),Promise.resolve()}_get(u){const c=this.storage.getItem(u);return Promise.resolve(c?JSON.parse(c):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const Us=(()=>{class h extends au{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(c,g)=>this.onStorageEvent(c,g),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ra(){const h=(0,x.z$)();return Si(h)||Mn(h)}()&&function Zr(){try{return!(!window||window===window.top)}catch(h){return!1}}(),this.fallbackToPolling=yr(),this._shouldAllowMigration=!0}forAllChangedKeys(c){for(const g of Object.keys(this.listeners)){const D=this.storage.getItem(g),T=this.localCache[g];D!==T&&c(g,T,D)}}onStorageEvent(c,g=!1){if(!c.key)return void this.forAllChangedKeys((Q,be,_e)=>{this.notifyListeners(Q,_e)});const D=c.key;if(g?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Q=this.storage.getItem(D);if(c.newValue!==Q)null!==c.newValue?this.storage.setItem(D,c.newValue):this.storage.removeItem(D);else if(this.localCache[D]===c.newValue&&!g)return}const T=()=>{const Q=this.storage.getItem(D);!g&&this.localCache[D]===Q||this.notifyListeners(D,Q)},F=this.storage.getItem(D);!function fo(){return(0,x.w1)()&&10===document.documentMode}()||F===c.newValue||c.newValue===c.oldValue?T():setTimeout(T,10)}notifyListeners(c,g){this.localCache[c]=g;const D=this.listeners[c];if(D)for(const T of Array.from(D))T(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((c,g,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:c,oldValue:g,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(c,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[c]||(this.listeners[c]=new Set,this.localCache[c]=this.storage.getItem(c)),this.listeners[c].add(g)}_removeListener(c,g){this.listeners[c]&&(this.listeners[c].delete(g),0===this.listeners[c].size&&delete this.listeners[c]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(c,g){var D=()=>super._set,T=this;return(0,v.Z)(function*(){yield D().call(T,c,g),T.localCache[c]=JSON.stringify(g)})()}_get(c){var g=()=>super._get,D=this;return(0,v.Z)(function*(){const T=yield g().call(D,c);return D.localCache[c]=JSON.stringify(T),T})()}_remove(c){var g=()=>super._remove,D=this;return(0,v.Z)(function*(){yield g().call(D,c),delete D.localCache[c]})()}}return h.type="LOCAL",h})(),Kn=(()=>{class h extends au{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(c,g){}_removeListener(c,g){}}return h.type="SESSION",h})();let _c=(()=>{class h{constructor(c){this.eventTarget=c,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(c){const g=this.receivers.find(T=>T.isListeningto(c));if(g)return g;const D=new h(c);return this.receivers.push(D),D}isListeningto(c){return this.eventTarget===c}handleEvent(c){var g=this;return(0,v.Z)(function*(){const D=c,{eventId:T,eventType:F,data:Q}=D.data,be=g.handlersMap[F];if(!(null==be?void 0:be.size))return;D.ports[0].postMessage({status:"ack",eventId:T,eventType:F});const _e=Array.from(be).map(function(){var Ye=(0,v.Z)(function*(bt){return bt(D.origin,Q)});return function(bt){return Ye.apply(this,arguments)}}()),Be=yield function Bi(h){return Promise.all(h.map(function(){var u=(0,v.Z)(function*(c){try{return{fulfilled:!0,value:yield c}}catch(g){return{fulfilled:!1,reason:g}}});return function(c){return u.apply(this,arguments)}}()))}(_e);D.ports[0].postMessage({status:"done",eventId:T,eventType:F,response:Be})})()}_subscribe(c,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[c]||(this.handlersMap[c]=new Set),this.handlersMap[c].add(g)}_unsubscribe(c,g){this.handlersMap[c]&&g&&this.handlersMap[c].delete(g),(!g||0===this.handlersMap[c].size)&&delete this.handlersMap[c],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return h.receivers=[],h})();function hi(h="",u=10){let c="";for(let g=0;g<u;g++)c+=Math.floor(10*Math.random());return h+c}class sa{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,c,g=50){var D=this;return(0,v.Z)(function*(){const T="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!T)throw new Error("connection_unavailable");let F,Q;return new Promise((be,_e)=>{const Be=hi("",20);T.port1.start();const Ye=setTimeout(()=>{_e(new Error("unsupported_event"))},g);Q={messageChannel:T,onMessage(bt){const dt=bt;if(dt.data.eventId===Be)switch(dt.data.status){case"ack":clearTimeout(Ye),F=setTimeout(()=>{_e(new Error("timeout"))},3e3);break;case"done":clearTimeout(F),be(dt.data.response);break;default:clearTimeout(Ye),clearTimeout(F),_e(new Error("invalid_response"))}}},D.handlers.add(Q),T.port1.addEventListener("message",Q.onMessage),D.target.postMessage({eventType:u,eventId:Be,data:c},[T.port2])}).finally(()=>{Q&&D.removeMessageHandler(Q)})})()}}function St(){return window}function js(){return void 0!==St().WorkerGlobalScope&&"function"==typeof St().importScripts}function pi(){return(pi=(0,v.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(h){return null}})).apply(this,arguments)}const oa="firebaseLocalStorageDb",Yn="firebaseLocalStorage",fs="fbase_key";class ei{constructor(u){this.request=u}toPromise(){return new Promise((u,c)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{c(this.request.error)})})}}function R(h,u){return h.transaction([Yn],u?"readwrite":"readonly").objectStore(Yn)}function Ro(){const h=indexedDB.open(oa,1);return new Promise((u,c)=>{h.addEventListener("error",()=>{c(h.error)}),h.addEventListener("upgradeneeded",()=>{const g=h.result;try{g.createObjectStore(Yn,{keyPath:fs})}catch(D){c(D)}}),h.addEventListener("success",(0,v.Z)(function*(){const g=h.result;g.objectStoreNames.contains(Yn)?u(g):(g.close(),yield function nl(){const h=indexedDB.deleteDatabase(oa);return new ei(h).toPromise()}(),u(yield Ro()))}))})}function yc(h,u,c){return rl.apply(this,arguments)}function rl(){return(rl=(0,v.Z)(function*(h,u,c){const g=R(h,!0).put({[fs]:u,value:c});return new ei(g).toPromise()})).apply(this,arguments)}function vc(){return(vc=(0,v.Z)(function*(h,u){const c=R(h,!1).get(u),g=yield new ei(c).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function wd(h,u){const c=R(h,!0).delete(u);return new ei(c).toPromise()}const er=(()=>{class h{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var c=this;return(0,v.Z)(function*(){return c.db||(c.db=yield Ro()),c.db})()}_withRetries(c){var g=this;return(0,v.Z)(function*(){let D=0;for(;;)try{const T=yield g._openDb();return yield c(T)}catch(T){if(D++>3)throw T;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var c=this;return(0,v.Z)(function*(){return js()?c.initializeReceiver():c.initializeSender()})()}initializeReceiver(){var c=this;return(0,v.Z)(function*(){c.receiver=_c._getInstance(function tn(){return js()?self:null}()),c.receiver._subscribe("keyChanged",function(){var g=(0,v.Z)(function*(D,T){return{keyProcessed:(yield c._poll()).includes(T.key)}});return function(D,T){return g.apply(this,arguments)}}()),c.receiver._subscribe("ping",function(){var g=(0,v.Z)(function*(D,T){return["keyChanged"]});return function(D,T){return g.apply(this,arguments)}}())})()}initializeSender(){var c=this;return(0,v.Z)(function*(){var g,D;if(c.activeServiceWorker=yield function Hs(){return pi.apply(this,arguments)}(),!c.activeServiceWorker)return;c.sender=new sa(c.activeServiceWorker);const T=yield c.sender._send("ping",{},800);!T||(null===(g=T[0])||void 0===g?void 0:g.fulfilled)&&(null===(D=T[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(c.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(c){var g=this;return(0,v.Z)(function*(){if(g.sender&&g.activeServiceWorker&&function Rn(){var h;return(null===(h=null==navigator?void 0:navigator.serviceWorker)||void 0===h?void 0:h.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:c},g.serviceWorkerReceiverAvailable?800:50)}catch(D){}})()}_isAvailable(){return(0,v.Z)(function*(){try{if(!indexedDB)return!1;const c=yield Ro();return yield yc(c,fi,"1"),yield wd(c,fi),!0}catch(c){}return!1})()}_withPendingWrite(c){var g=this;return(0,v.Z)(function*(){g.pendingWrites++;try{yield c()}finally{g.pendingWrites--}})()}_set(c,g){var D=this;return(0,v.Z)(function*(){return D._withPendingWrite((0,v.Z)(function*(){return yield D._withRetries(T=>yc(T,c,g)),D.localCache[c]=g,D.notifyServiceWorker(c)}))})()}_get(c){var g=this;return(0,v.Z)(function*(){const D=yield g._withRetries(T=>function Dd(h,u){return vc.apply(this,arguments)}(T,c));return g.localCache[c]=D,D})()}_remove(c){var g=this;return(0,v.Z)(function*(){return g._withPendingWrite((0,v.Z)(function*(){return yield g._withRetries(D=>wd(D,c)),delete g.localCache[c],g.notifyServiceWorker(c)}))})()}_poll(){var c=this;return(0,v.Z)(function*(){const g=yield c._withRetries(F=>{const Q=R(F,!1).getAll();return new ei(Q).toPromise()});if(!g)return[];if(0!==c.pendingWrites)return[];const D=[],T=new Set;for(const{fbase_key:F,value:Q}of g)T.add(F),JSON.stringify(c.localCache[F])!==JSON.stringify(Q)&&(c.notifyListeners(F,Q),D.push(F));for(const F of Object.keys(c.localCache))c.localCache[F]&&!T.has(F)&&(c.notifyListeners(F,null),D.push(F));return D})()}notifyListeners(c,g){this.localCache[c]=g;const D=this.listeners[c];if(D)for(const T of Array.from(D))T(g)}startPolling(){var c=this;this.stopPolling(),this.pollTimer=setInterval((0,v.Z)(function*(){return c._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(c,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[c]||(this.listeners[c]=new Set,this._get(c)),this.listeners[c].add(g)}_removeListener(c,g){this.listeners[c]&&(this.listeners[c].delete(g),0===this.listeners[c].size&&delete this.listeners[c]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return h.type="LOCAL",h})();function Ws(h,u){return Rt(h,"POST","/v2/accounts/mfaSignIn:start",Wt(h,u))}function En(){return(En=(0,v.Z)(function*(h){return(yield Rt(h,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function aa(h){return new Promise((u,c)=>{const g=document.createElement("script");g.setAttribute("src",h),g.onload=u,g.onerror=D=>{const T=ln("internal-error");T.customData=D,c(T)},g.type="text/javascript",g.charset="UTF-8",function kr(){var h,u;return null!==(u=null===(h=document.getElementsByTagName("head"))||void 0===h?void 0:h[0])&&void 0!==u?u:document}().appendChild(g)})}function _n(h){return`__${h}${Math.floor(1e6*Math.random())}`}const fr=1e12;class Un{constructor(u){this.auth=u,this.counter=fr,this._widgets=new Map}render(u,c){const g=this.counter;return this._widgets.set(g,new Cd(u,this.auth.name,c||{})),this.counter++,g}reset(u){var c;const g=u||fr;null===(c=this._widgets.get(g))||void 0===c||c.delete(),this._widgets.delete(g)}getResponse(u){var c;return(null===(c=this._widgets.get(u||fr))||void 0===c?void 0:c.getResponse())||""}execute(u){var c=this;return(0,v.Z)(function*(){var g;return null===(g=c._widgets.get(u||fr))||void 0===g||g.execute(),""})()}}class Cd{constructor(u,c,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof u?document.getElementById(u):u;Ce(D,"argument-error",{appName:c}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function il(h){const u=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<h;g++)u.push(c.charAt(Math.floor(Math.random()*c.length)));return u.join("")}(50);const{callback:u,"expired-callback":c}=this.params;if(u)try{u(this.responseToken)}catch(g){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,c)try{c()}catch(g){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ua=_n("rcb"),In=new Qe(3e4,6e4);class tr{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(u=St().grecaptcha)||void 0===u?void 0:u.render)}load(u,c=""){return Ce(function cu(h){return h.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(h)}(c),u,"argument-error"),this.shouldResolveImmediately(c)?Promise.resolve(St().grecaptcha):new Promise((g,D)=>{const T=St().setTimeout(()=>{D(ln(u,"network-request-failed"))},In.get());St()[ua]=()=>{St().clearTimeout(T),delete St()[ua];const Q=St().grecaptcha;if(!Q)return void D(ln(u,"internal-error"));const be=Q.render;Q.render=(_e,Be)=>{const Ye=be(_e,Be);return this.counter++,Ye},this.hostLanguage=c,g(Q)},aa(`https://www.google.com/recaptcha/api.js??${(0,x.xO)({onload:ua,render:"explicit",hl:c})}`).catch(()=>{clearTimeout(T),D(ln(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var c;return!!(null===(c=St().grecaptcha)||void 0===c?void 0:c.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Vi{load(u){return(0,v.Z)(function*(){return new Un(u)})()}clearedOneInstance(){}}const Gs="recaptcha",ca={theme:"light",type:"image"};class Dn{constructor(u,c=Object.assign({},ca),g){this.parameters=c,this.type=Gs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ht(g),this.isInvisible="invisible"===this.parameters.size,Ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof u?document.getElementById(u):u;Ce(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Vi:new tr,this.validateStartingState()}verify(){var u=this;return(0,v.Z)(function*(){u.assertNotDestroyed();const c=yield u.render(),g=u.getAssertedRecaptcha();return g.getResponse(c)||new Promise(T=>{const F=Q=>{!Q||(u.tokenChangeListeners.delete(F),T(Q))};u.tokenChangeListeners.add(F),u.isInvisible&&g.execute(c)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return c=>{if(this.tokenChangeListeners.forEach(g=>g(c)),"function"==typeof u)u(c);else if("string"==typeof u){const g=St()[u];"function"==typeof g&&g(c)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,v.Z)(function*(){if(yield u.init(),!u.widgetId){let c=u.container;if(!u.isInvisible){const g=document.createElement("div");c.appendChild(g),c=g}u.widgetId=u.getAssertedRecaptcha().render(c,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,v.Z)(function*(){Ce(on()&&!js(),u.auth,"internal-error"),yield function da(){let h=null;return new Promise(u=>{"complete"!==document.readyState?(h=()=>u(),window.addEventListener("load",h)):u()}).catch(u=>{throw h&&window.removeEventListener("load",h),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const c=yield function No(h){return En.apply(this,arguments)}(u.auth);Ce(c,u.auth,"internal-error"),u.parameters.sitekey=c})()}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class du{constructor(u,c){this.verificationId=u,this.onConfirmation=c}confirm(u){const c=is._fromVerification(this.verificationId,u);return this.onConfirmation(c)}}function fa(){return(fa=(0,v.Z)(function*(h,u,c){const g=Ht(h),D=yield Er(g,u,(0,x.m9)(c));return new du(D,T=>Os(g,T))})).apply(this,arguments)}function fu(){return(fu=(0,v.Z)(function*(h,u,c){const g=(0,x.m9)(h);yield xs(!1,g,"phone");const D=yield Er(g.auth,u,(0,x.m9)(c));return new du(D,T=>Za(g,T))})).apply(this,arguments)}function hs(){return(hs=(0,v.Z)(function*(h,u,c){const g=(0,x.m9)(h),D=yield Er(g.auth,u,(0,x.m9)(c));return new du(D,T=>Oi(g,T))})).apply(this,arguments)}function Er(h,u,c){return sl.apply(this,arguments)}function sl(){return(sl=(0,v.Z)(function*(h,u,c){var g;const D=yield c.verify();try{let T;if(Ce("string"==typeof D,h,"argument-error"),Ce(c.type===Gs,h,"argument-error"),T="string"==typeof u?{phoneNumber:u}:u,"session"in T){const F=T.session;if("phoneNumber"in T)return Ce("enroll"===F.type,h,"internal-error"),(yield el(h,{idToken:F.credential,phoneEnrollmentInfo:{phoneNumber:T.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{Ce("signin"===F.type,h,"internal-error");const Q=(null===(g=T.multiFactorHint)||void 0===g?void 0:g.uid)||T.multiFactorUid;return Ce(Q,h,"missing-multi-factor-info"),(yield Ws(h,{mfaPendingCredential:F.credential,mfaEnrollmentId:Q,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:F}=yield lr(h,{phoneNumber:T.phoneNumber,recaptchaToken:D});return F}}finally{c._reset()}})).apply(this,arguments)}function ol(){return(ol=(0,v.Z)(function*(h,u){yield ve((0,x.m9)(h),u)})).apply(this,arguments)}let Ir=(()=>{class h{constructor(c){this.providerId=h.PROVIDER_ID,this.auth=Ht(c)}verifyPhoneNumber(c,g){return Er(this.auth,c,(0,x.m9)(g))}static credential(c,g){return is._fromVerification(c,g)}static credentialFromResult(c){return h.credentialFromTaggedObject(c)}static credentialFromError(c){return h.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{phoneNumber:g,temporaryProof:D}=c;return g&&D?is._fromTokenResponse(g,D):null}}return h.PROVIDER_ID="phone",h.PHONE_SIGN_IN_METHOD="phone",h})();function ni(h,u){return u?jt(u):(Ce(h._popupRedirectResolver,h,"argument-error"),h._popupRedirectResolver)}class mi extends ho{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return Kr(u,this._buildIdpRequest())}_linkToIdToken(u,c){return Kr(u,this._buildIdpRequest(c))}_getReauthenticationResolver(u){return Kr(u,this._buildIdpRequest())}_buildIdpRequest(u){const c={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(c.idToken=u),c}}function pa(h){return xr(h.auth,new mi(h),h.bypassAuthState)}function hu(h){const{auth:u,user:c}=h;return Ce(c,u,"internal-error"),Ga(c,new mi(h),h.bypassAuthState)}function Pn(h){return ga.apply(this,arguments)}function ga(){return(ga=(0,v.Z)(function*(h){const{auth:u,user:c}=h;return Ce(c,u,"internal-error"),ve(c,new mi(h),h.bypassAuthState)})).apply(this,arguments)}class I{constructor(u,c,g,D,T=!1){this.auth=u,this.resolver=g,this.user=D,this.bypassAuthState=T,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(c)?c:[c]}execute(){var u=this;return new Promise(function(){var c=(0,v.Z)(function*(g,D){u.pendingPromise={resolve:g,reject:D};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(T){u.reject(T)}});return function(g,D){return c.apply(this,arguments)}}())}onAuthEvent(u){var c=this;return(0,v.Z)(function*(){const{urlResponse:g,sessionId:D,postBody:T,tenantId:F,error:Q,type:be}=u;if(Q)return void c.reject(Q);const _e={auth:c.auth,requestUri:g,sessionId:D,tenantId:F||void 0,postBody:T||void 0,user:c.user,bypassAuthState:c.bypassAuthState};try{c.resolve(yield c.getIdpTask(be)(_e))}catch(Be){c.reject(Be)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return pa;case"linkViaPopup":case"linkViaRedirect":return Pn;case"reauthViaPopup":case"reauthViaRedirect":return hu;default:Ft(this.auth,"internal-error")}}resolve(u){un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const w=new Qe(2e3,1e4);function k(){return(k=(0,v.Z)(function*(h,u,c){const g=Ht(h);rr(h,u,Pr);const D=ni(g,c);return new ke(g,"signInViaPopup",u,D).executeNotNull()})).apply(this,arguments)}function Y(){return(Y=(0,v.Z)(function*(h,u,c){const g=(0,x.m9)(h);rr(g.auth,u,Pr);const D=ni(g.auth,c);return new ke(g.auth,"reauthViaPopup",u,D,g).executeNotNull()})).apply(this,arguments)}function Oe(){return(Oe=(0,v.Z)(function*(h,u,c){const g=(0,x.m9)(h);rr(g.auth,u,Pr);const D=ni(g.auth,c);return new ke(g.auth,"linkViaPopup",u,D,g).executeNotNull()})).apply(this,arguments)}let ke=(()=>{class h extends I{constructor(c,g,D,T,F){super(c,g,T,F),this.provider=D,this.authWindow=null,this.pollId=null,h.currentPopupAction&&h.currentPopupAction.cancel(),h.currentPopupAction=this}executeNotNull(){var c=this;return(0,v.Z)(function*(){const g=yield c.execute();return Ce(g,c.auth,"internal-error"),g})()}onExecution(){var c=this;return(0,v.Z)(function*(){un(1===c.filter.length,"Popup operations only handle one event");const g=hi();c.authWindow=yield c.resolver._openPopup(c.auth,c.provider,c.filter[0],g),c.authWindow.associatedEvent=g,c.resolver._originValidation(c.auth).catch(D=>{c.reject(D)}),c.resolver._isIframeWebStorageSupported(c.auth,D=>{D||c.reject(ln(c.auth,"web-storage-unsupported"))}),c.pollUserCancellation()})()}get eventId(){var c;return(null===(c=this.authWindow)||void 0===c?void 0:c.associatedEvent)||null}cancel(){this.reject(ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,h.currentPopupAction=null}pollUserCancellation(){const c=()=>{var g,D;this.pollId=(null===(D=null===(g=this.authWindow)||void 0===g?void 0:g.window)||void 0===D?void 0:D.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ln(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(c,w.get())};c()}}return h.currentPopupAction=null,h})();const ht=new Map;class ot extends I{constructor(u,c,g=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],c,void 0,g),this.eventId=null}execute(){var u=()=>super.execute,c=this;return(0,v.Z)(function*(){let g=ht.get(c.auth._key());if(!g){try{const T=(yield function jn(h,u){return cn.apply(this,arguments)}(c.resolver,c.auth))?yield u().call(c):null;g=()=>Promise.resolve(T)}catch(D){g=()=>Promise.reject(D)}ht.set(c.auth._key(),g)}return c.bypassAuthState||ht.set(c.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(u){var c=()=>super.onAuthEvent,g=this;return(0,v.Z)(function*(){if("signInViaRedirect"===u.type)return c().call(g,u);if("unknown"!==u.type){if(u.eventId){const D=yield g.auth._redirectUserForId(u.eventId);if(D)return g.user=D,c().call(g,u);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,v.Z)(function*(){})()}cleanUp(){}}function cn(){return(cn=(0,v.Z)(function*(h,u){const c=ma(u),g=hr(h);if(!(yield g._isAvailable()))return!1;const D="true"===(yield g._get(c));return yield g._remove(c),D})).apply(this,arguments)}function ps(h,u){return zs.apply(this,arguments)}function zs(){return(zs=(0,v.Z)(function*(h,u){return hr(h)._set(ma(u),"true")})).apply(this,arguments)}function Nn(h,u){ht.set(h._key(),u)}function hr(h){return jt(h._redirectPersistence)}function ma(h){return _r("pendingRedirect",h.config.apiKey,h.name)}function wc(){return(wc=(0,v.Z)(function*(h,u,c){const g=Ht(h);rr(h,u,Pr);const D=ni(g,c);return yield ps(D,g),D._openRedirect(g,u,"signInViaRedirect")})).apply(this,arguments)}function Cc(){return(Cc=(0,v.Z)(function*(h,u,c){const g=(0,x.m9)(h);rr(g.auth,u,Pr);const D=ni(g.auth,c);yield ps(D,g.auth);const T=yield al(g);return D._openRedirect(g.auth,u,"reauthViaRedirect",T)})).apply(this,arguments)}function bc(){return(bc=(0,v.Z)(function*(h,u,c){const g=(0,x.m9)(h);rr(g.auth,u,Pr);const D=ni(g.auth,c);yield xs(!1,g,u.providerId),yield ps(D,g.auth);const T=yield al(g);return D._openRedirect(g.auth,u,"linkViaRedirect",T)})).apply(this,arguments)}function Tc(){return(Tc=(0,v.Z)(function*(h,u){return yield Ht(h)._initializationPromise,pu(h,u,!1)})).apply(this,arguments)}function pu(h,u){return ji.apply(this,arguments)}function ji(){return(ji=(0,v.Z)(function*(h,u,c=!1){const g=Ht(h),D=ni(g,u),F=yield new ot(g,D,c).execute();return F&&!c&&(delete F.user._redirectEventId,yield g._persistUserIfCurrent(F.user),yield g._setRedirectUser(null,u)),F})).apply(this,arguments)}function al(h){return qn.apply(this,arguments)}function qn(){return(qn=(0,v.Z)(function*(h){const u=hi(`${h.uid}:::`);return h._redirectEventId=u,yield h.auth._setRedirectUser(h),yield h.auth._persistUserIfCurrent(h),u})).apply(this,arguments)}class _a{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let c=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(u,g)&&(c=!0,this.sendToConsumer(u,g),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function ll(h){switch(h.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hn(h);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,c||(this.queuedRedirectEvent=u,c=!0)),c}sendToConsumer(u,c){var g;if(u.error&&!Hn(u)){const D=(null===(g=u.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";c.onError(ln(this.auth,D))}else c.onAuthEvent(u)}isEventForConsumer(u,c){const g=null===c.eventId||!!u.eventId&&u.eventId===c.eventId;return c.filter.includes(u.type)&&g}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zs(u))}saveEventToCache(u){this.cachedEventUids.add(Zs(u)),this.lastProcessedEventTime=Date.now()}}function Zs(h){return[h.type,h.eventId,h.sessionId,h.tenantId].filter(u=>u).join("-")}function Hn({type:h,error:u}){return"unknown"===h&&"auth/no-auth-event"===(null==u?void 0:u.code)}function gu(h){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,v.Z)(function*(h,u={}){return Rt(h,"GET","/v1/projects",u)})).apply(this,arguments)}const Wf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mu=/^https?/;function _u(){return(_u=(0,v.Z)(function*(h){if(h.config.emulator)return;const{authorizedDomains:u}=yield gu(h);for(const c of u)try{if(Ad(c))return}catch(g){}Ft(h,"unauthorized-domain")})).apply(this,arguments)}function Ad(h){const u=An(),{protocol:c,hostname:g}=new URL(u);if(h.startsWith("chrome-extension://")){const F=new URL(h);return""===F.hostname&&""===g?"chrome-extension:"===c&&h.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===c&&F.hostname===g}if(!mu.test(c))return!1;if(Wf.test(h))return g===h;const D=h.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(g)}const Sd=new Qe(3e4,6e4);function Mc(){const h=St().___jsl;if(null==h?void 0:h.H)for(const u of Object.keys(h.H))if(h.H[u].r=h.H[u].r||[],h.H[u].L=h.H[u].L||[],h.H[u].r=[...h.H[u].L],h.CP)for(let c=0;c<h.CP.length;c++)h.CP[c]=null}let Oo=null;function yu(h){return Oo=Oo||function Md(h){return new Promise((u,c)=>{var g,D,T;function F(){Mc(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{Mc(),c(ln(h,"network-request-failed"))},timeout:Sd.get()})}if(null===(D=null===(g=St().gapi)||void 0===g?void 0:g.iframes)||void 0===D?void 0:D.Iframe)u(gapi.iframes.getContext());else{if(!(null===(T=St().gapi)||void 0===T?void 0:T.load)){const Q=_n("iframefcb");return St()[Q]=()=>{gapi.load?F():c(ln(h,"network-request-failed"))},aa(`https://apis.google.com/js/api.js?onload=${Q}`).catch(be=>c(be))}F()}}).catch(u=>{throw Oo=null,u})}(h),Oo}const Gf=new Qe(5e3,15e3),Pc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ul=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vu(h){const u=h.config;Ce(u.authDomain,h,"auth-domain-config-required");const c=u.emulator?tt(u,"emulator/auth/iframe"):`https://${h.config.authDomain}/__/auth/iframe`,g={apiKey:u.apiKey,appName:h.name,v:re.SDK_VERSION},D=ul.get(h.config.apiHost);D&&(g.eid=D);const T=h._getFrameworks();return T.length&&(g.fw=T.join(",")),`${c}?${(0,x.xO)(g).slice(1)}`}function Pt(){return Pt=(0,v.Z)(function*(h){const u=yield yu(h),c=St().gapi;return Ce(c,h,"internal-error"),u.open({where:document.body,url:vu(h),messageHandlersFilter:c.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pc,dontclear:!0},g=>new Promise(function(){var D=(0,v.Z)(function*(T,F){yield g.restyle({setHideOnLeave:!1});const Q=ln(h,"network-request-failed"),be=St().setTimeout(()=>{F(Q)},Gf.get());function _e(){St().clearTimeout(be),T(g)}g.ping(_e).then(_e,()=>{F(Q)})});return function(T,F){return D.apply(this,arguments)}}()))}),Pt.apply(this,arguments)}const Lt={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Iu{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(u){}}}function Qn(h,u,c,g,D,T){Ce(h.config.authDomain,h,"auth-domain-config-required"),Ce(h.config.apiKey,h,"invalid-api-key");const F={apiKey:h.config.apiKey,appName:h.name,authType:c,redirectUrl:g,v:re.SDK_VERSION,eventId:D};if(u instanceof Pr){u.setDefaultLanguage(h.languageCode),F.providerId=u.providerId||"",(0,x.xb)(u.getCustomParameters())||(F.customParameters=JSON.stringify(u.getCustomParameters()));for(const[be,_e]of Object.entries(T||{}))F[be]=_e}if(u instanceof Nr){const be=u.getScopes().filter(_e=>""!==_e);be.length>0&&(F.scopes=be.join(","))}h.tenantId&&(F.tid=h.tenantId);const Q=F;for(const be of Object.keys(Q))void 0===Q[be]&&delete Q[be];return`${function zf({config:h}){return h.emulator?tt(h,"emulator/auth/handler"):`https://${h.authDomain}/__/auth/handler`}(h)}?${(0,x.xO)(Q).slice(1)}`}const va="webStorageSupport";class kc extends class Oc{constructor(u){this.factorId=u}_process(u,c,g){switch(c.type){case"enroll":return this._finalizeEnroll(u,c.credential,g);case"signin":return this._finalizeSignIn(u,c.credential);default:return Xe("unexpected MultiFactorSessionType")}}}{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new kc(u)}_finalizeEnroll(u,c,g){return function gc(h,u){return Rt(h,"POST","/v2/accounts/mfaEnrollment:finalize",Wt(h,u))}(u,{idToken:c,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,c){return function Ec(h,u){return Rt(h,"POST","/v2/accounts/mfaSignIn:finalize",Wt(h,u))}(u,{mfaPendingCredential:c,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Pd=(()=>{class h{constructor(){}static assertion(c){return kc._fromCredential(c)}}return h.FACTOR_ID="phone",h})();var gs="@firebase/auth";class _i{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var c=this;return(0,v.Z)(function*(){return c.assertAuthConfigured(),yield c.auth._initializationPromise,c.auth.currentUser?{accessToken:yield c.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const c=this.auth.onIdTokenChanged(g=>{u((null==g?void 0:g.stsTokenManager.accessToken)||null)});this.internalListeners.set(u,c),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const c=this.internalListeners.get(u);!c||(this.internalListeners.delete(u),c(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ct(){return window}function Fo(){return(Fo=(0,v.Z)(function*(h,u,c){var g;const{BuildInfo:D}=ct();un(u.sessionId,"AuthEvent did not contain a session ID");const T=yield Vc(u.sessionId),F={};return Mn()?F.ibi=D.packageName:pn()?F.apn=D.packageName:Ft(h,"operation-not-supported-in-this-environment"),D.displayName&&(F.appDisplayName=D.displayName),F.sessionId=T,Qn(h,c,u.type,void 0,null!==(g=u.eventId)&&void 0!==g?g:void 0,F)})).apply(this,arguments)}function Lo(){return(Lo=(0,v.Z)(function*(h){const{BuildInfo:u}=ct(),c={};Mn()?c.iosBundleId=u.packageName:pn()?c.androidPackageName=u.packageName:Ft(h,"operation-not-supported-in-this-environment"),yield gu(h,c)})).apply(this,arguments)}function $n(){return($n=(0,v.Z)(function*(h,u,c){const{cordova:g}=ct();let D=()=>{};try{yield new Promise((T,F)=>{let Q=null;function be(){var Ye;T();const bt=null===(Ye=g.plugins.browsertab)||void 0===Ye?void 0:Ye.close;"function"==typeof bt&&bt(),"function"==typeof(null==c?void 0:c.close)&&c.close()}function _e(){Q||(Q=window.setTimeout(()=>{F(ln(h,"redirect-cancelled-by-user"))},2e3))}function Be(){"visible"===(null==document?void 0:document.visibilityState)&&_e()}u.addPassiveListener(be),document.addEventListener("resume",_e,!1),pn()&&document.addEventListener("visibilitychange",Be,!1),D=()=>{u.removePassiveListener(be),document.removeEventListener("resume",_e,!1),document.removeEventListener("visibilitychange",Be,!1),Q&&window.clearTimeout(Q)}})}finally{D()}})).apply(this,arguments)}function Vc(h){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,v.Z)(function*(h){const u=Kf(h),c=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(c)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Kf(h){if(un(/[0-9a-zA-Z]+/.test(h),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(h);const u=new ArrayBuffer(h.length),c=new Uint8Array(u);for(let g=0;g<h.length;g++)c[g]=h.charCodeAt(g);return c}(0,x.Pz)("authIdTokenMaxAge"),function Fc(h){(0,re._registerComponent)(new it.wA("auth",(u,{options:c})=>{const g=u.getProvider("app").getImmediate(),D=u.getProvider("heartbeat"),{apiKey:T,authDomain:F}=g.options;return((Q,be)=>{Ce(T&&!T.includes(":"),"invalid-api-key",{appName:Q.name}),Ce(!(null==F?void 0:F.includes(":")),"argument-error",{appName:Q.name});const _e={apiKey:T,authDomain:F,clientPlatform:h,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Va(h)},Be=new Mi(Q,be,_e);return function bi(h,u){const c=(null==u?void 0:u.persistence)||[],g=(Array.isArray(c)?c:[c]).map(jt);(null==u?void 0:u.errorMap)&&h._updateErrorMap(u.errorMap),h._initializeWithPersistence(g,null==u?void 0:u.popupRedirectResolver)}(Be,c),Be})(g,D)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,c,g)=>{u.getProvider("auth-internal").initialize()})),(0,re._registerComponent)(new it.wA("auth-internal",u=>{const c=Ht(u.getProvider("auth").getImmediate());return new _i(c)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,re.registerVersion)(gs,"0.21.0",function Nd(h){switch(h){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(h)),(0,re.registerVersion)(gs,"0.21.0","esm2017")}("Browser");class Uc extends _a{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(c=>c(u)),super.onEvent(u)}initialized(){var u=this;return(0,v.Z)(function*(){yield u.initPromise})()}}function pl(h){return $i.apply(this,arguments)}function $i(){return($i=(0,v.Z)(function*(h){const u=yield kd()._get(Zt(h));return u&&(yield kd()._remove(Zt(h))),u})).apply(this,arguments)}function qf(){const h=[],u="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let c=0;c<20;c++){const g=Math.floor(Math.random()*u.length);h.push(u.charAt(g))}return h.join("")}function kd(){return jt(Us)}function Zt(h){return _r("authEvent",h.config.apiKey,h.name)}function Ks(h){if(!(null==h?void 0:h.includes("?")))return{};const[u,...c]=h.split("?");return(0,x.zd)(c.join("?"))}function Da(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ln("no-auth-event")}}function Mt(){var h;return(null===(h=null==self?void 0:self.location)||void 0===h?void 0:h.protocol)||null}function Fd(h=(0,x.z$)()){return!("file:"!==Mt()&&"ionic:"!==Mt()&&"capacitor:"!==Mt()||!h.toLowerCase().match(/iphone|ipad|ipod|android/))}function _l(){try{const h=self.localStorage,u=hi();if(h)return h.setItem(u,"1"),h.removeItem(u),!function Tu(h=(0,x.z$)()){return function Xf(){return(0,x.w1)()&&11===(null==document?void 0:document.documentMode)}()||function ml(h=(0,x.z$)()){return/Edge\/\d+/.test(h)}(h)}()||(0,x.hl)()}catch(h){return Au()&&(0,x.hl)()}return!1}function Au(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function yl(){return(function Vo(){return"http:"===Mt()||"https:"===Mt()}()||(0,x.ru)()||Fd())&&!function Ld(){return(0,x.b$)()||(0,x.UG)()}()&&_l()&&!Au()}function wa(){return Fd()&&"undefined"!=typeof document}function Ca(){return(Ca=(0,v.Z)(function*(){return!!wa()&&new Promise(h=>{const u=setTimeout(()=>{h(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),h(!0)})})})).apply(this,arguments)}const Ur={LOCAL:"local",NONE:"none",SESSION:"session"},Ys=Ce,vl="persistence";function _s(h){return Su.apply(this,arguments)}function Su(){return(Su=(0,v.Z)(function*(h){yield h._initializationPromise;const u=Mu(),c=_r(vl,h.config.apiKey,h.name);u&&u.setItem(c,h._getPersistence())})).apply(this,arguments)}function Mu(){var h;try{return(null===(h=function Vp(){return"undefined"!=typeof window?window:null}())||void 0===h?void 0:h.sessionStorage)||null}catch(u){return null}}const th=Ce;class zi{constructor(){this.browserResolver=jt(class Dr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kn,this._completeRedirectFn=pu,this._overrideRedirectResult=Nn}_openPopup(u,c,g,D){var T=this;return(0,v.Z)(function*(){var F;un(null===(F=T.eventManagers[u._key()])||void 0===F?void 0:F.manager,"_initialize() not called before _openPopup()");const Q=Qn(u,c,g,An(),D);return function cl(h,u,c,g=500,D=600){const T=Math.max((window.screen.availHeight-D)/2,0).toString(),F=Math.max((window.screen.availWidth-g)/2,0).toString();let Q="";const be=Object.assign(Object.assign({},Lt),{width:g.toString(),height:D.toString(),top:T,left:F}),_e=(0,x.z$)().toLowerCase();c&&(Q=co(_e)?"_blank":c),uo(_e)&&(u=u||"http://localhost",be.scrollbars="yes");const Be=Object.entries(be).reduce((bt,[dt,Wn])=>`${bt}${dt}=${Wn},`,"");if(function Fl(h=(0,x.z$)()){var u;return Mn(h)&&!!(null===(u=window.navigator)||void 0===u?void 0:u.standalone)}(_e)&&"_self"!==Q)return function Rd(h,u){const c=document.createElement("a");c.href=h,c.target=u;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),c.dispatchEvent(g)}(u||"",Q),new Iu(null);const Ye=window.open(u||"",Q,Be);Ce(Ye,h,"popup-blocked");try{Ye.focus()}catch(bt){}return new Iu(Ye)}(u,Q,hi())})()}_openRedirect(u,c,g,D){var T=this;return(0,v.Z)(function*(){return yield T._originValidation(u),function lu(h){St().location.href=h}(Qn(u,c,g,An(),D)),new Promise(()=>{})})()}_initialize(u){const c=u._key();if(this.eventManagers[c]){const{manager:D,promise:T}=this.eventManagers[c];return D?Promise.resolve(D):(un(T,"If manager is not set, promise should be"),T)}const g=this.initAndGetManager(u);return this.eventManagers[c]={promise:g},g.catch(()=>{delete this.eventManagers[c]}),g}initAndGetManager(u){var c=this;return(0,v.Z)(function*(){const g=yield function Eu(h){return Pt.apply(this,arguments)}(u),D=new _a(u);return g.register("authEvent",T=>(Ce(null==T?void 0:T.authEvent,u,"invalid-auth-event"),{status:D.onEvent(T.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),c.eventManagers[u._key()]={manager:D},c.iframes[u._key()]=g,D})()}_isIframeWebStorageSupported(u,c){this.iframes[u._key()].send(va,{type:va},D=>{var T;const F=null===(T=null==D?void 0:D[0])||void 0===T?void 0:T[va];void 0!==F&&c(!!F),Ft(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const c=u._key();return this.originValidationPromises[c]||(this.originValidationPromises[c]=function Td(h){return _u.apply(this,arguments)}(u)),this.originValidationPromises[c]}get _shouldInitProactively(){return yr()||Si()||Mn()}}),this.cordovaResolver=jt(class Bo{constructor(){this._redirectPersistence=Kn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=pu,this._overrideRedirectResult=Nn}_initialize(u){var c=this;return(0,v.Z)(function*(){const g=u._key();let D=c.eventManagers.get(g);return D||(D=new Uc(u),c.eventManagers.set(g,D),c.attachCallbackListeners(u,D)),D})()}_openPopup(u){Ft(u,"operation-not-supported-in-this-environment")}_openRedirect(u,c,g,D){var T=this;return(0,v.Z)(function*(){!function hl(h){var u,c,g,D,T,F,Q,be,_e,Be;const Ye=ct();Ce("function"==typeof(null===(u=null==Ye?void 0:Ye.universalLinks)||void 0===u?void 0:u.subscribe),h,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ce(void 0!==(null===(c=null==Ye?void 0:Ye.BuildInfo)||void 0===c?void 0:c.packageName),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ce("function"==typeof(null===(T=null===(D=null===(g=null==Ye?void 0:Ye.cordova)||void 0===g?void 0:g.plugins)||void 0===D?void 0:D.browsertab)||void 0===T?void 0:T.openUrl),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ce("function"==typeof(null===(be=null===(Q=null===(F=null==Ye?void 0:Ye.cordova)||void 0===F?void 0:F.plugins)||void 0===Q?void 0:Q.browsertab)||void 0===be?void 0:be.isAvailable),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ce("function"==typeof(null===(Be=null===(_e=null==Ye?void 0:Ye.cordova)||void 0===_e?void 0:_e.InAppBrowser)||void 0===Be?void 0:Be.open),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const F=yield T._initialize(u);yield F.initialized(),F.resetRedirect(),function xo(){ht.clear()}(),yield T._originValidation(u);const Q=function wu(h,u,c=null){return{type:u,eventId:c,urlResponse:null,sessionId:qf(),postBody:null,tenantId:h.tenantId,error:ln(h,"no-auth-event")}}(u,g,D);yield function ms(h,u){return kd()._set(Zt(h),u)}(u,Q);const be=yield function fl(h,u,c){return Fo.apply(this,arguments)}(u,Q,c),_e=yield function Vr(h){const{cordova:u}=ct();return new Promise(c=>{u.plugins.browsertab.isAvailable(g=>{let D=null;g?u.plugins.browsertab.openUrl(h):D=u.InAppBrowser.open(h,function Gt(h=(0,x.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(h)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(h)}()?"_blank":"_system","location=yes"),c(D)})})}(be);return function Bc(h,u,c){return $n.apply(this,arguments)}(u,F,_e)})()}_isIframeWebStorageSupported(u,c){throw new Error("Method not implemented.")}_originValidation(u){const c=u._key();return this.originValidationPromises[c]||(this.originValidationPromises[c]=function Br(h){return Lo.apply(this,arguments)}(u)),this.originValidationPromises[c]}attachCallbackListeners(u,c){const{universalLinks:g,handleOpenURL:D,BuildInfo:T}=ct(),F=setTimeout((0,v.Z)(function*(){yield pl(u),c.onEvent(Da())}),500),Q=function(){var Be=(0,v.Z)(function*(Ye){clearTimeout(F);const bt=yield pl(u);let dt=null;bt&&(null==Ye?void 0:Ye.url)&&(dt=function Yf(h,u){var c,g;const D=function jc(h){const u=Ks(h),c=u.link?decodeURIComponent(u.link):void 0,g=Ks(c).link,D=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return Ks(D).link||D||g||c||h}(u);if(D.includes("/__/auth/callback")){const T=Ks(D),F=T.firebaseError?function Cu(h){try{return JSON.parse(h)}catch(u){return null}}(decodeURIComponent(T.firebaseError)):null,Q=null===(g=null===(c=null==F?void 0:F.code)||void 0===c?void 0:c.split("auth/"))||void 0===g?void 0:g[1],be=Q?ln(Q):null;return be?{type:h.type,eventId:h.eventId,tenantId:h.tenantId,error:be,urlResponse:null,sessionId:null,postBody:null}:{type:h.type,eventId:h.eventId,tenantId:h.tenantId,sessionId:h.sessionId,urlResponse:D,postBody:null}}return null}(bt,Ye.url)),c.onEvent(dt||Da())});return function(bt){return Be.apply(this,arguments)}}();void 0!==g&&"function"==typeof g.subscribe&&g.subscribe(null,Q);const be=D,_e=`${T.packageName.toLowerCase()}://`;ct().handleOpenURL=function(){var Be=(0,v.Z)(function*(Ye){if(Ye.toLowerCase().startsWith(_e)&&Q({url:Ye}),"function"==typeof be)try{be(Ye)}catch(bt){console.error(bt)}});return function(Ye){return Be.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Kn,this._completeRedirectFn=pu,this._overrideRedirectResult=Nn}_initialize(u){var c=this;return(0,v.Z)(function*(){return yield c.selectUnderlyingResolver(),c.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,c,g,D){var T=this;return(0,v.Z)(function*(){return yield T.selectUnderlyingResolver(),T.assertedUnderlyingResolver._openPopup(u,c,g,D)})()}_openRedirect(u,c,g,D){var T=this;return(0,v.Z)(function*(){return yield T.selectUnderlyingResolver(),T.assertedUnderlyingResolver._openRedirect(u,c,g,D)})()}_isIframeWebStorageSupported(u,c){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,c)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return wa()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return th(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,v.Z)(function*(){if(u.underlyingResolver)return;const c=yield function eh(){return Ca.apply(this,arguments)}();u.underlyingResolver=c?u.cordovaResolver:u.browserResolver})()}}function nh(h){return h.unwrap()}function qs(h){return Hc(h)}function Hc(h){const{_tokenResponse:u}=h instanceof x.ZR?h.customData:h;if(!u)return null;if(!(h instanceof x.ZR)&&"temporaryProof"in u&&"phoneNumber"in u)return Ir.credentialFromResult(h);const c=u.providerId;if(!c||"password"===c)return null;let g;switch(c){case"google.com":g=yn;break;case"facebook.com":g=ql;break;case"github.com":g=li;break;case"twitter.com":g=vr;break;default:const{oauthIdToken:D,oauthAccessToken:T,oauthTokenSecret:F,pendingToken:Q,nonce:be}=u;return T||F||D||Q?Q?c.startsWith("saml.")?qr._create(c,Q):Yr._fromParams({providerId:c,signInMethod:c,pendingToken:Q,idToken:D,accessToken:T}):new gn(c).credential({idToken:D,accessToken:T,rawNonce:be}):null}return h instanceof x.ZR?g.credentialFromError(h):g.credentialFromResult(h)}function jr(h,u){return u.catch(c=>{throw c instanceof x.ZR&&function Il(h,u){var c;const g=null===(c=u.customData)||void 0===c?void 0:c._tokenResponse;if("auth/multi-factor-auth-required"===(null==u?void 0:u.code))u.resolver=new rh(h,function ou(h,u){var c;const g=(0,x.m9)(h),D=u;return Ce(u.customData.operationType,g,"argument-error"),Ce(null===(c=D.customData._serverResponse)||void 0===c?void 0:c.mfaPendingCredential,g,"argument-error"),ta._fromError(g,D)}(h,u));else if(g){const D=Hc(u),T=u;D&&(T.credential=D,T.tenantId=g.tenantId||void 0,T.email=g.email||void 0,T.phoneNumber=g.phoneNumber||void 0)}}(h,c),c}).then(c=>{const D=c.user;return{operationType:c.operationType,credential:qs(c),additionalUserInfo:Ja(c),user:ys.getOrCreate(D)}})}function Ru(h,u){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,v.Z)(function*(h,u){const c=yield u;return{verificationId:c.verificationId,confirm:g=>jr(h,c.confirm(g))}})).apply(this,arguments)}class rh{constructor(u,c){this.resolver=c,this.auth=function ba(h){return h.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return jr(nh(this.auth),this.resolver.resolveSignIn(u))}}class ys{constructor(u){this._delegate=u,this.multiFactor=function na(h){const u=(0,x.m9)(h);return ds.has(u)||ds.set(u,So._fromUser(u)),ds.get(u)}(u)}static getOrCreate(u){return ys.USER_MAP.has(u)||ys.USER_MAP.set(u,new ys(u)),ys.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var c=this;return(0,v.Z)(function*(){return jr(c.auth,Za(c._delegate,u))})()}linkWithPhoneNumber(u,c){var g=this;return(0,v.Z)(function*(){return Ru(g.auth,function ha(h,u,c){return fu.apply(this,arguments)}(g._delegate,u,c))})()}linkWithPopup(u){var c=this;return(0,v.Z)(function*(){return jr(c.auth,function ye(h,u,c){return Oe.apply(this,arguments)}(c._delegate,u,zi))})()}linkWithRedirect(u){var c=this;return(0,v.Z)(function*(){return yield _s(Ht(c.auth)),function $f(h,u,c){return function bd(h,u,c){return bc.apply(this,arguments)}(h,u,c)}(c._delegate,u,zi)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var c=this;return(0,v.Z)(function*(){return jr(c.auth,Oi(c._delegate,u))})()}reauthenticateWithPhoneNumber(u,c){return Ru(this.auth,function ti(h,u,c){return hs.apply(this,arguments)}(this._delegate,u,c))}reauthenticateWithPopup(u){return jr(this.auth,function W(h,u,c){return Y.apply(this,arguments)}(this._delegate,u,zi))}reauthenticateWithRedirect(u){var c=this;return(0,v.Z)(function*(){return yield _s(Ht(c.auth)),function Bp(h,u,c){return function Hf(h,u,c){return Cc.apply(this,arguments)}(h,u,c)}(c._delegate,u,zi)})()}sendEmailVerification(u){return function hc(h,u){return tu.apply(this,arguments)}(this._delegate,u)}unlink(u){var c=this;return(0,v.Z)(function*(){return yield function uc(h,u){return xi.apply(this,arguments)}(c._delegate,u),c})()}updateEmail(u){return function os(h,u){return Qa((0,x.m9)(h),u,null)}(this._delegate,u)}updatePassword(u){return function ea(h,u){return Qa((0,x.m9)(h),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function Lr(h,u){return ol.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function nu(h,u){return ru.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,c){return function qa(h,u,c){return To.apply(this,arguments)}(this._delegate,u,c)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ys.USER_MAP=new WeakMap;const Dl=Ce;let wr=(()=>{class h{constructor(c,g){if(this.app=c,g.isInitialized())return this._delegate=g.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=c.options;Dl(D,"invalid-api-key",{appName:c.name}),Dl(D,"invalid-api-key",{appName:c.name});const T="undefined"!=typeof window?zi:void 0;this._delegate=g.initialize({options:{persistence:$c(D,c.name),popupRedirectResolver:T}}),this._delegate._updateErrorMap(Ut),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ys.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(c){this._delegate.languageCode=c}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(c){this._delegate.tenantId=c}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(c,g){!function tc(h,u,c){const g=Ht(h);Ce(g._canInitEmulator,g,"emulator-config-failed"),Ce(/^https?:\/\//.test(u),g,"invalid-emulator-scheme");const D=!!(null==c?void 0:c.disableWarnings),T=nc(u),{host:F,port:Q}=function Sr(h){const u=nc(h),c=/(\/\/)?([^?#/]+)/.exec(h.substr(u.length));if(!c)return{host:"",port:null};const g=c[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(g);if(D){const T=D[1];return{host:T,port:rc(g.substr(T.length+1))}}{const[T,F]=g.split(":");return{host:T,port:rc(F)}}}(u);g.config.emulator={url:`${T}//${F}${null===Q?"":`:${Q}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:F,port:Q,protocol:T.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function md(){function h(){const u=document.createElement("p"),c=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",c.position="fixed",c.width="100%",c.backgroundColor="#ffffff",c.border=".1em solid #000000",c.color="#b50000",c.bottom="0px",c.left="0px",c.margin="0px",c.zIndex="10000",c.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",h):h())}()}(this._delegate,c,g)}applyActionCode(c){return function Jl(h,u){return Jo.apply(this,arguments)}(this._delegate,c)}checkActionCode(c){return Xo(this._delegate,c)}confirmPasswordReset(c,g){return function qo(h,u,c){return Qo.apply(this,arguments)}(this._delegate,c,g)}createUserWithEmailAndPassword(c,g){var D=this;return(0,v.Z)(function*(){return jr(D._delegate,function cc(h,u,c){return Bs.apply(this,arguments)}(D._delegate,c,g))})()}fetchProvidersForEmail(c){return this.fetchSignInMethodsForEmail(c)}fetchSignInMethodsForEmail(c){return function vd(h,u){return bo.apply(this,arguments)}(this._delegate,c)}isSignInWithEmailLink(c){return function Fn(h,u){const c=ai.parseLink(u);return"EMAIL_SIGNIN"===(null==c?void 0:c.operation)}(0,c)}getRedirectResult(){var c=this;return(0,v.Z)(function*(){Dl(yl(),c._delegate,"operation-not-supported-in-this-environment");const g=yield function Ui(h,u){return Tc.apply(this,arguments)}(c._delegate,zi);return g?jr(c._delegate,Promise.resolve(g)):{credential:null,user:null}})()}addFrameworkForLogging(c){!function gt(h,u){Ht(h)._logFramework(u)}(this._delegate,c)}onAuthStateChanged(c,g,D){const{next:T,error:F,complete:Q}=Uo(c,g,D);return this._delegate.onAuthStateChanged(T,F,Q)}onIdTokenChanged(c,g,D){const{next:T,error:F,complete:Q}=Uo(c,g,D);return this._delegate.onIdTokenChanged(T,F,Q)}sendSignInLinkToEmail(c,g){return function dc(h,u,c){return Co.apply(this,arguments)}(this._delegate,c,g)}sendPasswordResetEmail(c,g){return function Ka(h,u,c){return wo.apply(this,arguments)}(this._delegate,c,g||void 0)}setPersistence(c){var g=this;return(0,v.Z)(function*(){let D;switch(function Gi(h,u){Ys(Object.values(Ur).includes(u),h,"invalid-persistence-type"),(0,x.b$)()?Ys(u!==Ur.SESSION,h,"unsupported-persistence-type"):(0,x.UG)()?Ys(u===Ur.NONE,h,"unsupported-persistence-type"):Au()?Ys(u===Ur.NONE||u===Ur.LOCAL&&(0,x.hl)(),h,"unsupported-persistence-type"):Ys(u===Ur.NONE||_l(),h,"unsupported-persistence-type")}(g._delegate,c),c){case Ur.SESSION:D=Kn;break;case Ur.LOCAL:D=(yield jt(er)._isAvailable())?er:Us;break;case Ur.NONE:D=kt;break;default:return Ft("argument-error",{appName:g._delegate.name})}return g._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(c){return this.signInWithCredential(c)}signInAnonymously(){return jr(this._delegate,function lc(h){return Ko.apply(this,arguments)}(this._delegate))}signInWithCredential(c){return jr(this._delegate,Os(this._delegate,c))}signInWithCustomToken(c){return jr(this._delegate,function Fs(h,u){return ur.apply(this,arguments)}(this._delegate,c))}signInWithEmailAndPassword(c,g){return jr(this._delegate,function cr(h,u,c){return Os((0,x.m9)(h),vo.credential(u,c))}(this._delegate,c,g))}signInWithEmailLink(c,g){return jr(this._delegate,function ki(h,u,c){return an.apply(this,arguments)}(this._delegate,c,g))}signInWithPhoneNumber(c,g){return Ru(this._delegate,function Ic(h,u,c){return fa.apply(this,arguments)}(this._delegate,c,g))}signInWithPopup(c){var g=this;return(0,v.Z)(function*(){return Dl(yl(),g._delegate,"operation-not-supported-in-this-environment"),jr(g._delegate,function A(h,u,c){return k.apply(this,arguments)}(g._delegate,c,zi))})()}signInWithRedirect(c){var g=this;return(0,v.Z)(function*(){return Dl(yl(),g._delegate,"operation-not-supported-in-this-environment"),yield _s(g._delegate),function jf(h,u,c){return function Dc(h,u,c){return wc.apply(this,arguments)}(h,u,c)}(g._delegate,c,zi)})()}updateCurrentUser(c){return this._delegate.updateCurrentUser(c)}verifyPasswordResetCode(c){return function Xl(h,u){return Ya.apply(this,arguments)}(this._delegate,c)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return h.Persistence=Ur,h})();function Uo(h,u,c){let g=h;"function"!=typeof h&&({next:g,error:u,complete:c}=h);const D=g;return{next:F=>D(F&&ys.getOrCreate(F)),error:u,complete:c}}function $c(h,u){const c=function El(h,u){const c=Mu();if(!c)return[];const g=_r(vl,h,u);switch(c.getItem(g)){case Ur.NONE:return[kt];case Ur.LOCAL:return[er,Kn];case Ur.SESSION:return[Kn];default:return[]}}(h,u);if("undefined"!=typeof self&&!c.includes(er)&&c.push(er),"undefined"!=typeof window)for(const g of[Us,Kn])c.includes(g)||c.push(g);return c.includes(kt)||c.push(kt),c}class jo{constructor(){this.providerId="phone",this._delegate=new Ir(nh(q.Z.auth()))}static credential(u,c){return Ir.credential(u,c)}verifyPhoneNumber(u,c){return this._delegate.verifyPhoneNumber(u,c)}unwrap(){return this._delegate}}jo.PHONE_SIGN_IN_METHOD=Ir.PHONE_SIGN_IN_METHOD,jo.PROVIDER_ID=Ir.PROVIDER_ID;const Nu=Ce;class fn{constructor(u,c,g=q.Z.app()){var D;Nu(null===(D=g.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:g.name}),this._delegate=new Dn(u,c,g.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ta(h){h.INTERNAL.registerComponent(new it.wA("auth-compat",u=>{const c=u.getProvider("app-compat").getImmediate(),g=u.getProvider("auth");return new wr(c,g)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:vo,FacebookAuthProvider:ql,GithubAuthProvider:li,GoogleAuthProvider:yn,OAuthProvider:gn,SAMLAuthProvider:Rs,PhoneAuthProvider:jo,PhoneMultiFactorGenerator:Pd,RecaptchaVerifier:fn,TwitterAuthProvider:vr,Auth:wr,AuthCredential:ho,Error:x.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),h.registerVersion("@firebase/auth-compat","0.3.0")}(q.Z)},8766:(Ge,he,P)=>{P.d(he,{Lj:()=>Se,X3:()=>Pe});var v=P(5861);let x,re;const ue=new WeakMap,ae=new WeakMap,me=new WeakMap,j=new WeakMap,H=new WeakMap;let Me={get(ge,V,K){if(ge instanceof IDBTransaction){if("done"===V)return ae.get(ge);if("objectStoreNames"===V)return ge.objectStoreNames||me.get(ge);if("store"===V)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return ie(ge[V])},set:(ge,V,K)=>(ge[V]=K,!0),has:(ge,V)=>ge instanceof IDBTransaction&&("done"===V||"store"===V)||V in ge};function le(ge){return"function"==typeof ge?function Ne(ge){return ge!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ce(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ge)?function(...V){return ge.apply(we(this),V),ie(ue.get(this))}:function(...V){return ie(ge.apply(we(this),V))}:function(V,...K){const te=ge.call(we(this),V,...K);return me.set(te,V.sort?V.sort():[V]),ie(te)}}(ge):(ge instanceof IDBTransaction&&function $e(ge){if(ae.has(ge))return;const V=new Promise((K,te)=>{const oe=()=>{ge.removeEventListener("complete",De),ge.removeEventListener("error",J),ge.removeEventListener("abort",J)},De=()=>{K(),oe()},J=()=>{te(ge.error||new DOMException("AbortError","AbortError")),oe()};ge.addEventListener("complete",De),ge.addEventListener("error",J),ge.addEventListener("abort",J)});ae.set(ge,V)}(ge),((ge,V)=>V.some(K=>ge instanceof K))(ge,function ne(){return x||(x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ge,Me):ge)}function ie(ge){if(ge instanceof IDBRequest)return function ee(ge){const V=new Promise((K,te)=>{const oe=()=>{ge.removeEventListener("success",De),ge.removeEventListener("error",J)},De=()=>{K(ie(ge.result)),oe()},J=()=>{te(ge.error),oe()};ge.addEventListener("success",De),ge.addEventListener("error",J)});return V.then(K=>{K instanceof IDBCursor&&ue.set(K,ge)}).catch(()=>{}),H.set(V,ge),V}(ge);if(j.has(ge))return j.get(ge);const V=le(ge);return V!==ge&&(j.set(ge,V),H.set(V,ge)),V}const we=ge=>H.get(ge);function Pe(ge,V,{blocked:K,upgrade:te,blocking:oe,terminated:De}={}){const J=indexedDB.open(ge,V),it=ie(J);return te&&J.addEventListener("upgradeneeded",It=>{te(ie(J.result),It.oldVersion,It.newVersion,ie(J.transaction))}),K&&J.addEventListener("blocked",()=>K()),it.then(It=>{De&&It.addEventListener("close",()=>De()),oe&&It.addEventListener("versionchange",()=>oe())}).catch(()=>{}),it}function Se(ge,{blocked:V}={}){const K=indexedDB.deleteDatabase(ge);return V&&K.addEventListener("blocked",()=>V()),ie(K).then(()=>{})}const Ue=["get","getKey","getAll","getAllKeys","count"],Ie=["put","add","delete","clear"],Ze=new Map;function je(ge,V){if(!(ge instanceof IDBDatabase)||V in ge||"string"!=typeof V)return;if(Ze.get(V))return Ze.get(V);const K=V.replace(/FromIndex$/,""),te=V!==K,oe=Ie.includes(K);if(!(K in(te?IDBIndex:IDBObjectStore).prototype)||!oe&&!Ue.includes(K))return;const De=function(){var J=(0,v.Z)(function*(it,...It){const hn=this.transaction(it,oe?"readwrite":"readonly");let ze=hn.store;return te&&(ze=ze.index(It.shift())),(yield Promise.all([ze[K](...It),oe&&hn.done]))[0]});return function(It){return J.apply(this,arguments)}}();return Ze.set(V,De),De}!function Ae(ge){Me=ge(Me)}(ge=>b0(C0({},ge),{get:(V,K,te)=>je(V,K)||ge.get(V,K,te),has:(V,K)=>!!je(V,K)||ge.has(V,K)}))},5861:(Ge,he,P)=>{function v(x,re,ne,ce,ue,ae,me){try{var j=x[ae](me),H=j.value}catch(ee){return void ne(ee)}j.done?re(H):Promise.resolve(H).then(ce,ue)}function q(x){return function(){var re=this,ne=arguments;return new Promise(function(ce,ue){var ae=x.apply(re,ne);function me(H){v(ae,ce,ue,me,j,"next",H)}function j(H){v(ae,ce,ue,me,j,"throw",H)}me(void 0)})}}P.d(he,{Z:()=>q})}},Ge=>{Ge(Ge.s=4177)}]);